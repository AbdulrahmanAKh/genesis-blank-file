function yP(s,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in s)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(s,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function Xx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function jP(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var a=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return s[n]}})}),r}var xp={exports:{}},lc={},gp={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function wP(){if(kw)return wt;kw=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=p&&I[p]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,v={};function y(I,X,ye){this.props=I,this.context=X,this.refs=v,this.updater=ye||w}y.prototype.isReactComponent={},y.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},y.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function b(){}b.prototype=y.prototype;function _(I,X,ye){this.props=I,this.context=X,this.refs=v,this.updater=ye||w}var k=_.prototype=new b;k.constructor=_,S(k,y.prototype),k.isPureReactComponent=!0;var E=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function U(I,X,ye){var me,Le={},qe=null,ie=null;if(X!=null)for(me in X.ref!==void 0&&(ie=X.ref),X.key!==void 0&&(qe=""+X.key),X)P.call(X,me)&&!D.hasOwnProperty(me)&&(Le[me]=X[me]);var Te=arguments.length-2;if(Te===1)Le.children=ye;else if(1<Te){for(var Ve=Array(Te),Ne=0;Ne<Te;Ne++)Ve[Ne]=arguments[Ne+2];Le.children=Ve}if(I&&I.defaultProps)for(me in Te=I.defaultProps,Te)Le[me]===void 0&&(Le[me]=Te[me]);return{$$typeof:s,type:I,key:qe,ref:ie,props:Le,_owner:R.current}}function V(I,X){return{$$typeof:s,type:I.type,key:X,ref:I.ref,props:I.props,_owner:I._owner}}function te(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function oe(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ye){return X[ye]})}var K=/\/+/g;function ce(I,X){return typeof I=="object"&&I!==null&&I.key!=null?oe(""+I.key):X.toString(36)}function H(I,X,ye,me,Le){var qe=typeof I;(qe==="undefined"||qe==="boolean")&&(I=null);var ie=!1;if(I===null)ie=!0;else switch(qe){case"string":case"number":ie=!0;break;case"object":switch(I.$$typeof){case s:case t:ie=!0}}if(ie)return ie=I,Le=Le(ie),I=me===""?"."+ce(ie,0):me,E(Le)?(ye="",I!=null&&(ye=I.replace(K,"$&/")+"/"),H(Le,X,ye,"",function(Ne){return Ne})):Le!=null&&(te(Le)&&(Le=V(Le,ye+(!Le.key||ie&&ie.key===Le.key?"":(""+Le.key).replace(K,"$&/")+"/")+I)),X.push(Le)),1;if(ie=0,me=me===""?".":me+":",E(I))for(var Te=0;Te<I.length;Te++){qe=I[Te];var Ve=me+ce(qe,Te);ie+=H(qe,X,ye,Ve,Le)}else if(Ve=j(I),typeof Ve=="function")for(I=Ve.call(I),Te=0;!(qe=I.next()).done;)qe=qe.value,Ve=me+ce(qe,Te++),ie+=H(qe,X,ye,Ve,Le);else if(qe==="object")throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ie}function ve(I,X,ye){if(I==null)return I;var me=[],Le=0;return H(I,me,"","",function(qe){return X.call(ye,qe,Le++)}),me}function ue(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(ye){(I._status===0||I._status===-1)&&(I._status=1,I._result=ye)},function(ye){(I._status===0||I._status===-1)&&(I._status=2,I._result=ye)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var Y={current:null},F={transition:null},W={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:F,ReactCurrentOwner:R};function le(){throw Error("act(...) is not supported in production builds of React.")}return wt.Children={map:ve,forEach:function(I,X,ye){ve(I,function(){X.apply(this,arguments)},ye)},count:function(I){var X=0;return ve(I,function(){X++}),X},toArray:function(I){return ve(I,function(X){return X})||[]},only:function(I){if(!te(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},wt.Component=y,wt.Fragment=r,wt.Profiler=a,wt.PureComponent=_,wt.StrictMode=n,wt.Suspense=h,wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,wt.act=le,wt.cloneElement=function(I,X,ye){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var me=S({},I.props),Le=I.key,qe=I.ref,ie=I._owner;if(X!=null){if(X.ref!==void 0&&(qe=X.ref,ie=R.current),X.key!==void 0&&(Le=""+X.key),I.type&&I.type.defaultProps)var Te=I.type.defaultProps;for(Ve in X)P.call(X,Ve)&&!D.hasOwnProperty(Ve)&&(me[Ve]=X[Ve]===void 0&&Te!==void 0?Te[Ve]:X[Ve])}var Ve=arguments.length-2;if(Ve===1)me.children=ye;else if(1<Ve){Te=Array(Ve);for(var Ne=0;Ne<Ve;Ne++)Te[Ne]=arguments[Ne+2];me.children=Te}return{$$typeof:s,type:I.type,key:Le,ref:qe,props:me,_owner:ie}},wt.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},wt.createElement=U,wt.createFactory=function(I){var X=U.bind(null,I);return X.type=I,X},wt.createRef=function(){return{current:null}},wt.forwardRef=function(I){return{$$typeof:d,render:I}},wt.isValidElement=te,wt.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:ue}},wt.memo=function(I,X){return{$$typeof:f,type:I,compare:X===void 0?null:X}},wt.startTransition=function(I){var X=F.transition;F.transition={};try{I()}finally{F.transition=X}},wt.unstable_act=le,wt.useCallback=function(I,X){return Y.current.useCallback(I,X)},wt.useContext=function(I){return Y.current.useContext(I)},wt.useDebugValue=function(){},wt.useDeferredValue=function(I){return Y.current.useDeferredValue(I)},wt.useEffect=function(I,X){return Y.current.useEffect(I,X)},wt.useId=function(){return Y.current.useId()},wt.useImperativeHandle=function(I,X,ye){return Y.current.useImperativeHandle(I,X,ye)},wt.useInsertionEffect=function(I,X){return Y.current.useInsertionEffect(I,X)},wt.useLayoutEffect=function(I,X){return Y.current.useLayoutEffect(I,X)},wt.useMemo=function(I,X){return Y.current.useMemo(I,X)},wt.useReducer=function(I,X,ye){return Y.current.useReducer(I,X,ye)},wt.useRef=function(I){return Y.current.useRef(I)},wt.useState=function(I){return Y.current.useState(I)},wt.useSyncExternalStore=function(I,X,ye){return Y.current.useSyncExternalStore(I,X,ye)},wt.useTransition=function(){return Y.current.useTransition()},wt.version="18.3.1",wt}var Cw;function Ah(){return Cw||(Cw=1,gp.exports=wP()),gp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function bP(){if(Ew)return lc;Ew=1;var s=Ah(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,f){var m,p={},j=null,w=null;f!==void 0&&(j=""+f),h.key!==void 0&&(j=""+h.key),h.ref!==void 0&&(w=h.ref);for(m in h)n.call(h,m)&&!o.hasOwnProperty(m)&&(p[m]=h[m]);if(d&&d.defaultProps)for(m in h=d.defaultProps,h)p[m]===void 0&&(p[m]=h[m]);return{$$typeof:t,type:d,key:j,ref:w,props:p,_owner:a.current}}return lc.Fragment=r,lc.jsx=c,lc.jsxs=c,lc}var Pw;function NP(){return Pw||(Pw=1,xp.exports=bP()),xp.exports}var e=NP(),ku={},vp={exports:{}},yr={},yp={exports:{}},jp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function _P(){return Tw||(Tw=1,(function(s){function t(F,W){var le=F.length;F.push(W);e:for(;0<le;){var I=le-1>>>1,X=F[I];if(0<a(X,W))F[I]=W,F[le]=X,le=I;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var W=F[0],le=F.pop();if(le!==W){F[0]=le;e:for(var I=0,X=F.length,ye=X>>>1;I<ye;){var me=2*(I+1)-1,Le=F[me],qe=me+1,ie=F[qe];if(0>a(Le,le))qe<X&&0>a(ie,Le)?(F[I]=ie,F[qe]=le,I=qe):(F[I]=Le,F[me]=le,I=me);else if(qe<X&&0>a(ie,le))F[I]=ie,F[qe]=le,I=qe;else break e}}return W}function a(F,W){var le=F.sortIndex-W.sortIndex;return le!==0?le:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();s.unstable_now=function(){return c.now()-d}}var h=[],f=[],m=1,p=null,j=3,w=!1,S=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(F){for(var W=r(f);W!==null;){if(W.callback===null)n(f);else if(W.startTime<=F)n(f),W.sortIndex=W.expirationTime,t(h,W);else break;W=r(f)}}function E(F){if(v=!1,k(F),!S)if(r(h)!==null)S=!0,ue(P);else{var W=r(f);W!==null&&Y(E,W.startTime-F)}}function P(F,W){S=!1,v&&(v=!1,b(U),U=-1),w=!0;var le=j;try{for(k(W),p=r(h);p!==null&&(!(p.expirationTime>W)||F&&!oe());){var I=p.callback;if(typeof I=="function"){p.callback=null,j=p.priorityLevel;var X=I(p.expirationTime<=W);W=s.unstable_now(),typeof X=="function"?p.callback=X:p===r(h)&&n(h),k(W)}else n(h);p=r(h)}if(p!==null)var ye=!0;else{var me=r(f);me!==null&&Y(E,me.startTime-W),ye=!1}return ye}finally{p=null,j=le,w=!1}}var R=!1,D=null,U=-1,V=5,te=-1;function oe(){return!(s.unstable_now()-te<V)}function K(){if(D!==null){var F=s.unstable_now();te=F;var W=!0;try{W=D(!0,F)}finally{W?ce():(R=!1,D=null)}}else R=!1}var ce;if(typeof _=="function")ce=function(){_(K)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ve=H.port2;H.port1.onmessage=K,ce=function(){ve.postMessage(null)}}else ce=function(){y(K,0)};function ue(F){D=F,R||(R=!0,ce())}function Y(F,W){U=y(function(){F(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_continueExecution=function(){S||w||(S=!0,ue(P))},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_getFirstCallbackNode=function(){return r(h)},s.unstable_next=function(F){switch(j){case 1:case 2:case 3:var W=3;break;default:W=j}var le=j;j=W;try{return F()}finally{j=le}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var le=j;j=F;try{return W()}finally{j=le}},s.unstable_scheduleCallback=function(F,W,le){var I=s.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?I+le:I):le=I,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,F={id:m++,callback:W,priorityLevel:F,startTime:le,expirationTime:X,sortIndex:-1},le>I?(F.sortIndex=le,t(f,F),r(h)===null&&F===r(f)&&(v?(b(U),U=-1):v=!0,Y(E,le-I))):(F.sortIndex=X,t(h,F),S||w||(S=!0,ue(P))),F},s.unstable_shouldYield=oe,s.unstable_wrapCallback=function(F){var W=j;return function(){var le=j;j=W;try{return F.apply(this,arguments)}finally{j=le}}}})(jp)),jp}var Rw;function SP(){return Rw||(Rw=1,yp.exports=_P()),yp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function kP(){if(Aw)return yr;Aw=1;var s=Ah(),t=SP();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function o(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(a[i]=l,i=0;i<l.length;i++)n.add(l[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function j(i){return h.call(p,i)?!0:h.call(m,i)?!1:f.test(i)?p[i]=!0:(m[i]=!0,!1)}function w(i,l,u,g){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,l,u,g){if(l===null||typeof l>"u"||w(i,l,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function v(i,l,u,g,N,C,T){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=N,this.mustUseProperty=u,this.propertyName=i,this.type=l,this.sanitizeURL=C,this.removeEmptyString=T}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){y[i]=new v(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];y[l]=new v(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){y[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){y[i]=new v(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){y[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){y[i]=new v(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){y[i]=new v(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){y[i]=new v(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){y[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function _(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(b,_);y[l]=new v(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(b,_);y[l]=new v(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(b,_);y[l]=new v(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){y[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){y[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,l,u,g){var N=y.hasOwnProperty(l)?y[l]:null;(N!==null?N.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,u,N,g)&&(u=null),g||N===null?j(l)&&(u===null?i.removeAttribute(l):i.setAttribute(l,""+u)):N.mustUseProperty?i[N.propertyName]=u===null?N.type===3?!1:"":u:(l=N.attributeName,g=N.attributeNamespace,u===null?i.removeAttribute(l):(N=N.type,u=N===3||N===4&&u===!0?"":""+u,g?i.setAttributeNS(g,l,u):i.setAttribute(l,u))))}var E=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),oe=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),F=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,I;function X(i){if(I===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);I=l&&l[1]||""}return`
`+I+i}var ye=!1;function me(i,l){if(!i||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(re){var g=re}Reflect.construct(i,[],l)}else{try{l.call()}catch(re){g=re}i.call(l.prototype)}else{try{throw Error()}catch(re){g=re}i()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var N=re.stack.split(`
`),C=g.stack.split(`
`),T=N.length-1,M=C.length-1;1<=T&&0<=M&&N[T]!==C[M];)M--;for(;1<=T&&0<=M;T--,M--)if(N[T]!==C[M]){if(T!==1||M!==1)do if(T--,M--,0>M||N[T]!==C[M]){var z=`
`+N[T].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=T&&0<=M);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?X(i):""}function Le(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=me(i.type,!1),i;case 11:return i=me(i.type.render,!1),i;case 1:return i=me(i.type,!0),i;default:return""}}function qe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case R:return"Portal";case V:return"Profiler";case U:return"StrictMode";case ce:return"Suspense";case H:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case oe:return(i.displayName||"Context")+".Consumer";case te:return(i._context.displayName||"Context")+".Provider";case K:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ve:return l=i.displayName||null,l!==null?l:qe(i.type)||"Memo";case ue:l=i._payload,i=i._init;try{return qe(i(l))}catch{}}return null}function ie(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qe(l);case 8:return l===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Te(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ve(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ne(i){var l=Ve(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var N=u.get,C=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return N.call(this)},set:function(T){g=""+T,C.call(this,T)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(T){g=""+T},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function $e(i){i._valueTracker||(i._valueTracker=Ne(i))}function _e(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),g="";return i&&(g=Ve(i)?i.checked?"true":"false":i.value),i=g,i!==u?(l.setValue(i),!0):!1}function Xe(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function pt(i,l){var u=l.checked;return le({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Et(i,l){var u=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;u=Te(l.value!=null?l.value:u),i._wrapperState={initialChecked:g,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Wt(i,l){l=l.checked,l!=null&&k(i,"checked",l,!1)}function Zt(i,l){Wt(i,l);var u=Te(l.value),g=l.type;if(u!=null)g==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?ls(i,l.type,u):l.hasOwnProperty("defaultValue")&&ls(i,l.type,Te(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Ns(i,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,u||l===i.value||(i.value=l),i.defaultValue=l}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function ls(i,l,u){(l!=="number"||Xe(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var O=Array.isArray;function G(i,l,u,g){if(i=i.options,l){l={};for(var N=0;N<u.length;N++)l["$"+u[N]]=!0;for(u=0;u<i.length;u++)N=l.hasOwnProperty("$"+i[u].value),i[u].selected!==N&&(i[u].selected=N),N&&g&&(i[u].defaultSelected=!0)}else{for(u=""+Te(u),l=null,N=0;N<i.length;N++){if(i[N].value===u){i[N].selected=!0,g&&(i[N].defaultSelected=!0);return}l!==null||i[N].disabled||(l=i[N])}l!==null&&(l.selected=!0)}}function ae(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return le({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ke(i,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(r(92));if(O(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),u=l}i._wrapperState={initialValue:Te(u)}}function Ce(i,l){var u=Te(l.value),g=Te(l.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),l.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),g!=null&&(i.defaultValue=""+g)}function je(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function ne(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ie(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?ne(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mt,Xt=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,u,g,N){MSApp.execUnsafeLocalFunction(function(){return i(l,u,g,N)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(mt=mt||document.createElement("div"),mt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=mt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Ht(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var Jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gr=["Webkit","ms","Moz","O"];Object.keys(Jt).forEach(function(i){Gr.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Jt[l]=Jt[i]})});function Ws(i,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||Jt.hasOwnProperty(i)&&Jt[i]?(""+l).trim():l+"px"}function Hs(i,l){i=i.style;for(var u in l)if(l.hasOwnProperty(u)){var g=u.indexOf("--")===0,N=Ws(u,l[u],g);u==="float"&&(u="cssFloat"),g?i.setProperty(u,N):i[u]=N}}var In=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gs(i,l){if(l){if(In[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function cn(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kr=null;function dn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ln=null,Mr=null,ir=null;function Zs(i){if(i=Gl(i)){if(typeof Ln!="function")throw Error(r(280));var l=i.stateNode;l&&(l=Ud(l),Ln(i.stateNode,i.type,l))}}function ee(i){Mr?ir?ir.push(i):ir=[i]:Mr=i}function pe(){if(Mr){var i=Mr,l=ir;if(ir=Mr=null,Zs(i),l)for(i=0;i<l.length;i++)Zs(l[i])}}function Ye(i,l){return i(l)}function at(){}var It=!1;function hs(i,l,u){if(It)return i(l,u);It=!0;try{return Ye(i,l,u)}finally{It=!1,(Mr!==null||ir!==null)&&(at(),pe())}}function Fs(i,l){var u=i.stateNode;if(u===null)return null;var g=Ud(u);if(g===null)return null;u=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var un=!1;if(d)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){un=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{un=!1}function Fn(i,l,u,g,N,C,T,M,z){var re=Array.prototype.slice.call(arguments,3);try{l.apply(u,re)}catch(xe){this.onError(xe)}}var El=!1,yd=null,jd=!1,Of=null,kE={onError:function(i){El=!0,yd=i}};function CE(i,l,u,g,N,C,T,M,z){El=!1,yd=null,Fn.apply(kE,arguments)}function EE(i,l,u,g,N,C,T,M,z){if(CE.apply(this,arguments),El){if(El){var re=yd;El=!1,yd=null}else throw Error(r(198));jd||(jd=!0,Of=re)}}function Ni(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function Yv(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Qv(i){if(Ni(i)!==i)throw Error(r(188))}function PE(i){var l=i.alternate;if(!l){if(l=Ni(i),l===null)throw Error(r(188));return l!==i?null:i}for(var u=i,g=l;;){var N=u.return;if(N===null)break;var C=N.alternate;if(C===null){if(g=N.return,g!==null){u=g;continue}break}if(N.child===C.child){for(C=N.child;C;){if(C===u)return Qv(N),i;if(C===g)return Qv(N),l;C=C.sibling}throw Error(r(188))}if(u.return!==g.return)u=N,g=C;else{for(var T=!1,M=N.child;M;){if(M===u){T=!0,u=N,g=C;break}if(M===g){T=!0,g=N,u=C;break}M=M.sibling}if(!T){for(M=C.child;M;){if(M===u){T=!0,u=C,g=N;break}if(M===g){T=!0,g=C,u=N;break}M=M.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==g)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:l}function Zv(i){return i=PE(i),i!==null?Xv(i):null}function Xv(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Xv(i);if(l!==null)return l;i=i.sibling}return null}var Jv=t.unstable_scheduleCallback,ey=t.unstable_cancelCallback,TE=t.unstable_shouldYield,RE=t.unstable_requestPaint,gs=t.unstable_now,AE=t.unstable_getCurrentPriorityLevel,If=t.unstable_ImmediatePriority,ty=t.unstable_UserBlockingPriority,wd=t.unstable_NormalPriority,DE=t.unstable_LowPriority,sy=t.unstable_IdlePriority,bd=null,$n=null;function ME(i){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(bd,i,void 0,(i.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:LE,OE=Math.log,IE=Math.LN2;function LE(i){return i>>>=0,i===0?32:31-(OE(i)/IE|0)|0}var Nd=64,_d=4194304;function Pl(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Sd(i,l){var u=i.pendingLanes;if(u===0)return 0;var g=0,N=i.suspendedLanes,C=i.pingedLanes,T=u&268435455;if(T!==0){var M=T&~N;M!==0?g=Pl(M):(C&=T,C!==0&&(g=Pl(C)))}else T=u&~N,T!==0?g=Pl(T):C!==0&&(g=Pl(C));if(g===0)return 0;if(l!==0&&l!==g&&(l&N)===0&&(N=g&-g,C=l&-l,N>=C||N===16&&(C&4194240)!==0))return l;if((g&4)!==0&&(g|=u&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)u=31-hn(l),N=1<<u,g|=i[u],l&=~N;return g}function FE(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $E(i,l){for(var u=i.suspendedLanes,g=i.pingedLanes,N=i.expirationTimes,C=i.pendingLanes;0<C;){var T=31-hn(C),M=1<<T,z=N[T];z===-1?((M&u)===0||(M&g)!==0)&&(N[T]=FE(M,l)):z<=l&&(i.expiredLanes|=M),C&=~M}}function Lf(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ry(){var i=Nd;return Nd<<=1,(Nd&4194240)===0&&(Nd=64),i}function Ff(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function Tl(i,l,u){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-hn(l),i[l]=u}function zE(i,l){var u=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<u;){var N=31-hn(u),C=1<<N;l[N]=0,g[N]=-1,i[N]=-1,u&=~C}}function $f(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var g=31-hn(u),N=1<<g;N&l|i[g]&l&&(i[g]|=l),u&=~N}}var zt=0;function ny(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ay,zf,iy,oy,ly,Uf=!1,kd=[],Ea=null,Pa=null,Ta=null,Rl=new Map,Al=new Map,Ra=[],UE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cy(i,l){switch(i){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Rl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(l.pointerId)}}function Dl(i,l,u,g,N,C){return i===null||i.nativeEvent!==C?(i={blockedOn:l,domEventName:u,eventSystemFlags:g,nativeEvent:C,targetContainers:[N]},l!==null&&(l=Gl(l),l!==null&&zf(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,N!==null&&l.indexOf(N)===-1&&l.push(N),i)}function BE(i,l,u,g,N){switch(l){case"focusin":return Ea=Dl(Ea,i,l,u,g,N),!0;case"dragenter":return Pa=Dl(Pa,i,l,u,g,N),!0;case"mouseover":return Ta=Dl(Ta,i,l,u,g,N),!0;case"pointerover":var C=N.pointerId;return Rl.set(C,Dl(Rl.get(C)||null,i,l,u,g,N)),!0;case"gotpointercapture":return C=N.pointerId,Al.set(C,Dl(Al.get(C)||null,i,l,u,g,N)),!0}return!1}function dy(i){var l=_i(i.target);if(l!==null){var u=Ni(l);if(u!==null){if(l=u.tag,l===13){if(l=Yv(u),l!==null){i.blockedOn=l,ly(i.priority,function(){iy(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cd(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=qf(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var g=new u.constructor(u.type,u);Kr=g,u.target.dispatchEvent(g),Kr=null}else return l=Gl(u),l!==null&&zf(l),i.blockedOn=u,!1;l.shift()}return!0}function uy(i,l,u){Cd(i)&&u.delete(l)}function qE(){Uf=!1,Ea!==null&&Cd(Ea)&&(Ea=null),Pa!==null&&Cd(Pa)&&(Pa=null),Ta!==null&&Cd(Ta)&&(Ta=null),Rl.forEach(uy),Al.forEach(uy)}function Ml(i,l){i.blockedOn===l&&(i.blockedOn=null,Uf||(Uf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qE)))}function Ol(i){function l(N){return Ml(N,i)}if(0<kd.length){Ml(kd[0],i);for(var u=1;u<kd.length;u++){var g=kd[u];g.blockedOn===i&&(g.blockedOn=null)}}for(Ea!==null&&Ml(Ea,i),Pa!==null&&Ml(Pa,i),Ta!==null&&Ml(Ta,i),Rl.forEach(l),Al.forEach(l),u=0;u<Ra.length;u++)g=Ra[u],g.blockedOn===i&&(g.blockedOn=null);for(;0<Ra.length&&(u=Ra[0],u.blockedOn===null);)dy(u),u.blockedOn===null&&Ra.shift()}var lo=E.ReactCurrentBatchConfig,Ed=!0;function VE(i,l,u,g){var N=zt,C=lo.transition;lo.transition=null;try{zt=1,Bf(i,l,u,g)}finally{zt=N,lo.transition=C}}function WE(i,l,u,g){var N=zt,C=lo.transition;lo.transition=null;try{zt=4,Bf(i,l,u,g)}finally{zt=N,lo.transition=C}}function Bf(i,l,u,g){if(Ed){var N=qf(i,l,u,g);if(N===null)im(i,l,g,Pd,u),cy(i,g);else if(BE(N,i,l,u,g))g.stopPropagation();else if(cy(i,g),l&4&&-1<UE.indexOf(i)){for(;N!==null;){var C=Gl(N);if(C!==null&&ay(C),C=qf(i,l,u,g),C===null&&im(i,l,g,Pd,u),C===N)break;N=C}N!==null&&g.stopPropagation()}else im(i,l,g,null,u)}}var Pd=null;function qf(i,l,u,g){if(Pd=null,i=dn(g),i=_i(i),i!==null)if(l=Ni(i),l===null)i=null;else if(u=l.tag,u===13){if(i=Yv(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return Pd=i,null}function hy(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AE()){case If:return 1;case ty:return 4;case wd:case DE:return 16;case sy:return 536870912;default:return 16}default:return 16}}var Aa=null,Vf=null,Td=null;function fy(){if(Td)return Td;var i,l=Vf,u=l.length,g,N="value"in Aa?Aa.value:Aa.textContent,C=N.length;for(i=0;i<u&&l[i]===N[i];i++);var T=u-i;for(g=1;g<=T&&l[u-g]===N[C-g];g++);return Td=N.slice(i,1<g?1-g:void 0)}function Rd(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Ad(){return!0}function my(){return!1}function Or(i){function l(u,g,N,C,T){this._reactName=u,this._targetInst=N,this.type=g,this.nativeEvent=C,this.target=T,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(u=i[M],this[M]=u?u(C):C[M]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ad:my,this.isPropagationStopped=my,this}return le(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ad)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ad)},persist:function(){},isPersistent:Ad}),l}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wf=Or(co),Il=le({},co,{view:0,detail:0}),HE=Or(Il),Hf,Gf,Ll,Dd=le({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ll&&(Ll&&i.type==="mousemove"?(Hf=i.screenX-Ll.screenX,Gf=i.screenY-Ll.screenY):Gf=Hf=0,Ll=i),Hf)},movementY:function(i){return"movementY"in i?i.movementY:Gf}}),py=Or(Dd),GE=le({},Dd,{dataTransfer:0}),KE=Or(GE),YE=le({},Il,{relatedTarget:0}),Kf=Or(YE),QE=le({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),ZE=Or(QE),XE=le({},co,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),JE=Or(XE),e4=le({},co,{data:0}),xy=Or(e4),t4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n4(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=r4[i])?!!l[i]:!1}function Yf(){return n4}var a4=le({},Il,{key:function(i){if(i.key){var l=t4[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Rd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?s4[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yf,charCode:function(i){return i.type==="keypress"?Rd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Rd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),i4=Or(a4),o4=le({},Dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gy=Or(o4),l4=le({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yf}),c4=Or(l4),d4=le({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),u4=Or(d4),h4=le({},Dd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),f4=Or(h4),m4=[9,13,27,32],Qf=d&&"CompositionEvent"in window,Fl=null;d&&"documentMode"in document&&(Fl=document.documentMode);var p4=d&&"TextEvent"in window&&!Fl,vy=d&&(!Qf||Fl&&8<Fl&&11>=Fl),yy=" ",jy=!1;function wy(i,l){switch(i){case"keyup":return m4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function by(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var uo=!1;function x4(i,l){switch(i){case"compositionend":return by(l);case"keypress":return l.which!==32?null:(jy=!0,yy);case"textInput":return i=l.data,i===yy&&jy?null:i;default:return null}}function g4(i,l){if(uo)return i==="compositionend"||!Qf&&wy(i,l)?(i=fy(),Td=Vf=Aa=null,uo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return vy&&l.locale!=="ko"?null:l.data;default:return null}}var v4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ny(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!v4[i.type]:l==="textarea"}function _y(i,l,u,g){ee(g),l=Fd(l,"onChange"),0<l.length&&(u=new Wf("onChange","change",null,u,g),i.push({event:u,listeners:l}))}var $l=null,zl=null;function y4(i){By(i,0)}function Md(i){var l=xo(i);if(_e(l))return i}function j4(i,l){if(i==="change")return l}var Sy=!1;if(d){var Zf;if(d){var Xf="oninput"in document;if(!Xf){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),Xf=typeof ky.oninput=="function"}Zf=Xf}else Zf=!1;Sy=Zf&&(!document.documentMode||9<document.documentMode)}function Cy(){$l&&($l.detachEvent("onpropertychange",Ey),zl=$l=null)}function Ey(i){if(i.propertyName==="value"&&Md(zl)){var l=[];_y(l,zl,i,dn(i)),hs(y4,l)}}function w4(i,l,u){i==="focusin"?(Cy(),$l=l,zl=u,$l.attachEvent("onpropertychange",Ey)):i==="focusout"&&Cy()}function b4(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Md(zl)}function N4(i,l){if(i==="click")return Md(l)}function _4(i,l){if(i==="input"||i==="change")return Md(l)}function S4(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var fn=typeof Object.is=="function"?Object.is:S4;function Ul(i,l){if(fn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),g=Object.keys(l);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var N=u[g];if(!h.call(l,N)||!fn(i[N],l[N]))return!1}return!0}function Py(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ty(i,l){var u=Py(i);i=0;for(var g;u;){if(u.nodeType===3){if(g=i+u.textContent.length,i<=l&&g>=l)return{node:u,offset:l-i};i=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Py(u)}}function Ry(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Ry(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Ay(){for(var i=window,l=Xe();l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Xe(i.document)}return l}function Jf(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function k4(i){var l=Ay(),u=i.focusedElem,g=i.selectionRange;if(l!==u&&u&&u.ownerDocument&&Ry(u.ownerDocument.documentElement,u)){if(g!==null&&Jf(u)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(i,u.value.length);else if(i=(l=u.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var N=u.textContent.length,C=Math.min(g.start,N);g=g.end===void 0?C:Math.min(g.end,N),!i.extend&&C>g&&(N=g,g=C,C=N),N=Ty(u,C);var T=Ty(u,g);N&&T&&(i.rangeCount!==1||i.anchorNode!==N.node||i.anchorOffset!==N.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(l=l.createRange(),l.setStart(N.node,N.offset),i.removeAllRanges(),C>g?(i.addRange(l),i.extend(T.node,T.offset)):(l.setEnd(T.node,T.offset),i.addRange(l)))}}for(l=[],i=u;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)i=l[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var C4=d&&"documentMode"in document&&11>=document.documentMode,ho=null,em=null,Bl=null,tm=!1;function Dy(i,l,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;tm||ho==null||ho!==Xe(g)||(g=ho,"selectionStart"in g&&Jf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Bl&&Ul(Bl,g)||(Bl=g,g=Fd(em,"onSelect"),0<g.length&&(l=new Wf("onSelect","select",null,l,u),i.push({event:l,listeners:g}),l.target=ho)))}function Od(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var fo={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionend:Od("Transition","TransitionEnd")},sm={},My={};d&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Id(i){if(sm[i])return sm[i];if(!fo[i])return i;var l=fo[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in My)return sm[i]=l[u];return i}var Oy=Id("animationend"),Iy=Id("animationiteration"),Ly=Id("animationstart"),Fy=Id("transitionend"),$y=new Map,zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(i,l){$y.set(i,l),o(l,[i])}for(var rm=0;rm<zy.length;rm++){var nm=zy[rm],E4=nm.toLowerCase(),P4=nm[0].toUpperCase()+nm.slice(1);Da(E4,"on"+P4)}Da(Oy,"onAnimationEnd"),Da(Iy,"onAnimationIteration"),Da(Ly,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(Fy,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function Uy(i,l,u){var g=i.type||"unknown-event";i.currentTarget=u,EE(g,l,void 0,i),i.currentTarget=null}function By(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var g=i[u],N=g.event;g=g.listeners;e:{var C=void 0;if(l)for(var T=g.length-1;0<=T;T--){var M=g[T],z=M.instance,re=M.currentTarget;if(M=M.listener,z!==C&&N.isPropagationStopped())break e;Uy(N,M,re),C=z}else for(T=0;T<g.length;T++){if(M=g[T],z=M.instance,re=M.currentTarget,M=M.listener,z!==C&&N.isPropagationStopped())break e;Uy(N,M,re),C=z}}}if(jd)throw i=Of,jd=!1,Of=null,i}function rs(i,l){var u=l[hm];u===void 0&&(u=l[hm]=new Set);var g=i+"__bubble";u.has(g)||(qy(l,i,2,!1),u.add(g))}function am(i,l,u){var g=0;l&&(g|=4),qy(u,i,g,l)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Vl(i){if(!i[Ld]){i[Ld]=!0,n.forEach(function(u){u!=="selectionchange"&&(T4.has(u)||am(u,!1,i),am(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Ld]||(l[Ld]=!0,am("selectionchange",!1,l))}}function qy(i,l,u,g){switch(hy(l)){case 1:var N=VE;break;case 4:N=WE;break;default:N=Bf}u=N.bind(null,l,u,i),N=void 0,!un||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(N=!0),g?N!==void 0?i.addEventListener(l,u,{capture:!0,passive:N}):i.addEventListener(l,u,!0):N!==void 0?i.addEventListener(l,u,{passive:N}):i.addEventListener(l,u,!1)}function im(i,l,u,g,N){var C=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var M=g.stateNode.containerInfo;if(M===N||M.nodeType===8&&M.parentNode===N)break;if(T===4)for(T=g.return;T!==null;){var z=T.tag;if((z===3||z===4)&&(z=T.stateNode.containerInfo,z===N||z.nodeType===8&&z.parentNode===N))return;T=T.return}for(;M!==null;){if(T=_i(M),T===null)return;if(z=T.tag,z===5||z===6){g=C=T;continue e}M=M.parentNode}}g=g.return}hs(function(){var re=C,xe=dn(u),we=[];e:{var fe=$y.get(i);if(fe!==void 0){var ze=Wf,He=i;switch(i){case"keypress":if(Rd(u)===0)break e;case"keydown":case"keyup":ze=i4;break;case"focusin":He="focus",ze=Kf;break;case"focusout":He="blur",ze=Kf;break;case"beforeblur":case"afterblur":ze=Kf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=KE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=c4;break;case Oy:case Iy:case Ly:ze=ZE;break;case Fy:ze=u4;break;case"scroll":ze=HE;break;case"wheel":ze=f4;break;case"copy":case"cut":case"paste":ze=JE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=gy}var Ge=(l&4)!==0,vs=!Ge&&i==="scroll",Q=Ge?fe!==null?fe+"Capture":null:fe;Ge=[];for(var q=re,se;q!==null;){se=q;var Ee=se.stateNode;if(se.tag===5&&Ee!==null&&(se=Ee,Q!==null&&(Ee=Fs(q,Q),Ee!=null&&Ge.push(Wl(q,Ee,se)))),vs)break;q=q.return}0<Ge.length&&(fe=new ze(fe,He,null,u,xe),we.push({event:fe,listeners:Ge}))}}if((l&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",ze=i==="mouseout"||i==="pointerout",fe&&u!==Kr&&(He=u.relatedTarget||u.fromElement)&&(_i(He)||He[la]))break e;if((ze||fe)&&(fe=xe.window===xe?xe:(fe=xe.ownerDocument)?fe.defaultView||fe.parentWindow:window,ze?(He=u.relatedTarget||u.toElement,ze=re,He=He?_i(He):null,He!==null&&(vs=Ni(He),He!==vs||He.tag!==5&&He.tag!==6)&&(He=null)):(ze=null,He=re),ze!==He)){if(Ge=py,Ee="onMouseLeave",Q="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Ge=gy,Ee="onPointerLeave",Q="onPointerEnter",q="pointer"),vs=ze==null?fe:xo(ze),se=He==null?fe:xo(He),fe=new Ge(Ee,q+"leave",ze,u,xe),fe.target=vs,fe.relatedTarget=se,Ee=null,_i(xe)===re&&(Ge=new Ge(Q,q+"enter",He,u,xe),Ge.target=se,Ge.relatedTarget=vs,Ee=Ge),vs=Ee,ze&&He)t:{for(Ge=ze,Q=He,q=0,se=Ge;se;se=mo(se))q++;for(se=0,Ee=Q;Ee;Ee=mo(Ee))se++;for(;0<q-se;)Ge=mo(Ge),q--;for(;0<se-q;)Q=mo(Q),se--;for(;q--;){if(Ge===Q||Q!==null&&Ge===Q.alternate)break t;Ge=mo(Ge),Q=mo(Q)}Ge=null}else Ge=null;ze!==null&&Vy(we,fe,ze,Ge,!1),He!==null&&vs!==null&&Vy(we,vs,He,Ge,!0)}}e:{if(fe=re?xo(re):window,ze=fe.nodeName&&fe.nodeName.toLowerCase(),ze==="select"||ze==="input"&&fe.type==="file")var Qe=j4;else if(Ny(fe))if(Sy)Qe=_4;else{Qe=b4;var tt=w4}else(ze=fe.nodeName)&&ze.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Qe=N4);if(Qe&&(Qe=Qe(i,re))){_y(we,Qe,u,xe);break e}tt&&tt(i,fe,re),i==="focusout"&&(tt=fe._wrapperState)&&tt.controlled&&fe.type==="number"&&ls(fe,"number",fe.value)}switch(tt=re?xo(re):window,i){case"focusin":(Ny(tt)||tt.contentEditable==="true")&&(ho=tt,em=re,Bl=null);break;case"focusout":Bl=em=ho=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,Dy(we,u,xe);break;case"selectionchange":if(C4)break;case"keydown":case"keyup":Dy(we,u,xe)}var st;if(Qf)e:{switch(i){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else uo?wy(i,u)&&(dt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(dt="onCompositionStart");dt&&(vy&&u.locale!=="ko"&&(uo||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&uo&&(st=fy()):(Aa=xe,Vf="value"in Aa?Aa.value:Aa.textContent,uo=!0)),tt=Fd(re,dt),0<tt.length&&(dt=new xy(dt,i,null,u,xe),we.push({event:dt,listeners:tt}),st?dt.data=st:(st=by(u),st!==null&&(dt.data=st)))),(st=p4?x4(i,u):g4(i,u))&&(re=Fd(re,"onBeforeInput"),0<re.length&&(xe=new xy("onBeforeInput","beforeinput",null,u,xe),we.push({event:xe,listeners:re}),xe.data=st))}By(we,l)})}function Wl(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Fd(i,l){for(var u=l+"Capture",g=[];i!==null;){var N=i,C=N.stateNode;N.tag===5&&C!==null&&(N=C,C=Fs(i,u),C!=null&&g.unshift(Wl(i,C,N)),C=Fs(i,l),C!=null&&g.push(Wl(i,C,N))),i=i.return}return g}function mo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Vy(i,l,u,g,N){for(var C=l._reactName,T=[];u!==null&&u!==g;){var M=u,z=M.alternate,re=M.stateNode;if(z!==null&&z===g)break;M.tag===5&&re!==null&&(M=re,N?(z=Fs(u,C),z!=null&&T.unshift(Wl(u,z,M))):N||(z=Fs(u,C),z!=null&&T.push(Wl(u,z,M)))),u=u.return}T.length!==0&&i.push({event:l,listeners:T})}var R4=/\r\n?/g,A4=/\u0000|\uFFFD/g;function Wy(i){return(typeof i=="string"?i:""+i).replace(R4,`
`).replace(A4,"")}function $d(i,l,u){if(l=Wy(l),Wy(i)!==l&&u)throw Error(r(425))}function zd(){}var om=null,lm=null;function cm(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var dm=typeof setTimeout=="function"?setTimeout:void 0,D4=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,M4=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(i){return Hy.resolve(null).then(i).catch(O4)}:dm;function O4(i){setTimeout(function(){throw i})}function um(i,l){var u=l,g=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(g===0){i.removeChild(N),Ol(l);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=N}while(u);Ol(l)}function Ma(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Gy(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}var po=Math.random().toString(36).slice(2),zn="__reactFiber$"+po,Hl="__reactProps$"+po,la="__reactContainer$"+po,hm="__reactEvents$"+po,I4="__reactListeners$"+po,L4="__reactHandles$"+po;function _i(i){var l=i[zn];if(l)return l;for(var u=i.parentNode;u;){if(l=u[la]||u[zn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=Gy(i);i!==null;){if(u=i[zn])return u;i=Gy(i)}return l}i=u,u=i.parentNode}return null}function Gl(i){return i=i[zn]||i[la],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function xo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Ud(i){return i[Hl]||null}var fm=[],go=-1;function Oa(i){return{current:i}}function ns(i){0>go||(i.current=fm[go],fm[go]=null,go--)}function es(i,l){go++,fm[go]=i.current,i.current=l}var Ia={},Xs=Oa(Ia),mr=Oa(!1),Si=Ia;function vo(i,l){var u=i.type.contextTypes;if(!u)return Ia;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var N={},C;for(C in u)N[C]=l[C];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=N),N}function pr(i){return i=i.childContextTypes,i!=null}function Bd(){ns(mr),ns(Xs)}function Ky(i,l,u){if(Xs.current!==Ia)throw Error(r(168));es(Xs,l),es(mr,u)}function Yy(i,l,u){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var N in g)if(!(N in l))throw Error(r(108,ie(i)||"Unknown",N));return le({},u,g)}function qd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ia,Si=Xs.current,es(Xs,i),es(mr,mr.current),!0}function Qy(i,l,u){var g=i.stateNode;if(!g)throw Error(r(169));u?(i=Yy(i,l,Si),g.__reactInternalMemoizedMergedChildContext=i,ns(mr),ns(Xs),es(Xs,i)):ns(mr),es(mr,u)}var ca=null,Vd=!1,mm=!1;function Zy(i){ca===null?ca=[i]:ca.push(i)}function F4(i){Vd=!0,Zy(i)}function La(){if(!mm&&ca!==null){mm=!0;var i=0,l=zt;try{var u=ca;for(zt=1;i<u.length;i++){var g=u[i];do g=g(!0);while(g!==null)}ca=null,Vd=!1}catch(N){throw ca!==null&&(ca=ca.slice(i+1)),Jv(If,La),N}finally{zt=l,mm=!1}}return null}var yo=[],jo=0,Wd=null,Hd=0,Yr=[],Qr=0,ki=null,da=1,ua="";function Ci(i,l){yo[jo++]=Hd,yo[jo++]=Wd,Wd=i,Hd=l}function Xy(i,l,u){Yr[Qr++]=da,Yr[Qr++]=ua,Yr[Qr++]=ki,ki=i;var g=da;i=ua;var N=32-hn(g)-1;g&=~(1<<N),u+=1;var C=32-hn(l)+N;if(30<C){var T=N-N%5;C=(g&(1<<T)-1).toString(32),g>>=T,N-=T,da=1<<32-hn(l)+N|u<<N|g,ua=C+i}else da=1<<C|u<<N|g,ua=i}function pm(i){i.return!==null&&(Ci(i,1),Xy(i,1,0))}function xm(i){for(;i===Wd;)Wd=yo[--jo],yo[jo]=null,Hd=yo[--jo],yo[jo]=null;for(;i===ki;)ki=Yr[--Qr],Yr[Qr]=null,ua=Yr[--Qr],Yr[Qr]=null,da=Yr[--Qr],Yr[Qr]=null}var Ir=null,Lr=null,os=!1,mn=null;function Jy(i,l){var u=en(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=i,l=i.deletions,l===null?(i.deletions=[u],i.flags|=16):l.push(u)}function ej(i,l){switch(i.tag){case 5:var u=i.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Ir=i,Lr=Ma(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Ir=i,Lr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=ki!==null?{id:da,overflow:ua}:null,i.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=en(18,null,null,0),u.stateNode=l,u.return=i,i.child=u,Ir=i,Lr=null,!0):!1;default:return!1}}function gm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function vm(i){if(os){var l=Lr;if(l){var u=l;if(!ej(i,l)){if(gm(i))throw Error(r(418));l=Ma(u.nextSibling);var g=Ir;l&&ej(i,l)?Jy(g,u):(i.flags=i.flags&-4097|2,os=!1,Ir=i)}}else{if(gm(i))throw Error(r(418));i.flags=i.flags&-4097|2,os=!1,Ir=i}}}function tj(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ir=i}function Gd(i){if(i!==Ir)return!1;if(!os)return tj(i),os=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!cm(i.type,i.memoizedProps)),l&&(l=Lr)){if(gm(i))throw sj(),Error(r(418));for(;l;)Jy(i,l),l=Ma(l.nextSibling)}if(tj(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(l===0){Lr=Ma(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}i=i.nextSibling}Lr=null}}else Lr=Ir?Ma(i.stateNode.nextSibling):null;return!0}function sj(){for(var i=Lr;i;)i=Ma(i.nextSibling)}function wo(){Lr=Ir=null,os=!1}function ym(i){mn===null?mn=[i]:mn.push(i)}var $4=E.ReactCurrentBatchConfig;function Kl(i,l,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var g=u.stateNode}if(!g)throw Error(r(147,i));var N=g,C=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===C?l.ref:(l=function(T){var M=N.refs;T===null?delete M[C]:M[C]=T},l._stringRef=C,l)}if(typeof i!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,i))}return i}function Kd(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function rj(i){var l=i._init;return l(i._payload)}function nj(i){function l(Q,q){if(i){var se=Q.deletions;se===null?(Q.deletions=[q],Q.flags|=16):se.push(q)}}function u(Q,q){if(!i)return null;for(;q!==null;)l(Q,q),q=q.sibling;return null}function g(Q,q){for(Q=new Map;q!==null;)q.key!==null?Q.set(q.key,q):Q.set(q.index,q),q=q.sibling;return Q}function N(Q,q){return Q=Wa(Q,q),Q.index=0,Q.sibling=null,Q}function C(Q,q,se){return Q.index=se,i?(se=Q.alternate,se!==null?(se=se.index,se<q?(Q.flags|=2,q):se):(Q.flags|=2,q)):(Q.flags|=1048576,q)}function T(Q){return i&&Q.alternate===null&&(Q.flags|=2),Q}function M(Q,q,se,Ee){return q===null||q.tag!==6?(q=dp(se,Q.mode,Ee),q.return=Q,q):(q=N(q,se),q.return=Q,q)}function z(Q,q,se,Ee){var Qe=se.type;return Qe===D?xe(Q,q,se.props.children,Ee,se.key):q!==null&&(q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ue&&rj(Qe)===q.type)?(Ee=N(q,se.props),Ee.ref=Kl(Q,q,se),Ee.return=Q,Ee):(Ee=vu(se.type,se.key,se.props,null,Q.mode,Ee),Ee.ref=Kl(Q,q,se),Ee.return=Q,Ee)}function re(Q,q,se,Ee){return q===null||q.tag!==4||q.stateNode.containerInfo!==se.containerInfo||q.stateNode.implementation!==se.implementation?(q=up(se,Q.mode,Ee),q.return=Q,q):(q=N(q,se.children||[]),q.return=Q,q)}function xe(Q,q,se,Ee,Qe){return q===null||q.tag!==7?(q=Oi(se,Q.mode,Ee,Qe),q.return=Q,q):(q=N(q,se),q.return=Q,q)}function we(Q,q,se){if(typeof q=="string"&&q!==""||typeof q=="number")return q=dp(""+q,Q.mode,se),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case P:return se=vu(q.type,q.key,q.props,null,Q.mode,se),se.ref=Kl(Q,null,q),se.return=Q,se;case R:return q=up(q,Q.mode,se),q.return=Q,q;case ue:var Ee=q._init;return we(Q,Ee(q._payload),se)}if(O(q)||W(q))return q=Oi(q,Q.mode,se,null),q.return=Q,q;Kd(Q,q)}return null}function fe(Q,q,se,Ee){var Qe=q!==null?q.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Qe!==null?null:M(Q,q,""+se,Ee);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case P:return se.key===Qe?z(Q,q,se,Ee):null;case R:return se.key===Qe?re(Q,q,se,Ee):null;case ue:return Qe=se._init,fe(Q,q,Qe(se._payload),Ee)}if(O(se)||W(se))return Qe!==null?null:xe(Q,q,se,Ee,null);Kd(Q,se)}return null}function ze(Q,q,se,Ee,Qe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Q=Q.get(se)||null,M(q,Q,""+Ee,Qe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case P:return Q=Q.get(Ee.key===null?se:Ee.key)||null,z(q,Q,Ee,Qe);case R:return Q=Q.get(Ee.key===null?se:Ee.key)||null,re(q,Q,Ee,Qe);case ue:var tt=Ee._init;return ze(Q,q,se,tt(Ee._payload),Qe)}if(O(Ee)||W(Ee))return Q=Q.get(se)||null,xe(q,Q,Ee,Qe,null);Kd(q,Ee)}return null}function He(Q,q,se,Ee){for(var Qe=null,tt=null,st=q,dt=q=0,Us=null;st!==null&&dt<se.length;dt++){st.index>dt?(Us=st,st=null):Us=st.sibling;var At=fe(Q,st,se[dt],Ee);if(At===null){st===null&&(st=Us);break}i&&st&&At.alternate===null&&l(Q,st),q=C(At,q,dt),tt===null?Qe=At:tt.sibling=At,tt=At,st=Us}if(dt===se.length)return u(Q,st),os&&Ci(Q,dt),Qe;if(st===null){for(;dt<se.length;dt++)st=we(Q,se[dt],Ee),st!==null&&(q=C(st,q,dt),tt===null?Qe=st:tt.sibling=st,tt=st);return os&&Ci(Q,dt),Qe}for(st=g(Q,st);dt<se.length;dt++)Us=ze(st,Q,dt,se[dt],Ee),Us!==null&&(i&&Us.alternate!==null&&st.delete(Us.key===null?dt:Us.key),q=C(Us,q,dt),tt===null?Qe=Us:tt.sibling=Us,tt=Us);return i&&st.forEach(function(Ha){return l(Q,Ha)}),os&&Ci(Q,dt),Qe}function Ge(Q,q,se,Ee){var Qe=W(se);if(typeof Qe!="function")throw Error(r(150));if(se=Qe.call(se),se==null)throw Error(r(151));for(var tt=Qe=null,st=q,dt=q=0,Us=null,At=se.next();st!==null&&!At.done;dt++,At=se.next()){st.index>dt?(Us=st,st=null):Us=st.sibling;var Ha=fe(Q,st,At.value,Ee);if(Ha===null){st===null&&(st=Us);break}i&&st&&Ha.alternate===null&&l(Q,st),q=C(Ha,q,dt),tt===null?Qe=Ha:tt.sibling=Ha,tt=Ha,st=Us}if(At.done)return u(Q,st),os&&Ci(Q,dt),Qe;if(st===null){for(;!At.done;dt++,At=se.next())At=we(Q,At.value,Ee),At!==null&&(q=C(At,q,dt),tt===null?Qe=At:tt.sibling=At,tt=At);return os&&Ci(Q,dt),Qe}for(st=g(Q,st);!At.done;dt++,At=se.next())At=ze(st,Q,dt,At.value,Ee),At!==null&&(i&&At.alternate!==null&&st.delete(At.key===null?dt:At.key),q=C(At,q,dt),tt===null?Qe=At:tt.sibling=At,tt=At);return i&&st.forEach(function(vP){return l(Q,vP)}),os&&Ci(Q,dt),Qe}function vs(Q,q,se,Ee){if(typeof se=="object"&&se!==null&&se.type===D&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case P:e:{for(var Qe=se.key,tt=q;tt!==null;){if(tt.key===Qe){if(Qe=se.type,Qe===D){if(tt.tag===7){u(Q,tt.sibling),q=N(tt,se.props.children),q.return=Q,Q=q;break e}}else if(tt.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ue&&rj(Qe)===tt.type){u(Q,tt.sibling),q=N(tt,se.props),q.ref=Kl(Q,tt,se),q.return=Q,Q=q;break e}u(Q,tt);break}else l(Q,tt);tt=tt.sibling}se.type===D?(q=Oi(se.props.children,Q.mode,Ee,se.key),q.return=Q,Q=q):(Ee=vu(se.type,se.key,se.props,null,Q.mode,Ee),Ee.ref=Kl(Q,q,se),Ee.return=Q,Q=Ee)}return T(Q);case R:e:{for(tt=se.key;q!==null;){if(q.key===tt)if(q.tag===4&&q.stateNode.containerInfo===se.containerInfo&&q.stateNode.implementation===se.implementation){u(Q,q.sibling),q=N(q,se.children||[]),q.return=Q,Q=q;break e}else{u(Q,q);break}else l(Q,q);q=q.sibling}q=up(se,Q.mode,Ee),q.return=Q,Q=q}return T(Q);case ue:return tt=se._init,vs(Q,q,tt(se._payload),Ee)}if(O(se))return He(Q,q,se,Ee);if(W(se))return Ge(Q,q,se,Ee);Kd(Q,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,q!==null&&q.tag===6?(u(Q,q.sibling),q=N(q,se),q.return=Q,Q=q):(u(Q,q),q=dp(se,Q.mode,Ee),q.return=Q,Q=q),T(Q)):u(Q,q)}return vs}var bo=nj(!0),aj=nj(!1),Yd=Oa(null),Qd=null,No=null,jm=null;function wm(){jm=No=Qd=null}function bm(i){var l=Yd.current;ns(Yd),i._currentValue=l}function Nm(i,l,u){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===u)break;i=i.return}}function _o(i,l){Qd=i,jm=No=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(xr=!0),i.firstContext=null)}function Zr(i){var l=i._currentValue;if(jm!==i)if(i={context:i,memoizedValue:l,next:null},No===null){if(Qd===null)throw Error(r(308));No=i,Qd.dependencies={lanes:0,firstContext:i}}else No=No.next=i;return l}var Ei=null;function _m(i){Ei===null?Ei=[i]:Ei.push(i)}function ij(i,l,u,g){var N=l.interleaved;return N===null?(u.next=u,_m(l)):(u.next=N.next,N.next=u),l.interleaved=u,ha(i,g)}function ha(i,l){i.lanes|=l;var u=i.alternate;for(u!==null&&(u.lanes|=l),u=i,i=i.return;i!==null;)i.childLanes|=l,u=i.alternate,u!==null&&(u.childLanes|=l),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Fa=!1;function Sm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oj(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function fa(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function $a(i,l,u){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Pt&2)!==0){var N=g.pending;return N===null?l.next=l:(l.next=N.next,N.next=l),g.pending=l,ha(i,u)}return N=g.interleaved,N===null?(l.next=l,_m(g)):(l.next=N.next,N.next=l),g.interleaved=l,ha(i,u)}function Zd(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,u|=g,l.lanes=u,$f(i,u)}}function lj(i,l){var u=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var N=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};C===null?N=C=T:C=C.next=T,u=u.next}while(u!==null);C===null?N=C=l:C=C.next=l}else N=C=l;u={baseState:g.baseState,firstBaseUpdate:N,lastBaseUpdate:C,shared:g.shared,effects:g.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}function Xd(i,l,u,g){var N=i.updateQueue;Fa=!1;var C=N.firstBaseUpdate,T=N.lastBaseUpdate,M=N.shared.pending;if(M!==null){N.shared.pending=null;var z=M,re=z.next;z.next=null,T===null?C=re:T.next=re,T=z;var xe=i.alternate;xe!==null&&(xe=xe.updateQueue,M=xe.lastBaseUpdate,M!==T&&(M===null?xe.firstBaseUpdate=re:M.next=re,xe.lastBaseUpdate=z))}if(C!==null){var we=N.baseState;T=0,xe=re=z=null,M=C;do{var fe=M.lane,ze=M.eventTime;if((g&fe)===fe){xe!==null&&(xe=xe.next={eventTime:ze,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var He=i,Ge=M;switch(fe=l,ze=u,Ge.tag){case 1:if(He=Ge.payload,typeof He=="function"){we=He.call(ze,we,fe);break e}we=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Ge.payload,fe=typeof He=="function"?He.call(ze,we,fe):He,fe==null)break e;we=le({},we,fe);break e;case 2:Fa=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,fe=N.effects,fe===null?N.effects=[M]:fe.push(M))}else ze={eventTime:ze,lane:fe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},xe===null?(re=xe=ze,z=we):xe=xe.next=ze,T|=fe;if(M=M.next,M===null){if(M=N.shared.pending,M===null)break;fe=M,M=fe.next,fe.next=null,N.lastBaseUpdate=fe,N.shared.pending=null}}while(!0);if(xe===null&&(z=we),N.baseState=z,N.firstBaseUpdate=re,N.lastBaseUpdate=xe,l=N.shared.interleaved,l!==null){N=l;do T|=N.lane,N=N.next;while(N!==l)}else C===null&&(N.shared.lanes=0);Ri|=T,i.lanes=T,i.memoizedState=we}}function cj(i,l,u){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],N=g.callback;if(N!==null){if(g.callback=null,g=u,typeof N!="function")throw Error(r(191,N));N.call(g)}}}var Yl={},Un=Oa(Yl),Ql=Oa(Yl),Zl=Oa(Yl);function Pi(i){if(i===Yl)throw Error(r(174));return i}function km(i,l){switch(es(Zl,l),es(Ql,i),es(Un,Yl),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ie(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Ie(l,i)}ns(Un),es(Un,l)}function So(){ns(Un),ns(Ql),ns(Zl)}function dj(i){Pi(Zl.current);var l=Pi(Un.current),u=Ie(l,i.type);l!==u&&(es(Ql,i),es(Un,u))}function Cm(i){Ql.current===i&&(ns(Un),ns(Ql))}var cs=Oa(0);function Jd(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Em=[];function Pm(){for(var i=0;i<Em.length;i++)Em[i]._workInProgressVersionPrimary=null;Em.length=0}var eu=E.ReactCurrentDispatcher,Tm=E.ReactCurrentBatchConfig,Ti=0,ds=null,Ps=null,$s=null,tu=!1,Xl=!1,Jl=0,z4=0;function Js(){throw Error(r(321))}function Rm(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!fn(i[u],l[u]))return!1;return!0}function Am(i,l,u,g,N,C){if(Ti=C,ds=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,eu.current=i===null||i.memoizedState===null?V4:W4,i=u(g,N),Xl){C=0;do{if(Xl=!1,Jl=0,25<=C)throw Error(r(301));C+=1,$s=Ps=null,l.updateQueue=null,eu.current=H4,i=u(g,N)}while(Xl)}if(eu.current=nu,l=Ps!==null&&Ps.next!==null,Ti=0,$s=Ps=ds=null,tu=!1,l)throw Error(r(300));return i}function Dm(){var i=Jl!==0;return Jl=0,i}function Bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $s===null?ds.memoizedState=$s=i:$s=$s.next=i,$s}function Xr(){if(Ps===null){var i=ds.alternate;i=i!==null?i.memoizedState:null}else i=Ps.next;var l=$s===null?ds.memoizedState:$s.next;if(l!==null)$s=l,Ps=i;else{if(i===null)throw Error(r(310));Ps=i,i={memoizedState:Ps.memoizedState,baseState:Ps.baseState,baseQueue:Ps.baseQueue,queue:Ps.queue,next:null},$s===null?ds.memoizedState=$s=i:$s=$s.next=i}return $s}function ec(i,l){return typeof l=="function"?l(i):l}function Mm(i){var l=Xr(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var g=Ps,N=g.baseQueue,C=u.pending;if(C!==null){if(N!==null){var T=N.next;N.next=C.next,C.next=T}g.baseQueue=N=C,u.pending=null}if(N!==null){C=N.next,g=g.baseState;var M=T=null,z=null,re=C;do{var xe=re.lane;if((Ti&xe)===xe)z!==null&&(z=z.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:i(g,re.action);else{var we={lane:xe,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};z===null?(M=z=we,T=g):z=z.next=we,ds.lanes|=xe,Ri|=xe}re=re.next}while(re!==null&&re!==C);z===null?T=g:z.next=M,fn(g,l.memoizedState)||(xr=!0),l.memoizedState=g,l.baseState=T,l.baseQueue=z,u.lastRenderedState=g}if(i=u.interleaved,i!==null){N=i;do C=N.lane,ds.lanes|=C,Ri|=C,N=N.next;while(N!==i)}else N===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function Om(i){var l=Xr(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var g=u.dispatch,N=u.pending,C=l.memoizedState;if(N!==null){u.pending=null;var T=N=N.next;do C=i(C,T.action),T=T.next;while(T!==N);fn(C,l.memoizedState)||(xr=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),u.lastRenderedState=C}return[C,g]}function uj(){}function hj(i,l){var u=ds,g=Xr(),N=l(),C=!fn(g.memoizedState,N);if(C&&(g.memoizedState=N,xr=!0),g=g.queue,Im(pj.bind(null,u,g,i),[i]),g.getSnapshot!==l||C||$s!==null&&$s.memoizedState.tag&1){if(u.flags|=2048,tc(9,mj.bind(null,u,g,N,l),void 0,null),zs===null)throw Error(r(349));(Ti&30)!==0||fj(u,l,N)}return N}function fj(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=ds.updateQueue,l===null?(l={lastEffect:null,stores:null},ds.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function mj(i,l,u,g){l.value=u,l.getSnapshot=g,xj(l)&&gj(i)}function pj(i,l,u){return u(function(){xj(l)&&gj(i)})}function xj(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!fn(i,u)}catch{return!0}}function gj(i){var l=ha(i,1);l!==null&&vn(l,i,1,-1)}function vj(i){var l=Bn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:i},l.queue=i,i=i.dispatch=q4.bind(null,ds,i),[l.memoizedState,i]}function tc(i,l,u,g){return i={tag:i,create:l,destroy:u,deps:g,next:null},l=ds.updateQueue,l===null?(l={lastEffect:null,stores:null},ds.updateQueue=l,l.lastEffect=i.next=i):(u=l.lastEffect,u===null?l.lastEffect=i.next=i:(g=u.next,u.next=i,i.next=g,l.lastEffect=i)),i}function yj(){return Xr().memoizedState}function su(i,l,u,g){var N=Bn();ds.flags|=i,N.memoizedState=tc(1|l,u,void 0,g===void 0?null:g)}function ru(i,l,u,g){var N=Xr();g=g===void 0?null:g;var C=void 0;if(Ps!==null){var T=Ps.memoizedState;if(C=T.destroy,g!==null&&Rm(g,T.deps)){N.memoizedState=tc(l,u,C,g);return}}ds.flags|=i,N.memoizedState=tc(1|l,u,C,g)}function jj(i,l){return su(8390656,8,i,l)}function Im(i,l){return ru(2048,8,i,l)}function wj(i,l){return ru(4,2,i,l)}function bj(i,l){return ru(4,4,i,l)}function Nj(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function _j(i,l,u){return u=u!=null?u.concat([i]):null,ru(4,4,Nj.bind(null,l,i),u)}function Lm(){}function Sj(i,l){var u=Xr();l=l===void 0?null:l;var g=u.memoizedState;return g!==null&&l!==null&&Rm(l,g[1])?g[0]:(u.memoizedState=[i,l],i)}function kj(i,l){var u=Xr();l=l===void 0?null:l;var g=u.memoizedState;return g!==null&&l!==null&&Rm(l,g[1])?g[0]:(i=i(),u.memoizedState=[i,l],i)}function Cj(i,l,u){return(Ti&21)===0?(i.baseState&&(i.baseState=!1,xr=!0),i.memoizedState=u):(fn(u,l)||(u=ry(),ds.lanes|=u,Ri|=u,i.baseState=!0),l)}function U4(i,l){var u=zt;zt=u!==0&&4>u?u:4,i(!0);var g=Tm.transition;Tm.transition={};try{i(!1),l()}finally{zt=u,Tm.transition=g}}function Ej(){return Xr().memoizedState}function B4(i,l,u){var g=qa(i);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},Pj(i))Tj(l,u);else if(u=ij(i,l,u,g),u!==null){var N=lr();vn(u,i,g,N),Rj(u,l,g)}}function q4(i,l,u){var g=qa(i),N={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(Pj(i))Tj(l,N);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var T=l.lastRenderedState,M=C(T,u);if(N.hasEagerState=!0,N.eagerState=M,fn(M,T)){var z=l.interleaved;z===null?(N.next=N,_m(l)):(N.next=z.next,z.next=N),l.interleaved=N;return}}catch{}finally{}u=ij(i,l,N,g),u!==null&&(N=lr(),vn(u,i,g,N),Rj(u,l,g))}}function Pj(i){var l=i.alternate;return i===ds||l!==null&&l===ds}function Tj(i,l){Xl=tu=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function Rj(i,l,u){if((u&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,u|=g,l.lanes=u,$f(i,u)}}var nu={readContext:Zr,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useInsertionEffect:Js,useLayoutEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useMutableSource:Js,useSyncExternalStore:Js,useId:Js,unstable_isNewReconciler:!1},V4={readContext:Zr,useCallback:function(i,l){return Bn().memoizedState=[i,l===void 0?null:l],i},useContext:Zr,useEffect:jj,useImperativeHandle:function(i,l,u){return u=u!=null?u.concat([i]):null,su(4194308,4,Nj.bind(null,l,i),u)},useLayoutEffect:function(i,l){return su(4194308,4,i,l)},useInsertionEffect:function(i,l){return su(4,2,i,l)},useMemo:function(i,l){var u=Bn();return l=l===void 0?null:l,i=i(),u.memoizedState=[i,l],i},useReducer:function(i,l,u){var g=Bn();return l=u!==void 0?u(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=B4.bind(null,ds,i),[g.memoizedState,i]},useRef:function(i){var l=Bn();return i={current:i},l.memoizedState=i},useState:vj,useDebugValue:Lm,useDeferredValue:function(i){return Bn().memoizedState=i},useTransition:function(){var i=vj(!1),l=i[0];return i=U4.bind(null,i[1]),Bn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,u){var g=ds,N=Bn();if(os){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),zs===null)throw Error(r(349));(Ti&30)!==0||fj(g,l,u)}N.memoizedState=u;var C={value:u,getSnapshot:l};return N.queue=C,jj(pj.bind(null,g,C,i),[i]),g.flags|=2048,tc(9,mj.bind(null,g,C,u,l),void 0,null),u},useId:function(){var i=Bn(),l=zs.identifierPrefix;if(os){var u=ua,g=da;u=(g&~(1<<32-hn(g)-1)).toString(32)+u,l=":"+l+"R"+u,u=Jl++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=z4++,l=":"+l+"r"+u.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},W4={readContext:Zr,useCallback:Sj,useContext:Zr,useEffect:Im,useImperativeHandle:_j,useInsertionEffect:wj,useLayoutEffect:bj,useMemo:kj,useReducer:Mm,useRef:yj,useState:function(){return Mm(ec)},useDebugValue:Lm,useDeferredValue:function(i){var l=Xr();return Cj(l,Ps.memoizedState,i)},useTransition:function(){var i=Mm(ec)[0],l=Xr().memoizedState;return[i,l]},useMutableSource:uj,useSyncExternalStore:hj,useId:Ej,unstable_isNewReconciler:!1},H4={readContext:Zr,useCallback:Sj,useContext:Zr,useEffect:Im,useImperativeHandle:_j,useInsertionEffect:wj,useLayoutEffect:bj,useMemo:kj,useReducer:Om,useRef:yj,useState:function(){return Om(ec)},useDebugValue:Lm,useDeferredValue:function(i){var l=Xr();return Ps===null?l.memoizedState=i:Cj(l,Ps.memoizedState,i)},useTransition:function(){var i=Om(ec)[0],l=Xr().memoizedState;return[i,l]},useMutableSource:uj,useSyncExternalStore:hj,useId:Ej,unstable_isNewReconciler:!1};function pn(i,l){if(i&&i.defaultProps){l=le({},l),i=i.defaultProps;for(var u in i)l[u]===void 0&&(l[u]=i[u]);return l}return l}function Fm(i,l,u,g){l=i.memoizedState,u=u(g,l),u=u==null?l:le({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var au={isMounted:function(i){return(i=i._reactInternals)?Ni(i)===i:!1},enqueueSetState:function(i,l,u){i=i._reactInternals;var g=lr(),N=qa(i),C=fa(g,N);C.payload=l,u!=null&&(C.callback=u),l=$a(i,C,N),l!==null&&(vn(l,i,N,g),Zd(l,i,N))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var g=lr(),N=qa(i),C=fa(g,N);C.tag=1,C.payload=l,u!=null&&(C.callback=u),l=$a(i,C,N),l!==null&&(vn(l,i,N,g),Zd(l,i,N))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=lr(),g=qa(i),N=fa(u,g);N.tag=2,l!=null&&(N.callback=l),l=$a(i,N,g),l!==null&&(vn(l,i,g,u),Zd(l,i,g))}};function Aj(i,l,u,g,N,C,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,C,T):l.prototype&&l.prototype.isPureReactComponent?!Ul(u,g)||!Ul(N,C):!0}function Dj(i,l,u){var g=!1,N=Ia,C=l.contextType;return typeof C=="object"&&C!==null?C=Zr(C):(N=pr(l)?Si:Xs.current,g=l.contextTypes,C=(g=g!=null)?vo(i,N):Ia),l=new l(u,C),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=au,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=N,i.__reactInternalMemoizedMaskedChildContext=C),l}function Mj(i,l,u,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,g),l.state!==i&&au.enqueueReplaceState(l,l.state,null)}function $m(i,l,u,g){var N=i.stateNode;N.props=u,N.state=i.memoizedState,N.refs={},Sm(i);var C=l.contextType;typeof C=="object"&&C!==null?N.context=Zr(C):(C=pr(l)?Si:Xs.current,N.context=vo(i,C)),N.state=i.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Fm(i,l,C,u),N.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(l=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),l!==N.state&&au.enqueueReplaceState(N,N.state,null),Xd(i,u,N,g),N.state=i.memoizedState),typeof N.componentDidMount=="function"&&(i.flags|=4194308)}function ko(i,l){try{var u="",g=l;do u+=Le(g),g=g.return;while(g);var N=u}catch(C){N=`
Error generating stack: `+C.message+`
`+C.stack}return{value:i,source:l,stack:N,digest:null}}function zm(i,l,u){return{value:i,source:null,stack:u??null,digest:l??null}}function Um(i,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var G4=typeof WeakMap=="function"?WeakMap:Map;function Oj(i,l,u){u=fa(-1,u),u.tag=3,u.payload={element:null};var g=l.value;return u.callback=function(){hu||(hu=!0,sp=g),Um(i,l)},u}function Ij(i,l,u){u=fa(-1,u),u.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var N=l.value;u.payload=function(){return g(N)},u.callback=function(){Um(i,l)}}var C=i.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(u.callback=function(){Um(i,l),typeof g!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})}),u}function Lj(i,l,u){var g=i.pingCache;if(g===null){g=i.pingCache=new G4;var N=new Set;g.set(l,N)}else N=g.get(l),N===void 0&&(N=new Set,g.set(l,N));N.has(u)||(N.add(u),i=oP.bind(null,i,l,u),l.then(i,i))}function Fj(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function $j(i,l,u,g,N){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=fa(-1,1),l.tag=2,$a(u,l,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=N,i)}var K4=E.ReactCurrentOwner,xr=!1;function or(i,l,u,g){l.child=i===null?aj(l,null,u,g):bo(l,i.child,u,g)}function zj(i,l,u,g,N){u=u.render;var C=l.ref;return _o(l,N),g=Am(i,l,u,g,C,N),u=Dm(),i!==null&&!xr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~N,ma(i,l,N)):(os&&u&&pm(l),l.flags|=1,or(i,l,g,N),l.child)}function Uj(i,l,u,g,N){if(i===null){var C=u.type;return typeof C=="function"&&!cp(C)&&C.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=C,Bj(i,l,C,g,N)):(i=vu(u.type,null,g,l,l.mode,N),i.ref=l.ref,i.return=l,l.child=i)}if(C=i.child,(i.lanes&N)===0){var T=C.memoizedProps;if(u=u.compare,u=u!==null?u:Ul,u(T,g)&&i.ref===l.ref)return ma(i,l,N)}return l.flags|=1,i=Wa(C,g),i.ref=l.ref,i.return=l,l.child=i}function Bj(i,l,u,g,N){if(i!==null){var C=i.memoizedProps;if(Ul(C,g)&&i.ref===l.ref)if(xr=!1,l.pendingProps=g=C,(i.lanes&N)!==0)(i.flags&131072)!==0&&(xr=!0);else return l.lanes=i.lanes,ma(i,l,N)}return Bm(i,l,u,g,N)}function qj(i,l,u){var g=l.pendingProps,N=g.children,C=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},es(Eo,Fr),Fr|=u;else{if((u&1073741824)===0)return i=C!==null?C.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,es(Eo,Fr),Fr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=C!==null?C.baseLanes:u,es(Eo,Fr),Fr|=g}else C!==null?(g=C.baseLanes|u,l.memoizedState=null):g=u,es(Eo,Fr),Fr|=g;return or(i,l,N,u),l.child}function Vj(i,l){var u=l.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function Bm(i,l,u,g,N){var C=pr(u)?Si:Xs.current;return C=vo(l,C),_o(l,N),u=Am(i,l,u,g,C,N),g=Dm(),i!==null&&!xr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~N,ma(i,l,N)):(os&&g&&pm(l),l.flags|=1,or(i,l,u,N),l.child)}function Wj(i,l,u,g,N){if(pr(u)){var C=!0;qd(l)}else C=!1;if(_o(l,N),l.stateNode===null)ou(i,l),Dj(l,u,g),$m(l,u,g,N),g=!0;else if(i===null){var T=l.stateNode,M=l.memoizedProps;T.props=M;var z=T.context,re=u.contextType;typeof re=="object"&&re!==null?re=Zr(re):(re=pr(u)?Si:Xs.current,re=vo(l,re));var xe=u.getDerivedStateFromProps,we=typeof xe=="function"||typeof T.getSnapshotBeforeUpdate=="function";we||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==g||z!==re)&&Mj(l,T,g,re),Fa=!1;var fe=l.memoizedState;T.state=fe,Xd(l,g,T,N),z=l.memoizedState,M!==g||fe!==z||mr.current||Fa?(typeof xe=="function"&&(Fm(l,u,xe,g),z=l.memoizedState),(M=Fa||Aj(l,u,M,g,fe,z,re))?(we||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=z),T.props=g,T.state=z,T.context=re,g=M):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{T=l.stateNode,oj(i,l),M=l.memoizedProps,re=l.type===l.elementType?M:pn(l.type,M),T.props=re,we=l.pendingProps,fe=T.context,z=u.contextType,typeof z=="object"&&z!==null?z=Zr(z):(z=pr(u)?Si:Xs.current,z=vo(l,z));var ze=u.getDerivedStateFromProps;(xe=typeof ze=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==we||fe!==z)&&Mj(l,T,g,z),Fa=!1,fe=l.memoizedState,T.state=fe,Xd(l,g,T,N);var He=l.memoizedState;M!==we||fe!==He||mr.current||Fa?(typeof ze=="function"&&(Fm(l,u,ze,g),He=l.memoizedState),(re=Fa||Aj(l,u,re,g,fe,He,z)||!1)?(xe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,He,z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,He,z)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||M===i.memoizedProps&&fe===i.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&fe===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=He),T.props=g,T.state=He,T.context=z,g=re):(typeof T.componentDidUpdate!="function"||M===i.memoizedProps&&fe===i.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&fe===i.memoizedState||(l.flags|=1024),g=!1)}return qm(i,l,u,g,C,N)}function qm(i,l,u,g,N,C){Vj(i,l);var T=(l.flags&128)!==0;if(!g&&!T)return N&&Qy(l,u,!1),ma(i,l,C);g=l.stateNode,K4.current=l;var M=T&&typeof u.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&T?(l.child=bo(l,i.child,null,C),l.child=bo(l,null,M,C)):or(i,l,M,C),l.memoizedState=g.state,N&&Qy(l,u,!0),l.child}function Hj(i){var l=i.stateNode;l.pendingContext?Ky(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Ky(i,l.context,!1),km(i,l.containerInfo)}function Gj(i,l,u,g,N){return wo(),ym(N),l.flags|=256,or(i,l,u,g),l.child}var Vm={dehydrated:null,treeContext:null,retryLane:0};function Wm(i){return{baseLanes:i,cachePool:null,transitions:null}}function Kj(i,l,u){var g=l.pendingProps,N=cs.current,C=!1,T=(l.flags&128)!==0,M;if((M=T)||(M=i!==null&&i.memoizedState===null?!1:(N&2)!==0),M?(C=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(N|=1),es(cs,N&1),i===null)return vm(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(T=g.children,i=g.fallback,C?(g=l.mode,C=l.child,T={mode:"hidden",children:T},(g&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=T):C=yu(T,g,0,null),i=Oi(i,g,u,null),C.return=l,i.return=l,C.sibling=i,l.child=C,l.child.memoizedState=Wm(u),l.memoizedState=Vm,i):Hm(l,T));if(N=i.memoizedState,N!==null&&(M=N.dehydrated,M!==null))return Y4(i,l,T,g,M,N,u);if(C){C=g.fallback,T=l.mode,N=i.child,M=N.sibling;var z={mode:"hidden",children:g.children};return(T&1)===0&&l.child!==N?(g=l.child,g.childLanes=0,g.pendingProps=z,l.deletions=null):(g=Wa(N,z),g.subtreeFlags=N.subtreeFlags&14680064),M!==null?C=Wa(M,C):(C=Oi(C,T,u,null),C.flags|=2),C.return=l,g.return=l,g.sibling=C,l.child=g,g=C,C=l.child,T=i.child.memoizedState,T=T===null?Wm(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},C.memoizedState=T,C.childLanes=i.childLanes&~u,l.memoizedState=Vm,g}return C=i.child,i=C.sibling,g=Wa(C,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=u),g.return=l,g.sibling=null,i!==null&&(u=l.deletions,u===null?(l.deletions=[i],l.flags|=16):u.push(i)),l.child=g,l.memoizedState=null,g}function Hm(i,l){return l=yu({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function iu(i,l,u,g){return g!==null&&ym(g),bo(l,i.child,null,u),i=Hm(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Y4(i,l,u,g,N,C,T){if(u)return l.flags&256?(l.flags&=-257,g=zm(Error(r(422))),iu(i,l,T,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(C=g.fallback,N=l.mode,g=yu({mode:"visible",children:g.children},N,0,null),C=Oi(C,N,T,null),C.flags|=2,g.return=l,C.return=l,g.sibling=C,l.child=g,(l.mode&1)!==0&&bo(l,i.child,null,T),l.child.memoizedState=Wm(T),l.memoizedState=Vm,C);if((l.mode&1)===0)return iu(i,l,T,null);if(N.data==="$!"){if(g=N.nextSibling&&N.nextSibling.dataset,g)var M=g.dgst;return g=M,C=Error(r(419)),g=zm(C,g,void 0),iu(i,l,T,g)}if(M=(T&i.childLanes)!==0,xr||M){if(g=zs,g!==null){switch(T&-T){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(g.suspendedLanes|T))!==0?0:N,N!==0&&N!==C.retryLane&&(C.retryLane=N,ha(i,N),vn(g,i,N,-1))}return lp(),g=zm(Error(r(421))),iu(i,l,T,g)}return N.data==="$?"?(l.flags|=128,l.child=i.child,l=lP.bind(null,i),N._reactRetry=l,null):(i=C.treeContext,Lr=Ma(N.nextSibling),Ir=l,os=!0,mn=null,i!==null&&(Yr[Qr++]=da,Yr[Qr++]=ua,Yr[Qr++]=ki,da=i.id,ua=i.overflow,ki=l),l=Hm(l,g.children),l.flags|=4096,l)}function Yj(i,l,u){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),Nm(i.return,l,u)}function Gm(i,l,u,g,N){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:N}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=g,C.tail=u,C.tailMode=N)}function Qj(i,l,u){var g=l.pendingProps,N=g.revealOrder,C=g.tail;if(or(i,l,g.children,u),g=cs.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Yj(i,u,l);else if(i.tag===19)Yj(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(es(cs,g),(l.mode&1)===0)l.memoizedState=null;else switch(N){case"forwards":for(u=l.child,N=null;u!==null;)i=u.alternate,i!==null&&Jd(i)===null&&(N=u),u=u.sibling;u=N,u===null?(N=l.child,l.child=null):(N=u.sibling,u.sibling=null),Gm(l,!1,N,u,C);break;case"backwards":for(u=null,N=l.child,l.child=null;N!==null;){if(i=N.alternate,i!==null&&Jd(i)===null){l.child=N;break}i=N.sibling,N.sibling=u,u=N,N=i}Gm(l,!0,u,null,C);break;case"together":Gm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ou(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function ma(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),Ri|=l.lanes,(u&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,u=Wa(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Wa(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function Q4(i,l,u){switch(l.tag){case 3:Hj(l),wo();break;case 5:dj(l);break;case 1:pr(l.type)&&qd(l);break;case 4:km(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,N=l.memoizedProps.value;es(Yd,g._currentValue),g._currentValue=N;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(es(cs,cs.current&1),l.flags|=128,null):(u&l.child.childLanes)!==0?Kj(i,l,u):(es(cs,cs.current&1),i=ma(i,l,u),i!==null?i.sibling:null);es(cs,cs.current&1);break;case 19:if(g=(u&l.childLanes)!==0,(i.flags&128)!==0){if(g)return Qj(i,l,u);l.flags|=128}if(N=l.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),es(cs,cs.current),g)break;return null;case 22:case 23:return l.lanes=0,qj(i,l,u)}return ma(i,l,u)}var Zj,Km,Xj,Jj;Zj=function(i,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Km=function(){},Xj=function(i,l,u,g){var N=i.memoizedProps;if(N!==g){i=l.stateNode,Pi(Un.current);var C=null;switch(u){case"input":N=pt(i,N),g=pt(i,g),C=[];break;case"select":N=le({},N,{value:void 0}),g=le({},g,{value:void 0}),C=[];break;case"textarea":N=ae(i,N),g=ae(i,g),C=[];break;default:typeof N.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=zd)}Gs(u,g);var T;u=null;for(re in N)if(!g.hasOwnProperty(re)&&N.hasOwnProperty(re)&&N[re]!=null)if(re==="style"){var M=N[re];for(T in M)M.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(a.hasOwnProperty(re)?C||(C=[]):(C=C||[]).push(re,null));for(re in g){var z=g[re];if(M=N?.[re],g.hasOwnProperty(re)&&z!==M&&(z!=null||M!=null))if(re==="style")if(M){for(T in M)!M.hasOwnProperty(T)||z&&z.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in z)z.hasOwnProperty(T)&&M[T]!==z[T]&&(u||(u={}),u[T]=z[T])}else u||(C||(C=[]),C.push(re,u)),u=z;else re==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,M=M?M.__html:void 0,z!=null&&M!==z&&(C=C||[]).push(re,z)):re==="children"?typeof z!="string"&&typeof z!="number"||(C=C||[]).push(re,""+z):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(a.hasOwnProperty(re)?(z!=null&&re==="onScroll"&&rs("scroll",i),C||M===z||(C=[])):(C=C||[]).push(re,z))}u&&(C=C||[]).push("style",u);var re=C;(l.updateQueue=re)&&(l.flags|=4)}},Jj=function(i,l,u,g){u!==g&&(l.flags|=4)};function sc(i,l){if(!os)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function er(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,g=0;if(l)for(var N=i.child;N!==null;)u|=N.lanes|N.childLanes,g|=N.subtreeFlags&14680064,g|=N.flags&14680064,N.return=i,N=N.sibling;else for(N=i.child;N!==null;)u|=N.lanes|N.childLanes,g|=N.subtreeFlags,g|=N.flags,N.return=i,N=N.sibling;return i.subtreeFlags|=g,i.childLanes=u,l}function Z4(i,l,u){var g=l.pendingProps;switch(xm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(l),null;case 1:return pr(l.type)&&Bd(),er(l),null;case 3:return g=l.stateNode,So(),ns(mr),ns(Xs),Pm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Gd(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,mn!==null&&(ap(mn),mn=null))),Km(i,l),er(l),null;case 5:Cm(l);var N=Pi(Zl.current);if(u=l.type,i!==null&&l.stateNode!=null)Xj(i,l,u,g,N),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return er(l),null}if(i=Pi(Un.current),Gd(l)){g=l.stateNode,u=l.type;var C=l.memoizedProps;switch(g[zn]=l,g[Hl]=C,i=(l.mode&1)!==0,u){case"dialog":rs("cancel",g),rs("close",g);break;case"iframe":case"object":case"embed":rs("load",g);break;case"video":case"audio":for(N=0;N<ql.length;N++)rs(ql[N],g);break;case"source":rs("error",g);break;case"img":case"image":case"link":rs("error",g),rs("load",g);break;case"details":rs("toggle",g);break;case"input":Et(g,C),rs("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!C.multiple},rs("invalid",g);break;case"textarea":ke(g,C),rs("invalid",g)}Gs(u,C),N=null;for(var T in C)if(C.hasOwnProperty(T)){var M=C[T];T==="children"?typeof M=="string"?g.textContent!==M&&(C.suppressHydrationWarning!==!0&&$d(g.textContent,M,i),N=["children",M]):typeof M=="number"&&g.textContent!==""+M&&(C.suppressHydrationWarning!==!0&&$d(g.textContent,M,i),N=["children",""+M]):a.hasOwnProperty(T)&&M!=null&&T==="onScroll"&&rs("scroll",g)}switch(u){case"input":$e(g),Ns(g,C,!0);break;case"textarea":$e(g),je(g);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(g.onclick=zd)}g=N,l.updateQueue=g,g!==null&&(l.flags|=4)}else{T=N.nodeType===9?N:N.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ne(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=T.createElement(u,{is:g.is}):(i=T.createElement(u),u==="select"&&(T=i,g.multiple?T.multiple=!0:g.size&&(T.size=g.size))):i=T.createElementNS(i,u),i[zn]=l,i[Hl]=g,Zj(i,l,!1,!1),l.stateNode=i;e:{switch(T=cn(u,g),u){case"dialog":rs("cancel",i),rs("close",i),N=g;break;case"iframe":case"object":case"embed":rs("load",i),N=g;break;case"video":case"audio":for(N=0;N<ql.length;N++)rs(ql[N],i);N=g;break;case"source":rs("error",i),N=g;break;case"img":case"image":case"link":rs("error",i),rs("load",i),N=g;break;case"details":rs("toggle",i),N=g;break;case"input":Et(i,g),N=pt(i,g),rs("invalid",i);break;case"option":N=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},N=le({},g,{value:void 0}),rs("invalid",i);break;case"textarea":ke(i,g),N=ae(i,g),rs("invalid",i);break;default:N=g}Gs(u,N),M=N;for(C in M)if(M.hasOwnProperty(C)){var z=M[C];C==="style"?Hs(i,z):C==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Xt(i,z)):C==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&Ht(i,z):typeof z=="number"&&Ht(i,""+z):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(a.hasOwnProperty(C)?z!=null&&C==="onScroll"&&rs("scroll",i):z!=null&&k(i,C,z,T))}switch(u){case"input":$e(i),Ns(i,g,!1);break;case"textarea":$e(i),je(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Te(g.value));break;case"select":i.multiple=!!g.multiple,C=g.value,C!=null?G(i,!!g.multiple,C,!1):g.defaultValue!=null&&G(i,!!g.multiple,g.defaultValue,!0);break;default:typeof N.onClick=="function"&&(i.onclick=zd)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return er(l),null;case 6:if(i&&l.stateNode!=null)Jj(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(u=Pi(Zl.current),Pi(Un.current),Gd(l)){if(g=l.stateNode,u=l.memoizedProps,g[zn]=l,(C=g.nodeValue!==u)&&(i=Ir,i!==null))switch(i.tag){case 3:$d(g.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&$d(g.nodeValue,u,(i.mode&1)!==0)}C&&(l.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[zn]=l,l.stateNode=g}return er(l),null;case 13:if(ns(cs),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(os&&Lr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)sj(),wo(),l.flags|=98560,C=!1;else if(C=Gd(l),g!==null&&g.dehydrated!==null){if(i===null){if(!C)throw Error(r(318));if(C=l.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[zn]=l}else wo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;er(l),C=!1}else mn!==null&&(ap(mn),mn=null),C=!0;if(!C)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=u,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(cs.current&1)!==0?Ts===0&&(Ts=3):lp())),l.updateQueue!==null&&(l.flags|=4),er(l),null);case 4:return So(),Km(i,l),i===null&&Vl(l.stateNode.containerInfo),er(l),null;case 10:return bm(l.type._context),er(l),null;case 17:return pr(l.type)&&Bd(),er(l),null;case 19:if(ns(cs),C=l.memoizedState,C===null)return er(l),null;if(g=(l.flags&128)!==0,T=C.rendering,T===null)if(g)sc(C,!1);else{if(Ts!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(T=Jd(i),T!==null){for(l.flags|=128,sc(C,!1),g=T.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=u,u=l.child;u!==null;)C=u,i=g,C.flags&=14680066,T=C.alternate,T===null?(C.childLanes=0,C.lanes=i,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=T.childLanes,C.lanes=T.lanes,C.child=T.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=T.memoizedProps,C.memoizedState=T.memoizedState,C.updateQueue=T.updateQueue,C.type=T.type,i=T.dependencies,C.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return es(cs,cs.current&1|2),l.child}i=i.sibling}C.tail!==null&&gs()>Po&&(l.flags|=128,g=!0,sc(C,!1),l.lanes=4194304)}else{if(!g)if(i=Jd(T),i!==null){if(l.flags|=128,g=!0,u=i.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),sc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!T.alternate&&!os)return er(l),null}else 2*gs()-C.renderingStartTime>Po&&u!==1073741824&&(l.flags|=128,g=!0,sc(C,!1),l.lanes=4194304);C.isBackwards?(T.sibling=l.child,l.child=T):(u=C.last,u!==null?u.sibling=T:l.child=T,C.last=T)}return C.tail!==null?(l=C.tail,C.rendering=l,C.tail=l.sibling,C.renderingStartTime=gs(),l.sibling=null,u=cs.current,es(cs,g?u&1|2:u&1),l):(er(l),null);case 22:case 23:return op(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Fr&1073741824)!==0&&(er(l),l.subtreeFlags&6&&(l.flags|=8192)):er(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function X4(i,l){switch(xm(l),l.tag){case 1:return pr(l.type)&&Bd(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return So(),ns(mr),ns(Xs),Pm(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Cm(l),null;case 13:if(ns(cs),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));wo()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return ns(cs),null;case 4:return So(),null;case 10:return bm(l.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var lu=!1,tr=!1,J4=typeof WeakSet=="function"?WeakSet:Set,We=null;function Co(i,l){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){fs(i,l,g)}else u.current=null}function Ym(i,l,u){try{u()}catch(g){fs(i,l,g)}}var ew=!1;function eP(i,l){if(om=Ed,i=Ay(),Jf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var N=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break e}var T=0,M=-1,z=-1,re=0,xe=0,we=i,fe=null;t:for(;;){for(var ze;we!==u||N!==0&&we.nodeType!==3||(M=T+N),we!==C||g!==0&&we.nodeType!==3||(z=T+g),we.nodeType===3&&(T+=we.nodeValue.length),(ze=we.firstChild)!==null;)fe=we,we=ze;for(;;){if(we===i)break t;if(fe===u&&++re===N&&(M=T),fe===C&&++xe===g&&(z=T),(ze=we.nextSibling)!==null)break;we=fe,fe=we.parentNode}we=ze}u=M===-1||z===-1?null:{start:M,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(lm={focusedElem:i,selectionRange:u},Ed=!1,We=l;We!==null;)if(l=We,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,We=i;else for(;We!==null;){l=We;try{var He=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var Ge=He.memoizedProps,vs=He.memoizedState,Q=l.stateNode,q=Q.getSnapshotBeforeUpdate(l.elementType===l.type?Ge:pn(l.type,Ge),vs);Q.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var se=l.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){fs(l,l.return,Ee)}if(i=l.sibling,i!==null){i.return=l.return,We=i;break}We=l.return}return He=ew,ew=!1,He}function rc(i,l,u){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var N=g=g.next;do{if((N.tag&i)===i){var C=N.destroy;N.destroy=void 0,C!==void 0&&Ym(l,u,C)}N=N.next}while(N!==g)}}function cu(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&i)===i){var g=u.create;u.destroy=g()}u=u.next}while(u!==l)}}function Qm(i){var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof l=="function"?l(i):l.current=i}}function tw(i){var l=i.alternate;l!==null&&(i.alternate=null,tw(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[zn],delete l[Hl],delete l[hm],delete l[I4],delete l[L4])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function sw(i){return i.tag===5||i.tag===3||i.tag===4}function rw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||sw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zm(i,l,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(i,l):u.insertBefore(i,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(i,u)):(l=u,l.appendChild(i)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=zd));else if(g!==4&&(i=i.child,i!==null))for(Zm(i,l,u),i=i.sibling;i!==null;)Zm(i,l,u),i=i.sibling}function Xm(i,l,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Xm(i,l,u),i=i.sibling;i!==null;)Xm(i,l,u),i=i.sibling}var Ys=null,xn=!1;function za(i,l,u){for(u=u.child;u!==null;)nw(i,l,u),u=u.sibling}function nw(i,l,u){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(bd,u)}catch{}switch(u.tag){case 5:tr||Co(u,l);case 6:var g=Ys,N=xn;Ys=null,za(i,l,u),Ys=g,xn=N,Ys!==null&&(xn?(i=Ys,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ys.removeChild(u.stateNode));break;case 18:Ys!==null&&(xn?(i=Ys,u=u.stateNode,i.nodeType===8?um(i.parentNode,u):i.nodeType===1&&um(i,u),Ol(i)):um(Ys,u.stateNode));break;case 4:g=Ys,N=xn,Ys=u.stateNode.containerInfo,xn=!0,za(i,l,u),Ys=g,xn=N;break;case 0:case 11:case 14:case 15:if(!tr&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){N=g=g.next;do{var C=N,T=C.destroy;C=C.tag,T!==void 0&&((C&2)!==0||(C&4)!==0)&&Ym(u,l,T),N=N.next}while(N!==g)}za(i,l,u);break;case 1:if(!tr&&(Co(u,l),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(M){fs(u,l,M)}za(i,l,u);break;case 21:za(i,l,u);break;case 22:u.mode&1?(tr=(g=tr)||u.memoizedState!==null,za(i,l,u),tr=g):za(i,l,u);break;default:za(i,l,u)}}function aw(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new J4),l.forEach(function(g){var N=cP.bind(null,i,g);u.has(g)||(u.add(g),g.then(N,N))})}}function gn(i,l){var u=l.deletions;if(u!==null)for(var g=0;g<u.length;g++){var N=u[g];try{var C=i,T=l,M=T;e:for(;M!==null;){switch(M.tag){case 5:Ys=M.stateNode,xn=!1;break e;case 3:Ys=M.stateNode.containerInfo,xn=!0;break e;case 4:Ys=M.stateNode.containerInfo,xn=!0;break e}M=M.return}if(Ys===null)throw Error(r(160));nw(C,T,N),Ys=null,xn=!1;var z=N.alternate;z!==null&&(z.return=null),N.return=null}catch(re){fs(N,l,re)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)iw(l,i),l=l.sibling}function iw(i,l){var u=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(gn(l,i),qn(i),g&4){try{rc(3,i,i.return),cu(3,i)}catch(Ge){fs(i,i.return,Ge)}try{rc(5,i,i.return)}catch(Ge){fs(i,i.return,Ge)}}break;case 1:gn(l,i),qn(i),g&512&&u!==null&&Co(u,u.return);break;case 5:if(gn(l,i),qn(i),g&512&&u!==null&&Co(u,u.return),i.flags&32){var N=i.stateNode;try{Ht(N,"")}catch(Ge){fs(i,i.return,Ge)}}if(g&4&&(N=i.stateNode,N!=null)){var C=i.memoizedProps,T=u!==null?u.memoizedProps:C,M=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{M==="input"&&C.type==="radio"&&C.name!=null&&Wt(N,C),cn(M,T);var re=cn(M,C);for(T=0;T<z.length;T+=2){var xe=z[T],we=z[T+1];xe==="style"?Hs(N,we):xe==="dangerouslySetInnerHTML"?Xt(N,we):xe==="children"?Ht(N,we):k(N,xe,we,re)}switch(M){case"input":Zt(N,C);break;case"textarea":Ce(N,C);break;case"select":var fe=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!C.multiple;var ze=C.value;ze!=null?G(N,!!C.multiple,ze,!1):fe!==!!C.multiple&&(C.defaultValue!=null?G(N,!!C.multiple,C.defaultValue,!0):G(N,!!C.multiple,C.multiple?[]:"",!1))}N[Hl]=C}catch(Ge){fs(i,i.return,Ge)}}break;case 6:if(gn(l,i),qn(i),g&4){if(i.stateNode===null)throw Error(r(162));N=i.stateNode,C=i.memoizedProps;try{N.nodeValue=C}catch(Ge){fs(i,i.return,Ge)}}break;case 3:if(gn(l,i),qn(i),g&4&&u!==null&&u.memoizedState.isDehydrated)try{Ol(l.containerInfo)}catch(Ge){fs(i,i.return,Ge)}break;case 4:gn(l,i),qn(i);break;case 13:gn(l,i),qn(i),N=i.child,N.flags&8192&&(C=N.memoizedState!==null,N.stateNode.isHidden=C,!C||N.alternate!==null&&N.alternate.memoizedState!==null||(tp=gs())),g&4&&aw(i);break;case 22:if(xe=u!==null&&u.memoizedState!==null,i.mode&1?(tr=(re=tr)||xe,gn(l,i),tr=re):gn(l,i),qn(i),g&8192){if(re=i.memoizedState!==null,(i.stateNode.isHidden=re)&&!xe&&(i.mode&1)!==0)for(We=i,xe=i.child;xe!==null;){for(we=We=xe;We!==null;){switch(fe=We,ze=fe.child,fe.tag){case 0:case 11:case 14:case 15:rc(4,fe,fe.return);break;case 1:Co(fe,fe.return);var He=fe.stateNode;if(typeof He.componentWillUnmount=="function"){g=fe,u=fe.return;try{l=g,He.props=l.memoizedProps,He.state=l.memoizedState,He.componentWillUnmount()}catch(Ge){fs(g,u,Ge)}}break;case 5:Co(fe,fe.return);break;case 22:if(fe.memoizedState!==null){cw(we);continue}}ze!==null?(ze.return=fe,We=ze):cw(we)}xe=xe.sibling}e:for(xe=null,we=i;;){if(we.tag===5){if(xe===null){xe=we;try{N=we.stateNode,re?(C=N.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(M=we.stateNode,z=we.memoizedProps.style,T=z!=null&&z.hasOwnProperty("display")?z.display:null,M.style.display=Ws("display",T))}catch(Ge){fs(i,i.return,Ge)}}}else if(we.tag===6){if(xe===null)try{we.stateNode.nodeValue=re?"":we.memoizedProps}catch(Ge){fs(i,i.return,Ge)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===i)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===i)break e;for(;we.sibling===null;){if(we.return===null||we.return===i)break e;xe===we&&(xe=null),we=we.return}xe===we&&(xe=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:gn(l,i),qn(i),g&4&&aw(i);break;case 21:break;default:gn(l,i),qn(i)}}function qn(i){var l=i.flags;if(l&2){try{e:{for(var u=i.return;u!==null;){if(sw(u)){var g=u;break e}u=u.return}throw Error(r(160))}switch(g.tag){case 5:var N=g.stateNode;g.flags&32&&(Ht(N,""),g.flags&=-33);var C=rw(i);Xm(i,C,N);break;case 3:case 4:var T=g.stateNode.containerInfo,M=rw(i);Zm(i,M,T);break;default:throw Error(r(161))}}catch(z){fs(i,i.return,z)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function tP(i,l,u){We=i,ow(i)}function ow(i,l,u){for(var g=(i.mode&1)!==0;We!==null;){var N=We,C=N.child;if(N.tag===22&&g){var T=N.memoizedState!==null||lu;if(!T){var M=N.alternate,z=M!==null&&M.memoizedState!==null||tr;M=lu;var re=tr;if(lu=T,(tr=z)&&!re)for(We=N;We!==null;)T=We,z=T.child,T.tag===22&&T.memoizedState!==null?dw(N):z!==null?(z.return=T,We=z):dw(N);for(;C!==null;)We=C,ow(C),C=C.sibling;We=N,lu=M,tr=re}lw(i)}else(N.subtreeFlags&8772)!==0&&C!==null?(C.return=N,We=C):lw(i)}}function lw(i){for(;We!==null;){var l=We;if((l.flags&8772)!==0){var u=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:tr||cu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!tr)if(u===null)g.componentDidMount();else{var N=l.elementType===l.type?u.memoizedProps:pn(l.type,u.memoizedProps);g.componentDidUpdate(N,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var C=l.updateQueue;C!==null&&cj(l,C,g);break;case 3:var T=l.updateQueue;if(T!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}cj(l,T,u)}break;case 5:var M=l.stateNode;if(u===null&&l.flags&4){u=M;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var re=l.alternate;if(re!==null){var xe=re.memoizedState;if(xe!==null){var we=xe.dehydrated;we!==null&&Ol(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}tr||l.flags&512&&Qm(l)}catch(fe){fs(l,l.return,fe)}}if(l===i){We=null;break}if(u=l.sibling,u!==null){u.return=l.return,We=u;break}We=l.return}}function cw(i){for(;We!==null;){var l=We;if(l===i){We=null;break}var u=l.sibling;if(u!==null){u.return=l.return,We=u;break}We=l.return}}function dw(i){for(;We!==null;){var l=We;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{cu(4,l)}catch(z){fs(l,u,z)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var N=l.return;try{g.componentDidMount()}catch(z){fs(l,N,z)}}var C=l.return;try{Qm(l)}catch(z){fs(l,C,z)}break;case 5:var T=l.return;try{Qm(l)}catch(z){fs(l,T,z)}}}catch(z){fs(l,l.return,z)}if(l===i){We=null;break}var M=l.sibling;if(M!==null){M.return=l.return,We=M;break}We=l.return}}var sP=Math.ceil,du=E.ReactCurrentDispatcher,Jm=E.ReactCurrentOwner,Jr=E.ReactCurrentBatchConfig,Pt=0,zs=null,_s=null,Qs=0,Fr=0,Eo=Oa(0),Ts=0,nc=null,Ri=0,uu=0,ep=0,ac=null,gr=null,tp=0,Po=1/0,pa=null,hu=!1,sp=null,Ua=null,fu=!1,Ba=null,mu=0,ic=0,rp=null,pu=-1,xu=0;function lr(){return(Pt&6)!==0?gs():pu!==-1?pu:pu=gs()}function qa(i){return(i.mode&1)===0?1:(Pt&2)!==0&&Qs!==0?Qs&-Qs:$4.transition!==null?(xu===0&&(xu=ry()),xu):(i=zt,i!==0||(i=window.event,i=i===void 0?16:hy(i.type)),i)}function vn(i,l,u,g){if(50<ic)throw ic=0,rp=null,Error(r(185));Tl(i,u,g),((Pt&2)===0||i!==zs)&&(i===zs&&((Pt&2)===0&&(uu|=u),Ts===4&&Va(i,Qs)),vr(i,g),u===1&&Pt===0&&(l.mode&1)===0&&(Po=gs()+500,Vd&&La()))}function vr(i,l){var u=i.callbackNode;$E(i,l);var g=Sd(i,i===zs?Qs:0);if(g===0)u!==null&&ey(u),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(u!=null&&ey(u),l===1)i.tag===0?F4(hw.bind(null,i)):Zy(hw.bind(null,i)),M4(function(){(Pt&6)===0&&La()}),u=null;else{switch(ny(g)){case 1:u=If;break;case 4:u=ty;break;case 16:u=wd;break;case 536870912:u=sy;break;default:u=wd}u=jw(u,uw.bind(null,i))}i.callbackPriority=l,i.callbackNode=u}}function uw(i,l){if(pu=-1,xu=0,(Pt&6)!==0)throw Error(r(327));var u=i.callbackNode;if(To()&&i.callbackNode!==u)return null;var g=Sd(i,i===zs?Qs:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=gu(i,g);else{l=g;var N=Pt;Pt|=2;var C=mw();(zs!==i||Qs!==l)&&(pa=null,Po=gs()+500,Di(i,l));do try{aP();break}catch(M){fw(i,M)}while(!0);wm(),du.current=C,Pt=N,_s!==null?l=0:(zs=null,Qs=0,l=Ts)}if(l!==0){if(l===2&&(N=Lf(i),N!==0&&(g=N,l=np(i,N))),l===1)throw u=nc,Di(i,0),Va(i,g),vr(i,gs()),u;if(l===6)Va(i,g);else{if(N=i.current.alternate,(g&30)===0&&!rP(N)&&(l=gu(i,g),l===2&&(C=Lf(i),C!==0&&(g=C,l=np(i,C))),l===1))throw u=nc,Di(i,0),Va(i,g),vr(i,gs()),u;switch(i.finishedWork=N,i.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Mi(i,gr,pa);break;case 3:if(Va(i,g),(g&130023424)===g&&(l=tp+500-gs(),10<l)){if(Sd(i,0)!==0)break;if(N=i.suspendedLanes,(N&g)!==g){lr(),i.pingedLanes|=i.suspendedLanes&N;break}i.timeoutHandle=dm(Mi.bind(null,i,gr,pa),l);break}Mi(i,gr,pa);break;case 4:if(Va(i,g),(g&4194240)===g)break;for(l=i.eventTimes,N=-1;0<g;){var T=31-hn(g);C=1<<T,T=l[T],T>N&&(N=T),g&=~C}if(g=N,g=gs()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*sP(g/1960))-g,10<g){i.timeoutHandle=dm(Mi.bind(null,i,gr,pa),g);break}Mi(i,gr,pa);break;case 5:Mi(i,gr,pa);break;default:throw Error(r(329))}}}return vr(i,gs()),i.callbackNode===u?uw.bind(null,i):null}function np(i,l){var u=ac;return i.current.memoizedState.isDehydrated&&(Di(i,l).flags|=256),i=gu(i,l),i!==2&&(l=gr,gr=u,l!==null&&ap(l)),i}function ap(i){gr===null?gr=i:gr.push.apply(gr,i)}function rP(i){for(var l=i;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var N=u[g],C=N.getSnapshot;N=N.value;try{if(!fn(C(),N))return!1}catch{return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Va(i,l){for(l&=~ep,l&=~uu,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var u=31-hn(l),g=1<<u;i[u]=-1,l&=~g}}function hw(i){if((Pt&6)!==0)throw Error(r(327));To();var l=Sd(i,0);if((l&1)===0)return vr(i,gs()),null;var u=gu(i,l);if(i.tag!==0&&u===2){var g=Lf(i);g!==0&&(l=g,u=np(i,g))}if(u===1)throw u=nc,Di(i,0),Va(i,l),vr(i,gs()),u;if(u===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Mi(i,gr,pa),vr(i,gs()),null}function ip(i,l){var u=Pt;Pt|=1;try{return i(l)}finally{Pt=u,Pt===0&&(Po=gs()+500,Vd&&La())}}function Ai(i){Ba!==null&&Ba.tag===0&&(Pt&6)===0&&To();var l=Pt;Pt|=1;var u=Jr.transition,g=zt;try{if(Jr.transition=null,zt=1,i)return i()}finally{zt=g,Jr.transition=u,Pt=l,(Pt&6)===0&&La()}}function op(){Fr=Eo.current,ns(Eo)}function Di(i,l){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,D4(u)),_s!==null)for(u=_s.return;u!==null;){var g=u;switch(xm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Bd();break;case 3:So(),ns(mr),ns(Xs),Pm();break;case 5:Cm(g);break;case 4:So();break;case 13:ns(cs);break;case 19:ns(cs);break;case 10:bm(g.type._context);break;case 22:case 23:op()}u=u.return}if(zs=i,_s=i=Wa(i.current,null),Qs=Fr=l,Ts=0,nc=null,ep=uu=Ri=0,gr=ac=null,Ei!==null){for(l=0;l<Ei.length;l++)if(u=Ei[l],g=u.interleaved,g!==null){u.interleaved=null;var N=g.next,C=u.pending;if(C!==null){var T=C.next;C.next=N,g.next=T}u.pending=g}Ei=null}return i}function fw(i,l){do{var u=_s;try{if(wm(),eu.current=nu,tu){for(var g=ds.memoizedState;g!==null;){var N=g.queue;N!==null&&(N.pending=null),g=g.next}tu=!1}if(Ti=0,$s=Ps=ds=null,Xl=!1,Jl=0,Jm.current=null,u===null||u.return===null){Ts=1,nc=l,_s=null;break}e:{var C=i,T=u.return,M=u,z=l;if(l=Qs,M.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var re=z,xe=M,we=xe.tag;if((xe.mode&1)===0&&(we===0||we===11||we===15)){var fe=xe.alternate;fe?(xe.updateQueue=fe.updateQueue,xe.memoizedState=fe.memoizedState,xe.lanes=fe.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var ze=Fj(T);if(ze!==null){ze.flags&=-257,$j(ze,T,M,C,l),ze.mode&1&&Lj(C,re,l),l=ze,z=re;var He=l.updateQueue;if(He===null){var Ge=new Set;Ge.add(z),l.updateQueue=Ge}else He.add(z);break e}else{if((l&1)===0){Lj(C,re,l),lp();break e}z=Error(r(426))}}else if(os&&M.mode&1){var vs=Fj(T);if(vs!==null){(vs.flags&65536)===0&&(vs.flags|=256),$j(vs,T,M,C,l),ym(ko(z,M));break e}}C=z=ko(z,M),Ts!==4&&(Ts=2),ac===null?ac=[C]:ac.push(C),C=T;do{switch(C.tag){case 3:C.flags|=65536,l&=-l,C.lanes|=l;var Q=Oj(C,z,l);lj(C,Q);break e;case 1:M=z;var q=C.type,se=C.stateNode;if((C.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Ua===null||!Ua.has(se)))){C.flags|=65536,l&=-l,C.lanes|=l;var Ee=Ij(C,M,l);lj(C,Ee);break e}}C=C.return}while(C!==null)}xw(u)}catch(Qe){l=Qe,_s===u&&u!==null&&(_s=u=u.return);continue}break}while(!0)}function mw(){var i=du.current;return du.current=nu,i===null?nu:i}function lp(){(Ts===0||Ts===3||Ts===2)&&(Ts=4),zs===null||(Ri&268435455)===0&&(uu&268435455)===0||Va(zs,Qs)}function gu(i,l){var u=Pt;Pt|=2;var g=mw();(zs!==i||Qs!==l)&&(pa=null,Di(i,l));do try{nP();break}catch(N){fw(i,N)}while(!0);if(wm(),Pt=u,du.current=g,_s!==null)throw Error(r(261));return zs=null,Qs=0,Ts}function nP(){for(;_s!==null;)pw(_s)}function aP(){for(;_s!==null&&!TE();)pw(_s)}function pw(i){var l=yw(i.alternate,i,Fr);i.memoizedProps=i.pendingProps,l===null?xw(i):_s=l,Jm.current=null}function xw(i){var l=i;do{var u=l.alternate;if(i=l.return,(l.flags&32768)===0){if(u=Z4(u,l,Fr),u!==null){_s=u;return}}else{if(u=X4(u,l),u!==null){u.flags&=32767,_s=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ts=6,_s=null;return}}if(l=l.sibling,l!==null){_s=l;return}_s=l=i}while(l!==null);Ts===0&&(Ts=5)}function Mi(i,l,u){var g=zt,N=Jr.transition;try{Jr.transition=null,zt=1,iP(i,l,u,g)}finally{Jr.transition=N,zt=g}return null}function iP(i,l,u,g){do To();while(Ba!==null);if((Pt&6)!==0)throw Error(r(327));u=i.finishedWork;var N=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var C=u.lanes|u.childLanes;if(zE(i,C),i===zs&&(_s=zs=null,Qs=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||fu||(fu=!0,jw(wd,function(){return To(),null})),C=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||C){C=Jr.transition,Jr.transition=null;var T=zt;zt=1;var M=Pt;Pt|=4,Jm.current=null,eP(i,u),iw(u,i),k4(lm),Ed=!!om,lm=om=null,i.current=u,tP(u),RE(),Pt=M,zt=T,Jr.transition=C}else i.current=u;if(fu&&(fu=!1,Ba=i,mu=N),C=i.pendingLanes,C===0&&(Ua=null),ME(u.stateNode),vr(i,gs()),l!==null)for(g=i.onRecoverableError,u=0;u<l.length;u++)N=l[u],g(N.value,{componentStack:N.stack,digest:N.digest});if(hu)throw hu=!1,i=sp,sp=null,i;return(mu&1)!==0&&i.tag!==0&&To(),C=i.pendingLanes,(C&1)!==0?i===rp?ic++:(ic=0,rp=i):ic=0,La(),null}function To(){if(Ba!==null){var i=ny(mu),l=Jr.transition,u=zt;try{if(Jr.transition=null,zt=16>i?16:i,Ba===null)var g=!1;else{if(i=Ba,Ba=null,mu=0,(Pt&6)!==0)throw Error(r(331));var N=Pt;for(Pt|=4,We=i.current;We!==null;){var C=We,T=C.child;if((We.flags&16)!==0){var M=C.deletions;if(M!==null){for(var z=0;z<M.length;z++){var re=M[z];for(We=re;We!==null;){var xe=We;switch(xe.tag){case 0:case 11:case 15:rc(8,xe,C)}var we=xe.child;if(we!==null)we.return=xe,We=we;else for(;We!==null;){xe=We;var fe=xe.sibling,ze=xe.return;if(tw(xe),xe===re){We=null;break}if(fe!==null){fe.return=ze,We=fe;break}We=ze}}}var He=C.alternate;if(He!==null){var Ge=He.child;if(Ge!==null){He.child=null;do{var vs=Ge.sibling;Ge.sibling=null,Ge=vs}while(Ge!==null)}}We=C}}if((C.subtreeFlags&2064)!==0&&T!==null)T.return=C,We=T;else e:for(;We!==null;){if(C=We,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:rc(9,C,C.return)}var Q=C.sibling;if(Q!==null){Q.return=C.return,We=Q;break e}We=C.return}}var q=i.current;for(We=q;We!==null;){T=We;var se=T.child;if((T.subtreeFlags&2064)!==0&&se!==null)se.return=T,We=se;else e:for(T=q;We!==null;){if(M=We,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:cu(9,M)}}catch(Qe){fs(M,M.return,Qe)}if(M===T){We=null;break e}var Ee=M.sibling;if(Ee!==null){Ee.return=M.return,We=Ee;break e}We=M.return}}if(Pt=N,La(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(bd,i)}catch{}g=!0}return g}finally{zt=u,Jr.transition=l}}return!1}function gw(i,l,u){l=ko(u,l),l=Oj(i,l,1),i=$a(i,l,1),l=lr(),i!==null&&(Tl(i,1,l),vr(i,l))}function fs(i,l,u){if(i.tag===3)gw(i,i,u);else for(;l!==null;){if(l.tag===3){gw(l,i,u);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ua===null||!Ua.has(g))){i=ko(u,i),i=Ij(l,i,1),l=$a(l,i,1),i=lr(),l!==null&&(Tl(l,1,i),vr(l,i));break}}l=l.return}}function oP(i,l,u){var g=i.pingCache;g!==null&&g.delete(l),l=lr(),i.pingedLanes|=i.suspendedLanes&u,zs===i&&(Qs&u)===u&&(Ts===4||Ts===3&&(Qs&130023424)===Qs&&500>gs()-tp?Di(i,0):ep|=u),vr(i,l)}function vw(i,l){l===0&&((i.mode&1)===0?l=1:(l=_d,_d<<=1,(_d&130023424)===0&&(_d=4194304)));var u=lr();i=ha(i,l),i!==null&&(Tl(i,l,u),vr(i,u))}function lP(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),vw(i,u)}function cP(i,l){var u=0;switch(i.tag){case 13:var g=i.stateNode,N=i.memoizedState;N!==null&&(u=N.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),vw(i,u)}var yw;yw=function(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps||mr.current)xr=!0;else{if((i.lanes&u)===0&&(l.flags&128)===0)return xr=!1,Q4(i,l,u);xr=(i.flags&131072)!==0}else xr=!1,os&&(l.flags&1048576)!==0&&Xy(l,Hd,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;ou(i,l),i=l.pendingProps;var N=vo(l,Xs.current);_o(l,u),N=Am(null,l,g,i,N,u);var C=Dm();return l.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,pr(g)?(C=!0,qd(l)):C=!1,l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Sm(l),N.updater=au,l.stateNode=N,N._reactInternals=l,$m(l,g,i,u),l=qm(null,l,g,!0,C,u)):(l.tag=0,os&&C&&pm(l),or(null,l,N,u),l=l.child),l;case 16:g=l.elementType;e:{switch(ou(i,l),i=l.pendingProps,N=g._init,g=N(g._payload),l.type=g,N=l.tag=uP(g),i=pn(g,i),N){case 0:l=Bm(null,l,g,i,u);break e;case 1:l=Wj(null,l,g,i,u);break e;case 11:l=zj(null,l,g,i,u);break e;case 14:l=Uj(null,l,g,pn(g.type,i),u);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:pn(g,N),Bm(i,l,g,N,u);case 1:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:pn(g,N),Wj(i,l,g,N,u);case 3:e:{if(Hj(l),i===null)throw Error(r(387));g=l.pendingProps,C=l.memoizedState,N=C.element,oj(i,l),Xd(l,g,null,u);var T=l.memoizedState;if(g=T.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){N=ko(Error(r(423)),l),l=Gj(i,l,g,u,N);break e}else if(g!==N){N=ko(Error(r(424)),l),l=Gj(i,l,g,u,N);break e}else for(Lr=Ma(l.stateNode.containerInfo.firstChild),Ir=l,os=!0,mn=null,u=aj(l,null,g,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(wo(),g===N){l=ma(i,l,u);break e}or(i,l,g,u)}l=l.child}return l;case 5:return dj(l),i===null&&vm(l),g=l.type,N=l.pendingProps,C=i!==null?i.memoizedProps:null,T=N.children,cm(g,N)?T=null:C!==null&&cm(g,C)&&(l.flags|=32),Vj(i,l),or(i,l,T,u),l.child;case 6:return i===null&&vm(l),null;case 13:return Kj(i,l,u);case 4:return km(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=bo(l,null,g,u):or(i,l,g,u),l.child;case 11:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:pn(g,N),zj(i,l,g,N,u);case 7:return or(i,l,l.pendingProps,u),l.child;case 8:return or(i,l,l.pendingProps.children,u),l.child;case 12:return or(i,l,l.pendingProps.children,u),l.child;case 10:e:{if(g=l.type._context,N=l.pendingProps,C=l.memoizedProps,T=N.value,es(Yd,g._currentValue),g._currentValue=T,C!==null)if(fn(C.value,T)){if(C.children===N.children&&!mr.current){l=ma(i,l,u);break e}}else for(C=l.child,C!==null&&(C.return=l);C!==null;){var M=C.dependencies;if(M!==null){T=C.child;for(var z=M.firstContext;z!==null;){if(z.context===g){if(C.tag===1){z=fa(-1,u&-u),z.tag=2;var re=C.updateQueue;if(re!==null){re=re.shared;var xe=re.pending;xe===null?z.next=z:(z.next=xe.next,xe.next=z),re.pending=z}}C.lanes|=u,z=C.alternate,z!==null&&(z.lanes|=u),Nm(C.return,u,l),M.lanes|=u;break}z=z.next}}else if(C.tag===10)T=C.type===l.type?null:C.child;else if(C.tag===18){if(T=C.return,T===null)throw Error(r(341));T.lanes|=u,M=T.alternate,M!==null&&(M.lanes|=u),Nm(T,u,l),T=C.sibling}else T=C.child;if(T!==null)T.return=C;else for(T=C;T!==null;){if(T===l){T=null;break}if(C=T.sibling,C!==null){C.return=T.return,T=C;break}T=T.return}C=T}or(i,l,N.children,u),l=l.child}return l;case 9:return N=l.type,g=l.pendingProps.children,_o(l,u),N=Zr(N),g=g(N),l.flags|=1,or(i,l,g,u),l.child;case 14:return g=l.type,N=pn(g,l.pendingProps),N=pn(g.type,N),Uj(i,l,g,N,u);case 15:return Bj(i,l,l.type,l.pendingProps,u);case 17:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:pn(g,N),ou(i,l),l.tag=1,pr(g)?(i=!0,qd(l)):i=!1,_o(l,u),Dj(l,g,N),$m(l,g,N,u),qm(null,l,g,!0,i,u);case 19:return Qj(i,l,u);case 22:return qj(i,l,u)}throw Error(r(156,l.tag))};function jw(i,l){return Jv(i,l)}function dP(i,l,u,g){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(i,l,u,g){return new dP(i,l,u,g)}function cp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function uP(i){if(typeof i=="function")return cp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===K)return 11;if(i===ve)return 14}return 2}function Wa(i,l){var u=i.alternate;return u===null?(u=en(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function vu(i,l,u,g,N,C){var T=2;if(g=i,typeof i=="function")cp(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case D:return Oi(u.children,N,C,l);case U:T=8,N|=8;break;case V:return i=en(12,u,l,N|2),i.elementType=V,i.lanes=C,i;case ce:return i=en(13,u,l,N),i.elementType=ce,i.lanes=C,i;case H:return i=en(19,u,l,N),i.elementType=H,i.lanes=C,i;case Y:return yu(u,N,C,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case te:T=10;break e;case oe:T=9;break e;case K:T=11;break e;case ve:T=14;break e;case ue:T=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=en(T,u,l,N),l.elementType=i,l.type=g,l.lanes=C,l}function Oi(i,l,u,g){return i=en(7,i,g,l),i.lanes=u,i}function yu(i,l,u,g){return i=en(22,i,g,l),i.elementType=Y,i.lanes=u,i.stateNode={isHidden:!1},i}function dp(i,l,u){return i=en(6,i,null,l),i.lanes=u,i}function up(i,l,u){return l=en(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function hP(i,l,u,g,N){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ff(0),this.expirationTimes=Ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ff(0),this.identifierPrefix=g,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function hp(i,l,u,g,N,C,T,M,z){return i=new hP(i,l,u,M,z),l===1?(l=1,C===!0&&(l|=8)):l=0,C=en(3,null,null,l),i.current=C,C.stateNode=i,C.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sm(C),i}function fP(i,l,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:g==null?null:""+g,children:i,containerInfo:l,implementation:u}}function ww(i){if(!i)return Ia;i=i._reactInternals;e:{if(Ni(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(pr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var u=i.type;if(pr(u))return Yy(i,u,l)}return l}function bw(i,l,u,g,N,C,T,M,z){return i=hp(u,g,!0,i,N,C,T,M,z),i.context=ww(null),u=i.current,g=lr(),N=qa(u),C=fa(g,N),C.callback=l??null,$a(u,C,N),i.current.lanes=N,Tl(i,N,g),vr(i,g),i}function ju(i,l,u,g){var N=l.current,C=lr(),T=qa(N);return u=ww(u),l.context===null?l.context=u:l.pendingContext=u,l=fa(C,T),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=$a(N,l,T),i!==null&&(vn(i,N,T,C),Zd(i,N,T)),T}function wu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Nw(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function fp(i,l){Nw(i,l),(i=i.alternate)&&Nw(i,l)}function mP(){return null}var _w=typeof reportError=="function"?reportError:function(i){console.error(i)};function mp(i){this._internalRoot=i}bu.prototype.render=mp.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));ju(i,l,null,null)},bu.prototype.unmount=mp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Ai(function(){ju(null,i,null,null)}),l[la]=null}};function bu(i){this._internalRoot=i}bu.prototype.unstable_scheduleHydration=function(i){if(i){var l=oy();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Ra.length&&l!==0&&l<Ra[u].priority;u++);Ra.splice(u,0,i),u===0&&dy(i)}};function pp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Nu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function pP(i,l,u,g,N){if(N){if(typeof g=="function"){var C=g;g=function(){var re=wu(T);C.call(re)}}var T=bw(l,g,i,0,null,!1,!1,"",Sw);return i._reactRootContainer=T,i[la]=T.current,Vl(i.nodeType===8?i.parentNode:i),Ai(),T}for(;N=i.lastChild;)i.removeChild(N);if(typeof g=="function"){var M=g;g=function(){var re=wu(z);M.call(re)}}var z=hp(i,0,!1,null,null,!1,!1,"",Sw);return i._reactRootContainer=z,i[la]=z.current,Vl(i.nodeType===8?i.parentNode:i),Ai(function(){ju(l,z,u,g)}),z}function _u(i,l,u,g,N){var C=u._reactRootContainer;if(C){var T=C;if(typeof N=="function"){var M=N;N=function(){var z=wu(T);M.call(z)}}ju(l,T,i,N)}else T=pP(u,l,i,N,g);return wu(T)}ay=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var u=Pl(l.pendingLanes);u!==0&&($f(l,u|1),vr(l,gs()),(Pt&6)===0&&(Po=gs()+500,La()))}break;case 13:Ai(function(){var g=ha(i,1);if(g!==null){var N=lr();vn(g,i,1,N)}}),fp(i,1)}},zf=function(i){if(i.tag===13){var l=ha(i,134217728);if(l!==null){var u=lr();vn(l,i,134217728,u)}fp(i,134217728)}},iy=function(i){if(i.tag===13){var l=qa(i),u=ha(i,l);if(u!==null){var g=lr();vn(u,i,l,g)}fp(i,l)}},oy=function(){return zt},ly=function(i,l){var u=zt;try{return zt=i,l()}finally{zt=u}},Ln=function(i,l,u){switch(l){case"input":if(Zt(i,u),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var g=u[l];if(g!==i&&g.form===i.form){var N=Ud(g);if(!N)throw Error(r(90));_e(g),Zt(g,N)}}}break;case"textarea":Ce(i,u);break;case"select":l=u.value,l!=null&&G(i,!!u.multiple,l,!1)}},Ye=ip,at=Ai;var xP={usingClientEntryPoint:!1,Events:[Gl,xo,Ud,ee,pe,ip]},oc={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gP={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zv(i),i===null?null:i.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||mP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{bd=Su.inject(gP),$n=Su}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xP,yr.createPortal=function(i,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pp(l))throw Error(r(200));return fP(i,l,null,u)},yr.createRoot=function(i,l){if(!pp(i))throw Error(r(299));var u=!1,g="",N=_w;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=hp(i,1,!1,null,null,u,!1,g,N),i[la]=l.current,Vl(i.nodeType===8?i.parentNode:i),new mp(l)},yr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Zv(l),i=i===null?null:i.stateNode,i},yr.flushSync=function(i){return Ai(i)},yr.hydrate=function(i,l,u){if(!Nu(l))throw Error(r(200));return _u(null,i,l,!0,u)},yr.hydrateRoot=function(i,l,u){if(!pp(i))throw Error(r(405));var g=u!=null&&u.hydratedSources||null,N=!1,C="",T=_w;if(u!=null&&(u.unstable_strictMode===!0&&(N=!0),u.identifierPrefix!==void 0&&(C=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),l=bw(l,null,i,1,u??null,N,!1,C,T),i[la]=l.current,Vl(i),g)for(i=0;i<g.length;i++)u=g[i],N=u._getVersion,N=N(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,N]:l.mutableSourceEagerHydrationData.push(u,N);return new bu(l)},yr.render=function(i,l,u){if(!Nu(l))throw Error(r(200));return _u(null,i,l,!1,u)},yr.unmountComponentAtNode=function(i){if(!Nu(i))throw Error(r(40));return i._reactRootContainer?(Ai(function(){_u(null,null,i,!1,function(){i._reactRootContainer=null,i[la]=null})}),!0):!1},yr.unstable_batchedUpdates=ip,yr.unstable_renderSubtreeIntoContainer=function(i,l,u,g){if(!Nu(u))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return _u(i,l,u,!1,g)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var Dw;function rN(){if(Dw)return vp.exports;Dw=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),vp.exports=kP(),vp.exports}var Mw;function CP(){if(Mw)return ku;Mw=1;var s=rN();return ku.createRoot=s.createRoot,ku.hydrateRoot=s.hydrateRoot,ku}var EP=CP(),x=Ah();const de=Xx(x),Jx=yP({__proto__:null,default:de},[x]);var Ju=["light","dark"],eg="(prefers-color-scheme: dark)",PP=typeof window>"u",tg=x.createContext(void 0),TP={setTheme:s=>{},themes:[]},nN=()=>{var s;return(s=x.useContext(tg))!=null?s:TP},RP=s=>x.useContext(tg)?s.children:x.createElement(DP,{...s}),AP=["light","dark"],DP=({forcedTheme:s,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:o=AP,defaultTheme:c=r?"system":"light",attribute:d="data-theme",value:h,children:f,nonce:m})=>{let[p,j]=x.useState(()=>Ow(a,c)),[w,S]=x.useState(()=>Ow(a)),v=h?Object.values(h):o,y=x.useCallback(E=>{let P=E;if(!P)return;E==="system"&&r&&(P=Iw());let R=h?h[P]:P,D=t?OP():null,U=document.documentElement;if(d==="class"?(U.classList.remove(...v),R&&U.classList.add(R)):R?U.setAttribute(d,R):U.removeAttribute(d),n){let V=Ju.includes(c)?c:null,te=Ju.includes(P)?P:V;U.style.colorScheme=te}D?.()},[]),b=x.useCallback(E=>{let P=typeof E=="function"?E(E):E;j(P);try{localStorage.setItem(a,P)}catch{}},[s]),_=x.useCallback(E=>{let P=Iw(E);S(P),p==="system"&&r&&!s&&y("system")},[p,s]);x.useEffect(()=>{let E=window.matchMedia(eg);return E.addListener(_),_(E),()=>E.removeListener(_)},[_]),x.useEffect(()=>{let E=P=>{if(P.key!==a)return;let R=P.newValue||c;b(R)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[b]),x.useEffect(()=>{y(s??p)},[s,p]);let k=x.useMemo(()=>({theme:p,setTheme:b,forcedTheme:s,resolvedTheme:p==="system"?w:p,themes:r?[...o,"system"]:o,systemTheme:r?w:void 0}),[p,b,s,w,r,o]);return x.createElement(tg.Provider,{value:k},x.createElement(MP,{forcedTheme:s,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:o,defaultTheme:c,attribute:d,value:h,children:f,attrs:v,nonce:m}),f)},MP=x.memo(({forcedTheme:s,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:o,value:c,attrs:d,nonce:h})=>{let f=o==="system",m=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${d.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,p=a?Ju.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",j=(S,v=!1,y=!0)=>{let b=c?c[S]:S,_=v?S+"|| ''":`'${b}'`,k="";return a&&y&&!v&&Ju.includes(S)&&(k+=`d.style.colorScheme = '${S}';`),r==="class"?v||b?k+=`c.add(${_})`:k+="null":b&&(k+=`d[s](n,${_})`),k},w=s?`!function(){${m}${j(s)}}()`:n?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${f})){var t='${eg}',m=window.matchMedia(t);if(m.media!==t||m.matches){${j("dark")}}else{${j("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${j(c?"x[e]":"e",!0)}}${f?"":"else{"+j(o,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${j(c?"x[e]":"e",!0)}}else{${j(o,!1,!1)};}${p}}catch(t){}}();`;return x.createElement("script",{nonce:h,dangerouslySetInnerHTML:{__html:w}})}),Ow=(s,t)=>{if(PP)return;let r;try{r=localStorage.getItem(s)||void 0}catch{}return r||t},OP=()=>{let s=document.createElement("style");return s.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(s),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(s)},1)}},Iw=s=>(s||(s=window.matchMedia(eg)),s.matches?"dark":"light");/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aN=(...s)=>s.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=x.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:c,...d},h)=>x.createElement("svg",{ref:h,...LP,width:t,height:t,stroke:s,strokeWidth:n?Number(r)*24/Number(t):r,className:aN("lucide",a),...d},[...c.map(([f,m])=>x.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(s,t)=>{const r=x.forwardRef(({className:n,...a},o)=>x.createElement(FP,{ref:o,iconNode:t,className:aN(`lucide-${IP(s)}`,n),...a}));return r.displayName=`${s}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=he("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=he("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=he("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=he("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=he("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=he("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=he("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=he("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=he("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=he("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=he("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=he("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=he("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=he("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=he("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=he("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=he("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=he("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=he("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=he("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=he("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=he("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=he("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=he("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=he("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=he("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=he("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=he("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=he("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=he("Tent",[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=he("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=he("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=he("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=he("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=he("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=he("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=he("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=he("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=he("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=he("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=he("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=he("Volume",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=he("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=he("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=he("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function zw(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function Ih(...s){return t=>{let r=!1;const n=s.map(a=>{const o=zw(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():zw(s[a],null)}}}}function ft(...s){return x.useCallback(Ih(...s),s)}function hi(s){const t=iT(s),r=x.forwardRef((n,a)=>{const{children:o,...c}=n,d=x.Children.toArray(o),h=d.find(oT);if(h){const f=h.props.children,m=d.map(p=>p===h?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return e.jsx(t,{...c,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return e.jsx(t,{...c,ref:a,children:o})});return r.displayName=`${s}.Slot`,r}var ON=hi("Slot");function iT(s){const t=x.forwardRef((r,n)=>{const{children:a,...o}=r;if(x.isValidElement(a)){const c=cT(a),d=lT(o,a.props);return a.type!==x.Fragment&&(d.ref=n?Ih(n,c):c),x.cloneElement(a,d)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var IN=Symbol("radix.slottable");function LN(s){const t=({children:r})=>e.jsx(e.Fragment,{children:r});return t.displayName=`${s}.Slottable`,t.__radixId=IN,t}function oT(s){return x.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===IN}function lT(s,t){const r={...t};for(const n in t){const a=s[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...d)=>{const h=o(...d);return a(...d),h}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...s,...r}}function cT(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}function FN(s){var t,r,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var a=s.length;for(t=0;t<a;t++)s[t]&&(r=FN(s[t]))&&(n&&(n+=" "),n+=r)}else for(r in s)s[r]&&(n&&(n+=" "),n+=r);return n}function $N(){for(var s,t,r=0,n="",a=arguments.length;r<a;r++)(s=arguments[r])&&(t=FN(s))&&(n&&(n+=" "),n+=t);return n}const Uw=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Bw=$N,pl=(s,t)=>r=>{var n;if(t?.variants==null)return Bw(s,r?.class,r?.className);const{variants:a,defaultVariants:o}=t,c=Object.keys(a).map(f=>{const m=r?.[f],p=o?.[f];if(m===null)return null;const j=Uw(m)||Uw(p);return a[f][j]}),d=r&&Object.entries(r).reduce((f,m)=>{let[p,j]=m;return j===void 0||(f[p]=j),f},{}),h=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,m)=>{let{class:p,className:j,...w}=m;return Object.entries(w).every(S=>{let[v,y]=S;return Array.isArray(y)?y.includes({...o,...d}[v]):{...o,...d}[v]===y})?[...f,p,j]:f},[]);return Bw(s,c,h,r?.class,r?.className)},dg="-",dT=s=>{const t=hT(s),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=s;return{getClassGroupId:c=>{const d=c.split(dg);return d[0]===""&&d.length!==1&&d.shift(),zN(d,t)||uT(c)},getConflictingClassGroupIds:(c,d)=>{const h=r[c]||[];return d&&n[c]?[...h,...n[c]]:h}}},zN=(s,t)=>{if(s.length===0)return t.classGroupId;const r=s[0],n=t.nextPart.get(r),a=n?zN(s.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=s.join(dg);return t.validators.find(({validator:c})=>c(o))?.classGroupId},qw=/^\[(.+)\]$/,uT=s=>{if(qw.test(s)){const t=qw.exec(s)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},hT=s=>{const{theme:t,prefix:r}=s,n={nextPart:new Map,validators:[]};return mT(Object.entries(s.classGroups),r).forEach(([o,c])=>{nx(c,n,o,t)}),n},nx=(s,t,r,n)=>{s.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Vw(t,a);o.classGroupId=r;return}if(typeof a=="function"){if(fT(a)){nx(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,c])=>{nx(c,Vw(t,o),r,n)})})},Vw=(s,t)=>{let r=s;return t.split(dg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},fT=s=>s.isThemeGetter,mT=(s,t)=>t?s.map(([r,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([c,d])=>[t+c,d])):o);return[r,a]}):s,pT=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(o,c)=>{r.set(o,c),t++,t>s&&(t=0,n=r,r=new Map)};return{get(o){let c=r.get(o);if(c!==void 0)return c;if((c=n.get(o))!==void 0)return a(o,c),c},set(o,c){r.has(o)?r.set(o,c):a(o,c)}}},UN="!",xT=s=>{const{separator:t,experimentalParseClassName:r}=s,n=t.length===1,a=t[0],o=t.length,c=d=>{const h=[];let f=0,m=0,p;for(let y=0;y<d.length;y++){let b=d[y];if(f===0){if(b===a&&(n||d.slice(y,y+o)===t)){h.push(d.slice(m,y)),m=y+o;continue}if(b==="/"){p=y;continue}}b==="["?f++:b==="]"&&f--}const j=h.length===0?d:d.substring(m),w=j.startsWith(UN),S=w?j.substring(1):j,v=p&&p>m?p-m:void 0;return{modifiers:h,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:v}};return r?d=>r({className:d,parseClassName:c}):c},gT=s=>{if(s.length<=1)return s;const t=[];let r=[];return s.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},vT=s=>({cache:pT(s.cacheSize),parseClassName:xT(s),...dT(s)}),yT=/\s+/,jT=(s,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],c=s.trim().split(yT);let d="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{modifiers:m,hasImportantModifier:p,baseClassName:j,maybePostfixModifierPosition:w}=r(f);let S=!!w,v=n(S?j.substring(0,w):j);if(!v){if(!S){d=f+(d.length>0?" "+d:d);continue}if(v=n(j),!v){d=f+(d.length>0?" "+d:d);continue}S=!1}const y=gT(m).join(":"),b=p?y+UN:y,_=b+v;if(o.includes(_))continue;o.push(_);const k=a(v,S);for(let E=0;E<k.length;++E){const P=k[E];o.push(b+P)}d=f+(d.length>0?" "+d:d)}return d};function wT(){let s=0,t,r,n="";for(;s<arguments.length;)(t=arguments[s++])&&(r=BN(t))&&(n&&(n+=" "),n+=r);return n}const BN=s=>{if(typeof s=="string")return s;let t,r="";for(let n=0;n<s.length;n++)s[n]&&(t=BN(s[n]))&&(r&&(r+=" "),r+=t);return r};function bT(s,...t){let r,n,a,o=c;function c(h){const f=t.reduce((m,p)=>p(m),s());return r=vT(f),n=r.cache.get,a=r.cache.set,o=d,d(h)}function d(h){const f=n(h);if(f)return f;const m=jT(h,r);return a(h,m),m}return function(){return o(wT.apply(null,arguments))}}const as=s=>{const t=r=>r[s]||[];return t.isThemeGetter=!0,t},qN=/^\[(?:([a-z-]+):)?(.+)\]$/i,NT=/^\d+\/\d+$/,_T=new Set(["px","full","screen"]),ST=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ET=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xa=s=>Yo(s)||_T.has(s)||NT.test(s),Ga=s=>xl(s,"length",LT),Yo=s=>!!s&&!Number.isNaN(Number(s)),wp=s=>xl(s,"number",Yo),cc=s=>!!s&&Number.isInteger(Number(s)),TT=s=>s.endsWith("%")&&Yo(s.slice(0,-1)),yt=s=>qN.test(s),Ka=s=>ST.test(s),RT=new Set(["length","size","percentage"]),AT=s=>xl(s,RT,VN),DT=s=>xl(s,"position",VN),MT=new Set(["image","url"]),OT=s=>xl(s,MT,$T),IT=s=>xl(s,"",FT),dc=()=>!0,xl=(s,t,r)=>{const n=qN.exec(s);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},LT=s=>kT.test(s)&&!CT.test(s),VN=()=>!1,FT=s=>ET.test(s),$T=s=>PT.test(s),zT=()=>{const s=as("colors"),t=as("spacing"),r=as("blur"),n=as("brightness"),a=as("borderColor"),o=as("borderRadius"),c=as("borderSpacing"),d=as("borderWidth"),h=as("contrast"),f=as("grayscale"),m=as("hueRotate"),p=as("invert"),j=as("gap"),w=as("gradientColorStops"),S=as("gradientColorStopPositions"),v=as("inset"),y=as("margin"),b=as("opacity"),_=as("padding"),k=as("saturate"),E=as("scale"),P=as("sepia"),R=as("skew"),D=as("space"),U=as("translate"),V=()=>["auto","contain","none"],te=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto",yt,t],K=()=>[yt,t],ce=()=>["",xa,Ga],H=()=>["auto",Yo,yt],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",yt],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[Yo,yt];return{cacheSize:500,separator:":",theme:{colors:[dc],spacing:[xa,Ga],blur:["none","",Ka,yt],brightness:I(),borderColor:[s],borderRadius:["none","","full",Ka,yt],borderSpacing:K(),borderWidth:ce(),contrast:I(),grayscale:W(),hueRotate:I(),invert:W(),gap:K(),gradientColorStops:[s],gradientColorStopPositions:[TT,Ga],inset:oe(),margin:oe(),opacity:I(),padding:K(),saturate:I(),scale:I(),sepia:W(),skew:I(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",yt]}],container:["container"],columns:[{columns:[Ka]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),yt]}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cc,yt]}],basis:[{basis:oe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yt]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",cc,yt]}],"grid-cols":[{"grid-cols":[dc]}],"col-start-end":[{col:["auto",{span:["full",cc,yt]},yt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[dc]}],"row-start-end":[{row:["auto",{span:[cc,yt]},yt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yt]}],gap:[{gap:[j]}],"gap-x":[{"gap-x":[j]}],"gap-y":[{"gap-y":[j]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yt,t]}],"min-w":[{"min-w":[yt,t,"min","max","fit"]}],"max-w":[{"max-w":[yt,t,"none","full","min","max","fit","prose",{screen:[Ka]},Ka]}],h:[{h:[yt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ka,Ga]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wp]}],"font-family":[{font:[dc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yt]}],"line-clamp":[{"line-clamp":["none",Yo,wp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xa,yt]}],"list-image":[{"list-image":["none",yt]}],"list-style-type":[{list:["none","disc","decimal",yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xa,Ga]}],"underline-offset":[{"underline-offset":["auto",xa,yt]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),DT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OT]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:ue()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[xa,yt]}],"outline-w":[{outline:[xa,Ga]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[xa,Ga]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",Ka,IT]}],"shadow-color":[{shadow:[dc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Ka,yt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yt]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",yt]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[cc,yt]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yt]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[xa,Ga,wp]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UT=bT(zT);function be(...s){return UT($N(s))}const Rc=pl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium smooth-transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-glow adventure-shadow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary/20 bg-background hover:bg-primary/5 hover:border-primary/40 text-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-white/10 border border-white/30 text-white hover:bg-white/20 backdrop-blur-sm"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),A=x.forwardRef(({className:s,variant:t,size:r,asChild:n=!1,...a},o)=>{const c=n?ON:"button";return e.jsx(c,{className:be(Rc({variant:t,size:r,className:s})),ref:o,...a})});A.displayName="Button";const $=x.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));$.displayName="Card";const Z=x.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",s),...t}));Z.displayName="CardHeader";const J=x.forwardRef(({className:s,...t},r)=>e.jsx("h3",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",s),...t}));J.displayName="CardTitle";const Je=x.forwardRef(({className:s,...t},r)=>e.jsx("p",{ref:r,className:be("text-sm text-muted-foreground",s),...t}));Je.displayName="CardDescription";const B=x.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:be("p-6 pt-0",s),...t}));B.displayName="CardContent";const Qc=x.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",s),...t}));Qc.displayName="CardFooter";const WN=x.createContext(void 0),BT={ar:{home:"الرئيسية",exploreNav:"استكشف",services:"الخدمات",profile:"الملف الشخصي",settings:"الإعدادات",dashboard:"لوحة التحكم",logout:"تسجيل الخروج",login:"تسجيل الدخول",signup:"إنشاء حساب",index:{welcomeBack:"مرحباً بعودتك",discoverEvents:"اكتشف أحدث الفعاليات والأنشطة",featuredEvents:"الفعاليات المميزة",popularCategories:"الفئات الشائعة",upcomingEvents:"الفعاليات القادمة",joinAdventure:"انضم إلى المغامرة",bookNow:"احجز الآن",learnMore:"اعرف المزيد",adventureAwaits:"المغامرة في انتظارك",getStarted:"ابدأ الآن",exploreNow:"استكشف الآن"},explore:{title:"استكشاف الفعاليات",searchPlaceholder:"ابحث عن الفعاليات...",allCategories:"جميع الفئات",allEvents:"جميع الفعاليات",noEvents:"لا توجد فعاليات متاحة حالياً",filterByDate:"تصفية حسب التاريخ",filterByPrice:"تصفية حسب السعر",filterByLocation:"تصفية حسب الموقع",sortBy:"ترتيب حسب",newest:"الأحدث",oldest:"الأقدم",priceHighToLow:"السعر: من الأعلى للأقل",priceLowToHigh:"السعر: من الأقل للأعلى",popularity:"الأكثر شعبية",clearFilters:"مسح الفلاتر",results:"نتيجة",free:"مجاني",riyal:"ريال"},servicesPage:{title:"الخدمات المتاحة",subtitle:"اكتشف الخدمات المميزة لتجربة أفضل",searchServices:"ابحث عن الخدمات...",allServices:"جميع الخدمات",noServices:"لا توجد خدمات متاحة حالياً",requestService:"طلب الخدمة",serviceDetails:"تفاصيل الخدمة",duration:"المدة",minutes:"دقيقة",hours:"ساعة",days:"يوم",available:"متاح",unavailable:"غير متاح",contactProvider:"اتصل بمقدم الخدمة"},eventDetails:{title:"تفاصيل الفعالية",description:"الوصف",location:"الموقع",dateTime:"التاريخ والوقت",price:"السعر",organizer:"المنظم",category:"الفئة",capacity:"السعة",available:"متاح",soldOut:"نفدت التذاكر",bookTicket:"احجز تذكرة",shareEvent:"شارك الفعالية",addToCalendar:"أضف للتقويم",eventHighlights:"أبرز المعالم",requirements:"المتطلبات",whatToExpect:"ما تتوقعه",safetyGuidelines:"إرشادات السلامة",reviews:"التقييمات",rating:"التقييم",noReviews:"لا توجد تقييمات بعد",writeReview:"اكتب تقييماً",similarEvents:"فعاليات مشابهة",eventRules:"قوانين الفعالية",cancellationPolicy:"سياسة الإلغاء",contactOrganizer:"تواصل مع المنظم",reportEvent:"الإبلاغ عن الفعالية"},serviceDetails:{title:"تفاصيل الخدمة",description:"الوصف",provider:"مقدم الخدمة",duration:"المدة",price:"السعر",location:"الموقع",availability:"التوفر",features:"المميزات",requestService:"طلب الخدمة",contactProvider:"تواصل مع المقدم",serviceIncludes:"تشمل الخدمة",serviceExcludes:"لا تشمل الخدمة",bookingPolicy:"سياسة الحجز",cancellationPolicy:"سياسة الإلغاء",reviews:"التقييمات",rating:"التقييم",writeReview:"اكتب تقييماً",similarServices:"خدمات مشابهة",reportService:"الإبلاغ عن الخدمة",shareService:"شارك الخدمة"},dashboardPage:{title:"لوحة التحكم",welcome:"مرحباً",quickStats:"إحصائيات سريعة",totalBookings:"إجمالي الحجوزات",upcomingEvents:"الفعاليات القادمة",totalSpent:"إجمالي المبلغ المنفق",loyaltyPoints:"نقاط الولاء",recentActivity:"النشاط الأخير",bookingHistory:"تاريخ الحجوزات",favorites:"المفضلة",recommendations:"التوصيات",quickActions:"إجراءات سريعة",exploreEvents:"استكشف الفعاليات",browseServices:"تصفح الخدمات",manageProfile:"إدارة الملف الشخصي",viewTickets:"عرض التذاكر",checkWallet:"فحص المحفظة",overview:"نظرة عامة",analytics:"التحليلات",reports:"التقارير",settings:"الإعدادات",notifications:"الإشعارات",messages:"الرسائل"},profilePage:{title:"الملف الشخصي",personalInfo:"المعلومات الشخصية",fullName:"الاسم الكامل",email:"البريد الإلكتروني",phone:"رقم الهاتف",dateOfBirth:"تاريخ الميلاد",gender:"الجنس",nationality:"الجنسية",city:"المدينة",interests:"الاهتمامات",bio:"نبذة عني",profilePicture:"الصورة الشخصية",changePassword:"تغيير كلمة المرور",currentPassword:"كلمة المرور الحالية",newPassword:"كلمة المرور الجديدة",confirmNewPassword:"تأكيد كلمة المرور الجديدة",updateProfile:"تحديث الملف الشخصي",accountSettings:"إعدادات الحساب",privacySettings:"إعدادات الخصوصية",notificationPreferences:"تفضيلات الإشعارات",deleteAccount:"حذف الحساب",accountType:"نوع الحساب",memberSince:"عضو منذ",lastActive:"آخر نشاط",verificationStatus:"حالة التحقق",verified:"محقق",unverified:"غير محقق",verifyAccount:"تحقق من الحساب"},settingsPage:{title:"الإعدادات",general:"عام",account:"الحساب",privacy:"الخصوصية",notifications:"الإشعارات",security:"الأمان",language:"اللغة",theme:"المظهر",currency:"العملة",timezone:"المنطقة الزمنية",emailNotifications:"إشعارات البريد الإلكتروني",smsNotifications:"إشعارات الرسائل النصية",pushNotifications:"الإشعارات المنبثقة",marketingEmails:"رسائل تسويقية",eventReminders:"تذكيرات الفعاليات",bookingConfirmations:"تأكيدات الحجز",newEventAlerts:"تنبيهات الفعاليات الجديدة",twoFactorAuth:"المصادقة الثنائية",loginAlerts:"تنبيهات تسجيل الدخول",deviceManagement:"إدارة الأجهزة",sessionHistory:"تاريخ الجلسات",dataDownload:"تحميل البيانات",accountDeletion:"حذف الحساب",lightMode:"الوضع الفاتح",darkMode:"الوضع المظلم",systemDefault:"افتراضي النظام",enable:"تفعيل",disable:"إيقاف",saveChanges:"حفظ التغييرات",resetToDefault:"إعادة تعيين للافتراضي"},createEvent:{title:"إنشاء فعالية جديدة",basicInfo:"المعلومات الأساسية",eventTitle:"عنوان الفعالية",eventDescription:"وصف الفعالية",category:"الفئة",selectCategory:"اختر الفئة",eventImage:"صورة الفعالية",uploadImage:"رفع صورة",dateTime:"التاريخ والوقت",startDate:"تاريخ البداية",endDate:"تاريخ النهاية",startTime:"وقت البداية",endTime:"وقت النهاية",location:"الموقع",venue:"المكان",address:"العنوان",onlineEvent:"فعالية عبر الإنترنت",meetingLink:"رابط الاجتماع",pricing:"التسعير",freeEvent:"فعالية مجانية",paidEvent:"فعالية مدفوعة",ticketPrice:"سعر التذكرة",currency:"العملة",capacity:"السعة",maxAttendees:"الحد الأقصى للحضور",minAttendees:"الحد الأدنى للحضور",registrationDeadline:"موعد انتهاء التسجيل",requirements:"المتطلبات",ageRestriction:"قيود العمر",equipmentNeeded:"المعدات المطلوبة",fitnessLevel:"مستوى اللياقة",specialRequirements:"متطلبات خاصة",additionalInfo:"معلومات إضافية",eventRules:"قوانين الفعالية",cancellationPolicy:"سياسة الإلغاء",refundPolicy:"سياسة الاسترداد",contactInfo:"معلومات التواصل",organizerName:"اسم المنظم",organizerEmail:"بريد المنظم الإلكتروني",organizerPhone:"هاتف المنظم",createEvent:"إنشاء الفعالية",saveDraft:"حفظ كمسودة",preview:"معاينة",publish:"نشر",eventCreated:"تم إنشاء الفعالية بنجاح",eventSaved:"تم حفظ الفعالية كمسودة"},createService:{title:"إنشاء خدمة جديدة",basicInfo:"المعلومات الأساسية",serviceName:"اسم الخدمة",serviceDescription:"وصف الخدمة",category:"الفئة",selectCategory:"اختر الفئة",serviceImage:"صورة الخدمة",uploadImage:"رفع صورة",pricing:"التسعير",servicePrice:"سعر الخدمة",currency:"العملة",duration:"المدة",minutes:"دقيقة",hours:"ساعة",days:"يوم",location:"الموقع",serviceLocation:"موقع تقديم الخدمة",onlineService:"خدمة عبر الإنترنت",homeService:"خدمة منزلية",officeService:"خدمة مكتبية",availability:"التوفر",workingHours:"ساعات العمل",workingDays:"أيام العمل",availableSlots:"المواعيد المتاحة",features:"المميزات",serviceIncludes:"تشمل الخدمة",serviceExcludes:"لا تشمل الخدمة",requirements:"المتطلبات",equipmentProvided:"المعدات المقدمة",clientRequirements:"متطلبات العميل",additionalInfo:"معلومات إضافية",serviceTerms:"شروط الخدمة",cancellationPolicy:"سياسة الإلغاء",refundPolicy:"سياسة الاسترداد",contactInfo:"معلومات التواصل",providerName:"اسم مقدم الخدمة",providerEmail:"بريد مقدم الخدمة",providerPhone:"هاتف مقدم الخدمة",createService:"إنشاء الخدمة",saveDraft:"حفظ كمسودة",preview:"معاينة",publish:"نشر",serviceCreated:"تم إنشاء الخدمة بنجاح",serviceSaved:"تم حفظ الخدمة كمسودة"},wallet:{title:"المحفظة",balance:"الرصيد",availableBalance:"الرصيد المتاح",pendingAmount:"المبلغ المعلق",totalSpent:"إجمالي المبلغ المنفق",totalEarned:"إجمالي المبلغ المكتسب",transactions:"المعاملات",recentTransactions:"المعاملات الأخيرة",allTransactions:"جميع المعاملات",income:"دخل",expense:"مصروف",transfer:"تحويل",refund:"استرداد",commission:"عمولة",addMoney:"إضافة أموال",withdrawMoney:"سحب أموال",transferMoney:"تحويل أموال",amount:"المبلغ",enterAmount:"أدخل المبلغ",paymentMethod:"طريقة الدفع",creditCard:"بطاقة ائتمان",debitCard:"بطاقة خصم",bankTransfer:"تحويل بنكي",digitalWallet:"محفظة رقمية",transactionHistory:"تاريخ المعاملات",transactionId:"معرف المعاملة",date:"التاريخ",description:"الوصف",status:"الحالة",completed:"مكتمل",pending:"معلق",failed:"فشل",cancelled:"ملغي",downloadStatement:"تحميل كشف الحساب",paymentSettings:"إعدادات الدفع",autoRecharge:"الشحن التلقائي",lowBalanceAlert:"تنبيه الرصيد المنخفض",transactionLimits:"حدود المعاملات",dailyLimit:"الحد اليومي",monthlyLimit:"الحد الشهري",securitySettings:"إعدادات الأمان",transactionPin:"رقم المعاملة السري",changePinCode:"تغيير الرقم السري"},points:{title:"نقاط الولاء",currentPoints:"النقاط الحالية",pointsEarned:"النقاط المكتسبة",pointsSpent:"النقاط المستخدمة",pointsExpiring:"النقاط المنتهية الصلاحية",earnPoints:"اكسب نقاط",redeemPoints:"استبدل النقاط",pointsHistory:"تاريخ النقاط",earnedFrom:"مكتسبة من",usedFor:"مستخدمة في",booking:"الحجز",referral:"الإحالة",review:"التقييم",bonus:"مكافأة",rewardsProgram:"برنامج المكافآت",loyaltyTiers:"مستويات الولاء",bronze:"برونزي",silver:"فضي",gold:"ذهبي",platinum:"بلاتيني",nextTier:"المستوى التالي",pointsToNextTier:"النقاط للمستوى التالي",tierBenefits:"مزايا المستوى",discount:"خصم",exclusiveEvents:"فعاليات حصرية",prioritySupport:"دعم أولوية",freeShipping:"شحن مجاني",availableRewards:"المكافآت المتاحة",redeemReward:"استبدال المكافأة",pointsRequired:"النقاط المطلوبة",rewardRedeemed:"تم استبدال المكافأة",pointsExpiry:"انتهاء صلاحية النقاط",expiringIn:"تنتهي في",extendValidity:"تمديد الصلاحية",transferPoints:"تحويل نقاط",giftPoints:"إهداء نقاط",pointsBalance:"رصيد النقاط",earnRate:"معدل الكسب",spendRate:"معدل الإنفاق",conversionRate:"معدل التحويل"},myEvents:{title:"فعالياتي",bookedEvents:"الفعاليات المحجوزة",upcomingEvents:"الفعاليات القادمة",pastEvents:"الفعاليات السابقة",cancelledEvents:"الفعاليات الملغية",noEvents:"لا توجد فعاليات",bookingConfirmed:"تم تأكيد الحجز",bookingPending:"الحجز معلق",bookingCancelled:"تم إلغاء الحجز",eventCompleted:"انتهت الفعالية",viewTicket:"عرض التذكرة",downloadTicket:"تحميل التذكرة",cancelBooking:"إلغاء الحجز",reschedule:"إعادة جدولة",addToCalendar:"أضف للتقويم",shareEvent:"شارك الفعالية",writeReview:"اكتب تقييماً",eventReminder:"تذكير الفعالية",checkIn:"تسجيل الوصول",bookingReference:"مرجع الحجز",bookingDate:"تاريخ الحجز",paymentStatus:"حالة الدفع",paid:"مدفوع",unpaid:"غير مدفوع",refunded:"مسترد",ticketType:"نوع التذكرة",general:"عام",vip:"كبار الشخصيات",premium:"مميز",groupBooking:"حجز جماعي",transferTicket:"تحويل التذكرة",requestRefund:"طلب استرداد",contactOrganizer:"تواصل مع المنظم",eventDetails:"تفاصيل الفعالية",bookingDetails:"تفاصيل الحجز",attendeeInfo:"معلومات الحضور",emergencyContact:"جهة اتصال الطوارئ"},manageEvents:{title:"إدارة الفعاليات",myEvents:"فعالياتي",createNew:"إنشاء جديد",allEvents:"جميع الفعاليات",publishedEvents:"الفعاليات المنشورة",draftEvents:"المسودات",scheduledEvents:"الفعاليات المجدولة",completedEvents:"الفعاليات المكتملة",cancelledEvents:"الفعاليات الملغية",eventStatus:"حالة الفعالية",published:"منشور",draft:"مسودة",scheduled:"مجدول",live:"مباشر",completed:"مكتمل",cancelled:"ملغي",editEvent:"تعديل الفعالية",duplicateEvent:"نسخ الفعالية",publishEvent:"نشر الفعالية",unpublishEvent:"إلغاء نشر الفعالية",cancelEvent:"إلغاء الفعالية",deleteEvent:"حذف الفعالية",eventAnalytics:"تحليلات الفعالية",bookingCount:"عدد الحجوزات",revenue:"الإيرادات",attendance:"الحضور",registrations:"التسجيلات",cancellations:"الإلغاءات",noShows:"عدم الحضور",attendeeList:"قائمة الحضور",exportAttendees:"تصدير قائمة الحضور",sendMessage:"إرسال رسالة",messageAttendees:"إرسال رسالة للحضور",eventQRCode:"رمز QR للفعالية",checkInSystem:"نظام تسجيل الوصول",eventSettings:"إعدادات الفعالية",bookingSettings:"إعدادات الحجز",paymentSettings:"إعدادات الدفع",notificationSettings:"إعدادات الإشعارات",refundRequests:"طلبات الاسترداد",approveRefund:"موافقة على الاسترداد",denyRefund:"رفض الاسترداد",eventReports:"تقارير الفعالية",financialReport:"التقرير المالي",attendanceReport:"تقرير الحضور",feedbackReport:"تقرير التعليقات",downloadReport:"تحميل التقرير"},manageServices:{title:"إدارة الخدمات",myServices:"خدماتي",createNew:"إنشاء جديد",allServices:"جميع الخدمات",activeServices:"الخدمات النشطة",inactiveServices:"الخدمات غير النشطة",draftServices:"مسودات الخدمات",serviceStatus:"حالة الخدمة",active:"نشط",inactive:"غير نشط",draft:"مسودة",suspended:"معلق",editService:"تعديل الخدمة",duplicateService:"نسخ الخدمة",activateService:"تفعيل الخدمة",deactivateService:"إلغاء تفعيل الخدمة",deleteService:"حذف الخدمة",serviceAnalytics:"تحليلات الخدمة",requestCount:"عدد الطلبات",revenue:"الإيرادات",completionRate:"معدل الإنجاز",rating:"التقييم",reviews:"التقييمات",serviceRequests:"طلبات الخدمة",pendingRequests:"الطلبات المعلقة",acceptedRequests:"الطلبات المقبولة",completedRequests:"الطلبات المكتملة",rejectedRequests:"الطلبات المرفوضة",acceptRequest:"قبول الطلب",rejectRequest:"رفض الطلب",completeRequest:"إكمال الطلب",requestDetails:"تفاصيل الطلب",clientInfo:"معلومات العميل",serviceDate:"تاريخ الخدمة",serviceTime:"وقت الخدمة",serviceLocation:"موقع الخدمة",specialRequests:"طلبات خاصة",pricing:"التسعير",basePrice:"السعر الأساسي",additionalCharges:"رسوم إضافية",totalAmount:"المبلغ الإجمالي",paymentStatus:"حالة الدفع",schedule:"الجدولة",availability:"التوفر",workingHours:"ساعات العمل",breakTime:"وقت الاستراحة",holidays:"العطل",blockedDates:"التواريخ المحجوبة",serviceReports:"تقارير الخدمة",performanceReport:"تقرير الأداء",clientReport:"تقرير العملاء",revenueReport:"تقرير الإيرادات"},organizerDashboard:{title:"لوحة تحكم المنظم",welcome:"مرحباً بك في لوحة تحكم المنظم",overview:"نظرة عامة",quickStats:"إحصائيات سريعة",totalEvents:"إجمالي الفعاليات",activeEvents:"الفعاليات النشطة",totalBookings:"إجمالي الحجوزات",totalRevenue:"إجمالي الإيرادات",upcomingEvents:"الفعاليات القادمة",recentBookings:"الحجوزات الأخيرة",eventPerformance:"أداء الفعاليات",topPerformingEvents:"الفعاليات الأكثر نجاحاً",bookingTrends:"اتجاهات الحجز",monthlyRevenue:"الإيرادات الشهرية",attendeeEngagement:"تفاعل الحضور",quickActions:"إجراءات سريعة",createEvent:"إنشاء فعالية",viewAllEvents:"عرض جميع الفعاليات",manageBookings:"إدارة الحجوزات",viewReports:"عرض التقارير",recentActivity:"النشاط الأخير",newBooking:"حجز جديد",cancellation:"إلغاء",refundRequest:"طلب استرداد",eventUpdate:"تحديث فعالية",messageReceived:"رسالة جديدة",pendingApprovals:"موافقات معلقة",eventApplications:"طلبات الفعاليات",refundRequests:"طلبات الاسترداد",supportTickets:"تذاكر الدعم",notifications:"الإشعارات",messages:"الرسائل",calendar:"التقويم",eventCalendar:"تقويم الفعاليات",bookingCalendar:"تقويم الحجوزات",analytics:"التحليلات",detailedAnalytics:"تحليلات مفصلة",eventAnalytics:"تحليلات الفعاليات",audienceAnalytics:"تحليلات الجمهور",revenueAnalytics:"تحليلات الإيرادات",settings:"الإعدادات",organizerProfile:"ملف المنظم",businessInfo:"معلومات العمل",paymentSettings:"إعدادات الدفع",notificationSettings:"إعدادات الإشعارات"},providerDashboard:{title:"لوحة تحكم مقدم الخدمة",welcome:"مرحباً بك في لوحة تحكم مقدم الخدمة",overview:"نظرة عامة",quickStats:"إحصائيات سريعة",totalServices:"إجمالي الخدمات",activeServices:"الخدمات النشطة",totalRequests:"إجمالي الطلبات",totalEarnings:"إجمالي الأرباح",serviceRequests:"طلبات الخدمة",pendingRequests:"الطلبات المعلقة",acceptedRequests:"الطلبات المقبولة",completedRequests:"الطلبات المكتملة",servicePerformance:"أداء الخدمات",topServices:"الخدمات الأكثر طلباً",clientSatisfaction:"رضا العملاء",averageRating:"متوسط التقييم",monthlyEarnings:"الأرباح الشهرية",requestTrends:"اتجاهات الطلبات",quickActions:"إجراءات سريعة",createService:"إنشاء خدمة",viewAllServices:"عرض جميع الخدمات",manageRequests:"إدارة الطلبات",viewEarnings:"عرض الأرباح",recentActivity:"النشاط الأخير",newRequest:"طلب جديد",requestCompleted:"طلب مكتمل",clientMessage:"رسالة عميل",serviceUpdate:"تحديث خدمة",paymentReceived:"دفعة مستلمة",schedule:"الجدولة",availability:"التوفر",workingHours:"ساعات العمل",appointments:"المواعيد",blockedTimes:"الأوقات المحجوبة",clients:"العملاء",clientList:"قائمة العملاء",clientHistory:"تاريخ العملاء",clientFeedback:"تعليقات العملاء",favoriteClients:"العملاء المفضلون",analytics:"التحليلات",serviceAnalytics:"تحليلات الخدمة",clientAnalytics:"تحليلات العملاء",earningsAnalytics:"تحليلات الأرباح",performanceMetrics:"مقاييس الأداء",settings:"الإعدادات",providerProfile:"ملف مقدم الخدمة",serviceSettings:"إعدادات الخدمة",scheduleSettings:"إعدادات الجدولة",paymentSettings:"إعدادات الدفع",notificationSettings:"إعدادات الإشعارات"},attendeeDashboard:{title:"لوحة تحكم الحضور",welcome:"مرحباً بك في لوحة تحكم الحضور",overview:"نظرة عامة",quickStats:"إحصائيات سريعة",eventsAttended:"الفعاليات المحضورة",upcomingEvents:"الفعاليات القادمة",totalSpent:"إجمالي المنفق",loyaltyPoints:"نقاط الولاء",myBookings:"حجوزاتي",recentBookings:"الحجوزات الأخيرة",nextEvent:"الفعالية التالية",eventHistory:"تاريخ الفعاليات",favoriteEvents:"الفعاليات المفضلة",bookmarkedEvents:"الفعاليات المحفوظة",recommendations:"التوصيات",recommendedEvents:"فعاليات موصى بها",similarEvents:"فعاليات مشابهة",trendingEvents:"الفعاليات الرائجة",quickActions:"إجراءات سريعة",exploreEvents:"استكشف الفعاليات",viewTickets:"عرض التذاكر",checkWallet:"فحص المحفظة",writeReview:"اكتب تقييماً",recentActivity:"النشاط الأخير",eventBooked:"فعالية محجوزة",ticketDownloaded:"تذكرة محملة",reviewSubmitted:"تقييم مُرسل",pointsEarned:"نقاط مكتسبة",eventCompleted:"فعالية مكتملة",preferences:"التفضيلات",eventPreferences:"تفضيلات الفعاليات",notificationPreferences:"تفضيلات الإشعارات",privacySettings:"إعدادات الخصوصية",interests:"الاهتمامات",favoriteCategories:"الفئات المفضلة",locationPreferences:"تفضيلات الموقع",budgetRange:"نطاق الميزانية",calendar:"التقويم",eventCalendar:"تقويم الفعاليات",personalCalendar:"التقويم الشخصي",reminders:"التذكيرات",achievements:"الإنجازات",badges:"الشارات",milestones:"المعالم",socialSharing:"المشاركة الاجتماعية",attendeeNetwork:"شبكة الحضور",friends:"الأصدقاء",followers:"المتابعون",following:"المتابعين",groups:"المجموعات",joinedGroups:"المجموعات المنضم إليها",createGroup:"إنشاء مجموعة",groupEvents:"فعاليات المجموعة",groupDiscussions:"نقاشات المجموعة",feedback:"التعليقات",eventFeedback:"تعليقات الفعالية",appFeedback:"تعليقات التطبيق",suggestions:"الاقتراحات",reportIssue:"الإبلاغ عن مشكلة"},groups:{title:"المجموعات",myGroups:"مجموعاتي",joinedGroups:"المجموعات المنضم إليها",createdGroups:"المجموعات المُنشأة",discoverGroups:"اكتشف المجموعات",popularGroups:"المجموعات الشائعة",recommendedGroups:"المجموعات الموصى بها",createGroup:"إنشاء مجموعة",joinGroup:"انضم للمجموعة",leaveGroup:"ترك المجموعة",groupDetails:"تفاصيل المجموعة",groupName:"اسم المجموعة",groupDescription:"وصف المجموعة",groupCategory:"فئة المجموعة",groupType:"نوع المجموعة",publicGroup:"مجموعة عامة",privateGroup:"مجموعة خاصة",members:"الأعضاء",memberCount:"عدد الأعضاء",admin:"المدير",moderator:"المشرف",member:"عضو",groupEvents:"فعاليات المجموعة",upcomingEvents:"الفعاليات القادمة",pastEvents:"الفعاليات السابقة",createEvent:"إنشاء فعالية",discussions:"النقاشات",newDiscussion:"نقاش جديد",recentPosts:"المنشورات الأخيرة",announcements:"الإعلانات",groupRules:"قوانين المجموعة",groupSettings:"إعدادات المجموعة",inviteMembers:"دعوة أعضاء",memberRequests:"طلبات العضوية",approveRequest:"قبول الطلب",rejectRequest:"رفض الطلب",removeMember:"إزالة عضو",promoteToAdmin:"ترقية لمدير",promoteToModerator:"ترقية لمشرف",demoteFromAdmin:"تنزيل من الإدارة",demoteFromModerator:"تنزيل من الإشراف",groupPhoto:"صورة المجموعة",coverPhoto:"صورة الغلاف",groupLocation:"موقع المجموعة",groupInterests:"اهتمامات المجموعة",joinRequest:"طلب انضمام",requestSent:"تم إرسال الطلب",requestPending:"الطلب معلق",requestApproved:"تم قبول الطلب",requestRejected:"تم رفض الطلب",searchGroups:"البحث في المجموعات",filterByCategory:"تصفية حسب الفئة",filterByLocation:"تصفية حسب الموقع",filterBySize:"تصفية حسب الحجم",groupSize:"حجم المجموعة",small:"صغيرة",medium:"متوسطة",large:"كبيرة",groupActivity:"نشاط المجموعة",activeGroups:"المجموعات النشطة",inactiveGroups:"المجموعات غير النشطة",groupNotifications:"إشعارات المجموعة",muteNotifications:"كتم الإشعارات",unmuteNotifications:"إلغاء كتم الإشعارات",reportGroup:"الإبلاغ عن المجموعة",blockGroup:"حظر المجموعة",unblockGroup:"إلغاء حظر المجموعة"},checkout:{title:"إتمام الحجز",bookingDetails:"تفاصيل الحجز",eventDetails:"تفاصيل الفعالية",serviceDetails:"تفاصيل الخدمة",eventName:"اسم الفعالية",serviceName:"اسم الخدمة",dateTime:"التاريخ والوقت",location:"الموقع",duration:"المدة",organizer:"المنظم",provider:"مقدم الخدمة",ticketType:"نوع التذكرة",quantity:"الكمية",price:"السعر",subtotal:"المجموع الفرعي",tax:"الضريبة",serviceFee:"رسوم الخدمة",processingFee:"رسوم المعالجة",total:"المجموع الكلي",discountCode:"كود الخصم",applyDiscount:"تطبيق الخصم",discountApplied:"تم تطبيق الخصم",invalidCode:"كود غير صالح",personalInfo:"المعلومات الشخصية",fullName:"الاسم الكامل",email:"البريد الإلكتروني",phone:"رقم الهاتف",emergencyContact:"جهة اتصال الطوارئ",specialRequests:"طلبات خاصة",additionalNotes:"ملاحظات إضافية",paymentMethod:"طريقة الدفع",creditCard:"بطاقة ائتمان",debitCard:"بطاقة خصم",digitalWallet:"محفظة رقمية",bankTransfer:"تحويل بنكي",cardNumber:"رقم البطاقة",expiryDate:"تاريخ الانتهاء",cvv:"رمز الأمان",cardholderName:"اسم حامل البطاقة",billingAddress:"عنوان الفوترة",saveCard:"حفظ البطاقة",savedCards:"البطاقات المحفوظة",walletBalance:"رصيد المحفظة",useWalletBalance:"استخدام رصيد المحفظة",loyaltyPoints:"نقاط الولاء",usePoints:"استخدام النقاط",pointsValue:"قيمة النقاط",termsAndConditions:"الشروط والأحكام",agreeToTerms:"أوافق على الشروط والأحكام",cancellationPolicy:"سياسة الإلغاء",refundPolicy:"سياسة الاسترداد",privacyPolicy:"سياسة الخصوصية",proceedToPayment:"المتابعة للدفع",confirmBooking:"تأكيد الحجز",processing:"جاري المعالجة...",paymentSuccessful:"تم الدفع بنجاح",paymentFailed:"فشل في الدفع",bookingConfirmed:"تم تأكيد الحجز",bookingFailed:"فشل في الحجز",bookingReference:"مرجع الحجز",downloadTicket:"تحميل التذكرة",sendTicketEmail:"إرسال التذكرة بالبريد",addToCalendar:"إضافة للتقويم",shareBooking:"مشاركة الحجز",contactSupport:"تواصل مع الدعم",securePayment:"دفع آمن",encryptedConnection:"اتصال مُشفر",securityGuarantee:"ضمان الأمان",moneyBackGuarantee:"ضمان استرداد الأموال"},checkoutSuccess:{title:"تم الحجز بنجاح!",successMessage:"تهانينا! تم تأكيد حجزك بنجاح",bookingConfirmed:"تم تأكيد الحجز",thankYou:"شكراً لك",bookingDetails:"تفاصيل الحجز",bookingReference:"مرجع الحجز",eventName:"اسم الفعالية",serviceName:"اسم الخدمة",dateTime:"التاريخ والوقت",location:"الموقع",ticketType:"نوع التذكرة",quantity:"الكمية",totalPaid:"المبلغ المدفوع",paymentMethod:"طريقة الدفع",transactionId:"معرف المعاملة",nextSteps:"الخطوات التالية",downloadTicket:"تحميل التذكرة",emailTicket:"إرسال التذكرة بالبريد",addToCalendar:"إضافة للتقويم",eventReminder:"تذكير الفعالية",checkInInstructions:"تعليمات تسجيل الوصول",contactInfo:"معلومات التواصل",organizerContact:"تواصل مع المنظم",providerContact:"تواصل مع مقدم الخدمة",supportContact:"تواصل مع الدعم",importantNotes:"ملاحظات مهمة",arrivalTime:"وقت الوصول",requiredItems:"العناصر المطلوبة",dresscode:"قواعد اللباس",ageRestrictions:"قيود العمر",cancellationDeadline:"موعد نهاية الإلغاء",refundPolicy:"سياسة الاسترداد",weatherPolicy:"سياسة الطقس",shareExperience:"شارك تجربتك",socialMedia:"وسائل التواصل الاجتماعي",hashtag:"الهاشتاغ",tellFriends:"أخبر أصدقائك",inviteFriends:"ادع أصدقائك",referralBonus:"مكافأة الإحالة",loyaltyPoints:"نقاط الولاء",pointsEarned:"النقاط المكتسبة",nextReward:"المكافأة التالية",viewDashboard:"عرض لوحة التحكم",exploreMore:"استكشف المزيد",relatedEvents:"فعاليات ذات صلة",relatedServices:"خدمات ذات صلة",backToHome:"العودة للرئيسية",continueExploring:"تابع الاستكشاف",rateExperience:"قيم التجربة",feedback:"التعليقات",suggestions:"الاقتراحات",problemResolution:"حل المشاكل",receiptDownload:"تحميل الإيصال",printReceipt:"طباعة الإيصال",bookingHistory:"تاريخ الحجوزات",manageBooking:"إدارة الحجز",modifyBooking:"تعديل الحجز",cancelBooking:"إلغاء الحجز",transferBooking:"تحويل الحجز"},tickets:{title:"تذاكري",activeTickets:"التذاكر النشطة",upcomingEvents:"الفعاليات القادمة",pastEvents:"الفعاليات السابقة",expiredTickets:"التذاكر المنتهية",cancelledTickets:"التذاكر الملغية",noTickets:"لا توجد تذاكر",ticketDetails:"تفاصيل التذكرة",ticketNumber:"رقم التذكرة",barcode:"الباركود",qrCode:"رمز QR",eventName:"اسم الفعالية",eventDate:"تاريخ الفعالية",eventTime:"وقت الفعالية",venue:"المكان",seatNumber:"رقم المقعد",ticketType:"نوع التذكرة",ticketPrice:"سعر التذكرة",purchaseDate:"تاريخ الشراء",ticketStatus:"حالة التذكرة",valid:"صالحة",used:"مستخدمة",expired:"منتهية",cancelled:"ملغية",refunded:"مستردة",downloadTicket:"تحميل التذكرة",printTicket:"طباعة التذكرة",shareTicket:"مشاركة التذكرة",addToWallet:"إضافة للمحفظة",addToCalendar:"إضافة للتقويم",setReminder:"تعيين تذكير",viewEvent:"عرض الفعالية",eventDetails:"تفاصيل الفعالية",organizerInfo:"معلومات المنظم",contactOrganizer:"تواصل مع المنظم",transferTicket:"تحويل التذكرة",transferTo:"تحويل إلى",transferFee:"رسوم التحويل",confirmTransfer:"تأكيد التحويل",cancelTransfer:"إلغاء التحويل",refundTicket:"استرداد التذكرة",refundAmount:"مبلغ الاسترداد",refundReason:"سبب الاسترداد",refundPolicy:"سياسة الاسترداد",requestRefund:"طلب الاسترداد",refundStatus:"حالة الاسترداد",processingRefund:"جاري معالجة الاسترداد",refundApproved:"تم قبول الاسترداد",refundRejected:"تم رفض الاسترداد",refundCompleted:"تم إكمال الاسترداد",ticketValidation:"تأكيد التذكرة",scanQR:"مسح رمز QR",enterCode:"إدخال الرمز",validationSuccess:"تم التأكيد بنجاح",validationFailed:"فشل في التأكيد",invalidTicket:"تذكرة غير صالحة",duplicateTicket:"تذكرة مكررة",usedTicket:"تذكرة مستخدمة",expiredTicket:"تذكرة منتهية الصلاحية",checkInTime:"وقت تسجيل الوصول",checkOutTime:"وقت تسجيل المغادرة",attendanceConfirmed:"تم تأكيد الحضور",noShow:"عدم حضور",lateArrival:"وصول متأخر",earlyDeparture:"مغادرة مبكرة",ticketNotes:"ملاحظات التذكرة",specialInstructions:"تعليمات خاصة",emergencyContact:"جهة اتصال الطوارئ",healthRequirements:"المتطلبات الصحية",accessibilityInfo:"معلومات إمكانية الوصول",parkingInfo:"معلومات المواقف",transportInfo:"معلومات النقل",weatherUpdate:"تحديث الطقس",eventChanges:"تغييرات الفعالية",notifications:"الإشعارات",ticketInsurance:"تأمين التذكرة",insuranceCoverage:"تغطية التأمين",claimInsurance:"المطالبة بالتأمين",giftTicket:"إهداء التذكرة",sendAsGift:"إرسال كهدية",giftMessage:"رسالة الهدية",giftRecipient:"متلقي الهدية",unwrapGift:"فتح الهدية",thankYouNote:"رسالة شكر"},auth:{signIn:"تسجيل الدخول",signUp:"إنشاء حساب",welcome:"مرحباً بك",welcomeBack:"مرحباً بعودتك",createAccount:"إنشاء حساب جديد",joinCommunity:"انضم إلى مجتمعنا",email:"البريد الإلكتروني",password:"كلمة المرور",confirmPassword:"تأكيد كلمة المرور",fullName:"الاسم الكامل",firstName:"الاسم الأول",lastName:"اسم العائلة",phoneNumber:"رقم الهاتف",dateOfBirth:"تاريخ الميلاد",gender:"الجنس",male:"ذكر",female:"أنثى",other:"آخر",preferNotToSay:"أفضل عدم الذكر",forgotPassword:"نسيت كلمة المرور؟",resetPassword:"إعادة تعيين كلمة المرور",sendResetLink:"إرسال رابط الإعادة تعيين",enterEmail:"أدخل بريدك الإلكتروني",enterPassword:"أدخل كلمة المرور",enterFullName:"أدخل اسمك الكامل",enterPhone:"أدخل رقم هاتفك",rememberMe:"تذكرني",staySignedIn:"ابق مسجلاً للدخول",alreadyHaveAccount:"لديك حساب بالفعل؟",dontHaveAccount:"ليس لديك حساب؟",signInHere:"سجل دخولك هنا",signUpHere:"أنشئ حساباً هنا",orContinueWith:"أو تابع باستخدام",google:"جوجل",facebook:"فيسبوك",apple:"أبل",twitter:"تويتر",signInWithGoogle:"تسجيل الدخول بجوجل",signInWithFacebook:"تسجيل الدخول بفيسبوك",signInWithApple:"تسجيل الدخول بأبل",termsAndConditions:"الشروط والأحكام",privacyPolicy:"سياسة الخصوصية",agreeToTerms:"أوافق على",andPrivacyPolicy:"وسياسة الخصوصية",bySigningUp:"بإنشاء حساب، فإنك توافق على",accountCreated:"تم إنشاء الحساب بنجاح",welcomeToAdrina:"مرحباً بك في أدرينا",verifyEmail:"تحقق من بريدك الإلكتروني",verificationSent:"تم إرسال رابط التحقق إلى بريدك",resendVerification:"إعادة إرسال رابط التحقق",emailVerified:"تم تأكيد البريد الإلكتروني",emailNotVerified:"البريد الإلكتروني غير مؤكد",verifyNow:"تأكيد الآن",skipForNow:"تخطي الآن",invalidCredentials:"بيانات دخول غير صحيحة",emailAlreadyExists:"البريد الإلكتروني موجود بالفعل",weakPassword:"كلمة المرور ضعيفة",passwordMismatch:"كلمات المرور غير متطابقة",passwordRequirements:"يجب أن تحتوي كلمة المرور على 6 أحرف على الأقل",emailFormat:"تنسيق البريد الإلكتروني غير صحيح",requiredField:"هذا الحقل مطلوب",accountLocked:"الحساب مقفل",tooManyAttempts:"محاولات كثيرة، حاول لاحقاً",accountDisabled:"الحساب معطل",loginSuccessful:"تم تسجيل الدخول بنجاح",logoutSuccessful:"تم تسجيل الخروج بنجاح",passwordResetSent:"تم إرسال رابط إعادة تعيين كلمة المرور",passwordChanged:"تم تغيير كلمة المرور بنجاح",profileUpdated:"تم تحديث الملف الشخصي",sessionExpired:"انتهت صلاحية الجلسة",pleaseSignIn:"يرجى تسجيل الدخول مرة أخرى",unauthorized:"غير مخول بالوصول",accessDenied:"تم رفض الوصول",networkError:"خطأ في الشبكة",serverError:"خطأ في الخادم",tryAgainLater:"حاول مرة أخرى لاحقاً",contactSupport:"تواصل مع الدعم",needHelp:"تحتاج مساعدة؟",faq:"الأسئلة الشائعة",support:"الدعم",helpCenter:"مركز المساعدة"},accountType:{title:"اختر نوع حسابك",subtitle:"حدد النوع الذي يناسب احتياجاتك",selectType:"اختر نوع الحساب",changeAnytime:"يمكنك تغيير نوع حسابك في أي وقت",attendee:"حضور",organizer:"منظم فعاليات",provider:"مقدم خدمة",admin:"مدير النظام",attendeeDescription:"احجز واحضر الفعاليات والأنشطة المختلفة",organizerDescription:"نظم وأدر فعالياتك الخاصة وادع الآخرين للمشاركة",providerDescription:"قدم خدماتك المتخصصة للمشاركين في الفعاليات",adminDescription:"أدر المنصة والمستخدمين والمحتوى",attendeeFeatures:"مميزات الحضور",organizerFeatures:"مميزات المنظم",providerFeatures:"مميزات مقدم الخدمة",adminFeatures:"مميزات المدير",bookEvents:"حجز الفعاليات",browseServices:"تصفح الخدمات",earnPoints:"كسب نقاط الولاء",writeReviews:"كتابة التقييمات",joinGroups:"الانضمام للمجموعات",personalCalendar:"التقويم الشخصي",createEvents:"إنشاء الفعاليات",manageBookings:"إدارة الحجوزات",eventAnalytics:"تحليلات الفعاليات",attendeeList:"قوائم الحضور",eventPromotion:"ترويج الفعاليات",revenueTracking:"تتبع الإيرادات",offerServices:"تقديم الخدمات",manageSchedule:"إدارة الجدولة",clientManagement:"إدارة العملاء",serviceAnalytics:"تحليلات الخدمة",earningsTracking:"تتبع الأرباح",professionalProfile:"الملف المهني",userManagement:"إدارة المستخدمين",contentModeration:"إشراف المحتوى",systemSettings:"إعدادات النظام",reportGeneration:"إنشاء التقارير",securityManagement:"إدارة الأمان",platformAnalytics:"تحليلات المنصة",continue:"متابعة",back:"رجوع",confirm:"تأكيد",typeSelected:"تم اختيار نوع الحساب",setupProfile:"إعداد الملف الشخصي",verificationRequired:"مطلوب تحقق",documentUpload:"رفع الوثائق",businessInfo:"معلومات العمل",professionalCertification:"الشهادة المهنية",backgroundCheck:"فحص الخلفية",adminApproval:"موافقة الإدارة",accountUnderReview:"الحساب قيد المراجعة",approvalPending:"في انتظار الموافقة",accountApproved:"تم قبول الحساب",accountRejected:"تم رفض الحساب",resubmitApplication:"إعادة تقديم الطلب",contactAdmin:"تواصل مع الإدارة",upgradeAccount:"ترقية الحساب",downgradeAccount:"تنزيل الحساب",switchAccountType:"تغيير نوع الحساب",accountTypeChanged:"تم تغيير نوع الحساب",restrictions:"القيود",permissions:"الصلاحيات",accessLevel:"مستوى الوصول",featureAvailability:"توفر الميزات",subscriptionRequired:"مطلوب اشتراك",freeTier:"المستوى المجاني",premiumTier:"المستوى المميز",enterprise:"المؤسسي",planDetails:"تفاصيل الخطة",upgradeNow:"الترقية الآن",comparePlans:"مقارنة الخطط",startFreeTrial:"بدء التجربة المجانية",cancelAnytime:"يمكن الإلغاء في أي وقت",noCommitment:"بدون التزام",moneyBackGuarantee:"ضمان استرداد الأموال"},authentication:{signIn:"تسجيل الدخول",signUp:"إنشاء حساب",email:"البريد الإلكتروني",password:"كلمة المرور",confirmPassword:"تأكيد كلمة المرور",forgotPassword:"نسيت كلمة المرور؟",resetPassword:"إعادة تعيين كلمة المرور",createAccount:"إنشاء حساب جديد",alreadyHaveAccount:"لديك حساب بالفعل؟",dontHaveAccount:"ليس لديك حساب؟",signOut:"تسجيل الخروج",accountType:"نوع الحساب",selectAccountType:"اختر نوع الحساب",attendee:"حضور",organizer:"منظم",provider:"مقدم خدمة",admin:"مدير النظام"},admin:{title:"لوحة تحكم الإدارة",dashboard:"لوحة التحكم",overview:"نظرة عامة",statistics:"الإحصائيات",analytics:"التحليلات",users:"المستخدمون",usersManagement:"إدارة المستخدمين",totalUsers:"إجمالي المستخدمين",activeUsers:"المستخدمون النشطون",newUsers:"المستخدمون الجدد",blockedUsers:"المستخدمون المحظورون",userDetails:"تفاصيل المستخدم",blockUser:"حظر المستخدم",unblockUser:"إلغاء حظر المستخدم",deleteUser:"حذف المستخدم",promoteToAdmin:"ترقية لمدير",demoteFromAdmin:"تنزيل من الإدارة",eventsManagement:"إدارة الفعاليات",totalEvents:"إجمالي الفعاليات",activeEvents:"الفعاليات النشطة",pendingEvents:"الفعاليات المعلقة",rejectedEvents:"الفعاليات المرفوضة",approveEvent:"قبول الفعالية",rejectEvent:"رفض الفعالية",servicesManagement:"إدارة الخدمات",totalServices:"إجمالي الخدمات",activeServices:"الخدمات النشطة",pendingServices:"الخدمات المعلقة",approveService:"قبول الخدمة",rejectService:"رفض الخدمة",requestsManagement:"إدارة الطلبات",allRequests:"جميع الطلبات",serviceRequests:"طلبات الخدمات",refundRequests:"طلبات الاسترداد",supportRequests:"طلبات الدعم",reportsManagement:"إدارة التقارير",generateReport:"إنشاء تقرير",downloadReport:"تحميل التقرير",scheduledReports:"التقارير المجدولة",revenueReport:"تقرير الإيرادات",usageReport:"تقرير الاستخدام",performanceReport:"تقرير الأداء",systemSettings:"إعدادات النظام",generalSettings:"الإعدادات العامة",securitySettings:"إعدادات الأمان",notificationSettings:"إعدادات الإشعارات",paymentSettings:"إعدادات الدفع",emailSettings:"إعدادات البريد الإلكتروني",mapboxManagement:"إدارة Mapbox",mapboxTokens:"رموز Mapbox",addToken:"إضافة رمز",editToken:"تعديل الرمز",deleteToken:"حذف الرمز",testToken:"اختبار الرمز",tokenValid:"الرمز صالح",tokenInvalid:"الرمز غير صالح",translationManagement:"إدارة الترجمات",addTranslation:"إضافة ترجمة",editTranslation:"تعديل الترجمة",deleteTranslation:"حذف الترجمة",exportTranslations:"تصدير الترجمات",importTranslations:"استيراد الترجمات",errorLogs:"سجل الأخطاء",viewLogs:"عرض السجل",clearLogs:"مسح السجل",downloadLogs:"تحميل السجل",errorLevel:"مستوى الخطأ",errorMessage:"رسالة الخطأ",errorTime:"وقت الخطأ",errorUser:"المستخدم",databaseManagement:"إدارة قاعدة البيانات",backupDatabase:"نسخ احتياطي",restoreDatabase:"استعادة",optimizeDatabase:"تحسين",databaseStats:"إحصائيات قاعدة البيانات",cacheManagement:"إدارة الذاكرة المؤقتة",clearCache:"مسح الذاكرة المؤقتة",cacheSize:"حجم الذاكرة المؤقتة",cacheHitRate:"معدل الإصابة",settingsSaved:"تم حفظ الإعدادات بنجاح",tokenAdded:"تم إضافة الرمز بنجاح",translationUpdated:"تم تحديث الترجمة بنجاح",cacheCleared:"تم مسح الذاكرة المؤقتة",backupCreated:"تم إنشاء النسخة الاحتياطية"},loading:{title:"جاري التحميل...",description:"يرجى الانتظار قليلاً",pageTitle:"تحميل الصفحة",pageDescription:"جاري تحميل المحتوى"},offline:{title:"غير متصل",description:"تحقق من اتصال الإنترنت",retry:"إعادة المحاولة"},errors:{unexpected:"حدث خطأ غير متوقع",unexpectedDescription:"نأسف للإزعاج. حدث خطأ أثناء تحميل هذه الصفحة.",errorId:"معرف الخطأ",developmentDetails:"تفاصيل الخطأ (وضع التطوير)",retry:"إعادة المحاولة",backToHome:"العودة للرئيسية",copyDetails:"نسخ التفاصيل",reportBug:"الإبلاغ عن خطأ",persistentError:"إذا استمر هذا الخطأ، يرجى التواصل مع فريق الدعم"},save:"حفظ",cancel:"إلغاء",delete:"حذف",edit:"تعديل",view:"عرض",add:"إضافة",create:"إنشاء",update:"تحديث",search:"بحث",filter:"تصفية",success:"نجح",error:"خطأ",warning:"تحذير",info:"معلومات",confirm:"تأكيد",yes:"نعم",no:"لا",submit:"إرسال",close:"إغلاق"},en:{home:"Home",explore:"Explore",services:"Services",profile:"Profile",settings:"Settings",dashboard:"Dashboard",logout:"Logout",login:"Login",signup:"Sign Up",loading:{title:"Loading...",description:"Please wait a moment",pageTitle:"Loading Page",pageDescription:"Loading content"},offline:{title:"Offline",description:"Check your internet connection",retry:"Retry"},errors:{unexpected:"An unexpected error occurred",unexpectedDescription:"We apologize for the inconvenience. An error occurred while loading this page.",errorId:"Error ID",developmentDetails:"Error Details (Development Mode)",retry:"Retry",backToHome:"Back to Home",copyDetails:"Copy Details",reportBug:"Report Bug",persistentError:"If this error persists, please contact support"},save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",add:"Add",create:"Create",update:"Update",search:"Search",filter:"Filter",success:"Success",error:"Error",warning:"Warning",info:"Information",confirm:"Confirm",yes:"Yes",no:"No",submit:"Submit",close:"Close"}},qT=({children:s})=>{const[t,r]=x.useState("ar");x.useEffect(()=>{const c=localStorage.getItem("language");c&&r(c)},[]),x.useEffect(()=>{document.documentElement.dir=t==="ar"?"rtl":"ltr",document.documentElement.lang=t},[t]);const o={language:t,setLanguage:c=>{r(c),localStorage.setItem("language",c)},t:(c,d)=>{const h=c.split(".");let f=BT[t];for(const m of h)if(f=f?.[m],f===void 0)return d??c;return f||d||c},isRTL:t==="ar"};return e.jsx(WN.Provider,{value:o,children:s})},Ar=()=>{const s=x.useContext(WN);if(s===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return s};class VT{config;sessionId;logBuffer=[];flushTimer;storage={logs:"adrena_logs",errors:"adrena_errors",performance:"adrena_performance"};constructor(t={}){this.config={enableConsole:!0,enableStorage:!0,enableRemote:!0,maxStorageEntries:1e3,remoteEndpoint:"/api/logs",logLevel:"info",batchSize:50,flushInterval:3e4,...t},this.sessionId=this.generateSessionId(),this.setupFlushTimer(),this.setupPerformanceMonitoring(),this.setupUnhandledErrorLogging()}debug(t,r){this.shouldLog("debug")&&this.log("debug",t,r)}info(t,r){this.shouldLog("info")&&this.log("info",t,r)}warn(t,r){this.shouldLog("warn")&&this.log("warn",t,r)}error(t,r){this.shouldLog("error")&&this.log("error",t,r,new Error().stack)}logException(t,r,n){const a={context:r,errorName:t.name,errorMessage:t.message,stack:t.stack,...n};this.error(`Exception: ${t.message}`,a),this.storeException(t,r,n)}logPerformance(t,r,n){const a={operation:t,duration:r,timestamp:Date.now(),...n};this.info(`Performance: ${t}`,a),this.storePerformanceMetric(a)}logUserAction(t,r){this.info(`User Action: ${t}`,{action:t,userId:this.getCurrentUserId(),...r})}logAPICall(t,r,n,a,o){const c=n>=400?"error":n>=300?"warn":"info";this[c](`API ${t} ${r}`,{method:t,url:r,status:n,duration:a,...o})}logSecurityEvent(t,r,n){this[r==="high"?"error":r==="medium"?"warn":"info"](`Security Event: ${t}`,{event:t,severity:r,userId:this.getCurrentUserId(),...n}),r==="high"&&this.flush()}async getLogs(t,r=100){try{const n=localStorage.getItem(this.storage.logs);return n?JSON.parse(n).filter(o=>!t||o.level===t).slice(-r).sort((o,c)=>c.timestamp-o.timestamp):[]}catch(n){return console.error("Error retrieving logs:",n),[]}}async getErrorLogs(t=50){try{const r=localStorage.getItem(this.storage.errors);return r?JSON.parse(r).slice(-t).sort((a,o)=>o.timestamp-a.timestamp):[]}catch(r){return console.error("Error retrieving error logs:",r),[]}}async getPerformanceMetrics(t){try{const r=localStorage.getItem(this.storage.performance);if(!r)return[];const n=JSON.parse(r);return t?n.filter(a=>a.operation===t):n}catch(r){return console.error("Error retrieving performance metrics:",r),[]}}clearLogs(){localStorage.removeItem(this.storage.logs),localStorage.removeItem(this.storage.errors),localStorage.removeItem(this.storage.performance),this.logBuffer=[]}async flush(){if(!(this.logBuffer.length===0||!this.config.enableRemote))try{const t=[...this.logBuffer];this.logBuffer=[];const r=await fetch(this.config.remoteEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:t})});if(!r.ok)throw this.logBuffer.unshift(...t),new Error(`Failed to flush logs: ${r.statusText}`)}catch(t){console.error("Failed to flush logs:",t)}}exportLogs(){const t={logs:this.getLogs(),errors:this.getErrorLogs(),performance:this.getPerformanceMetrics(),session:this.sessionId,timestamp:new Date().toISOString()};return JSON.stringify(t,null,2)}log(t,r,n,a){const o={level:t,message:r,data:n,timestamp:Date.now(),sessionId:this.sessionId,userId:this.getCurrentUserId(),url:window.location.href,userAgent:navigator.userAgent,stackTrace:a};this.config.enableConsole&&console[t==="debug"?"log":t](`[${t.toUpperCase()}] ${r}`,n||""),this.config.enableStorage&&this.storeLog(o),this.config.enableRemote&&(this.logBuffer.push(o),this.logBuffer.length>=this.config.batchSize&&this.flush())}shouldLog(t){const r=["debug","info","warn","error"],n=r.indexOf(this.config.logLevel);return r.indexOf(t)>=n}storeLog(t){try{const r=localStorage.getItem(this.storage.logs),n=r?JSON.parse(r):[];n.push(t),n.length>this.config.maxStorageEntries&&n.splice(0,n.length-this.config.maxStorageEntries),localStorage.setItem(this.storage.logs,JSON.stringify(n))}catch(r){console.error("Failed to store log:",r)}}storeException(t,r,n){try{const a=localStorage.getItem(this.storage.errors),o=a?JSON.parse(a):[],c={name:t.name,message:t.message,stack:t.stack,context:r,additionalData:n,timestamp:Date.now(),sessionId:this.sessionId,userId:this.getCurrentUserId(),url:window.location.href};o.push(c),o.length>100&&o.splice(0,o.length-100),localStorage.setItem(this.storage.errors,JSON.stringify(o))}catch(a){console.error("Failed to store exception:",a)}}storePerformanceMetric(t){try{const r=localStorage.getItem(this.storage.performance),n=r?JSON.parse(r):[];n.push(t),n.length>500&&n.splice(0,n.length-500),localStorage.setItem(this.storage.performance,JSON.stringify(n))}catch(r){console.error("Failed to store performance metric:",r)}}generateSessionId(){return Math.random().toString(36).substr(2,16)+Date.now().toString(36)}getCurrentUserId(){try{const t=localStorage.getItem("user");return t?JSON.parse(t).id:void 0}catch{return}}setupFlushTimer(){this.flushTimer=setInterval(()=>{this.flush()},this.config.flushInterval)}setupPerformanceMonitoring(){if(window.addEventListener("load",()=>{setTimeout(()=>{const t=performance.getEntriesByType("navigation")[0];t&&this.logPerformance("page_load",t.loadEventEnd-t.loadEventStart,{domContentLoaded:t.domContentLoadedEventEnd-t.domContentLoadedEventStart,firstPaint:t.responseEnd-t.requestStart})},1e3)}),"PerformanceObserver"in window)try{new PerformanceObserver(r=>{r.getEntries().forEach(n=>{n.duration>50&&this.warn("Long task detected",{duration:n.duration,startTime:n.startTime})})}).observe({entryTypes:["longtask"]})}catch{}}setupUnhandledErrorLogging(){window.addEventListener("unhandledrejection",t=>{this.logException(t.reason instanceof Error?t.reason:new Error(String(t.reason)),"unhandled_promise_rejection")}),window.addEventListener("error",t=>{this.logException(t.error||new Error(t.message),"uncaught_error",{filename:t.filename,lineno:t.lineno,colno:t.colno})})}}const Ww=new VT;var WT={};class HT extends de.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null,errorId:""}}static getDerivedStateFromError(t){const r=`err_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return{hasError:!0,error:t,errorInfo:null,errorId:r}}componentDidCatch(t,r){Ww.error("Global Error Boundary Caught Error",{errorId:this.state.errorId,message:t.message,stack:t.stack,componentStack:r.componentStack,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,userId:localStorage.getItem("userId")||"anonymous"}),this.setState({error:t,errorInfo:r}),this.reportError(t,r)}reportError=async(t,r)=>{try{const n={errorId:this.state.errorId,message:t.message,stack:t.stack,componentStack:r.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:localStorage.getItem("userId")||"anonymous",buildVersion:WT.REACT_APP_VERSION||"unknown"};await fetch("/api/errors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(n){console.error("Failed to report error:",n),Ww.error("Error reporting failed",{reportingError:n})}};resetError=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:""})};render(){return this.state.hasError?e.jsx(GT,{error:this.state.error,errorInfo:this.state.errorInfo,errorId:this.state.errorId,resetError:this.resetError}):this.props.children}}const GT=({error:s,errorInfo:t,errorId:r,resetError:n})=>{const{t:a}=Ar(),o=()=>{const d={errorId:r,message:s.message,stack:s.stack,timestamp:new Date().toISOString(),url:window.location.href};navigator.clipboard.writeText(JSON.stringify(d,null,2))},c=()=>{const d=encodeURIComponent(`خطأ في التطبيق - ${r}`),h=encodeURIComponent(`
تفاصيل الخطأ:
- معرف الخطأ: ${r}
- الرسالة: ${s.message}
- الوقت: ${new Date().toLocaleString("ar-SA")}
- الصفحة: ${window.location.href}

يرجى وصف ما كنت تفعله عند حدوث هذا الخطأ:
[اكتب هنا...]
    `);window.open(`mailto:support@adrena-adventures.com?subject=${d}&body=${h}`)};return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs($,{className:"w-full max-w-2xl",children:[e.jsxs(Z,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mb-4",children:e.jsx(hr,{className:"w-8 h-8 text-destructive"})}),e.jsx(J,{className:"text-2xl",children:a("errors.unexpected")}),e.jsx(Je,{className:"text-base",children:a("errors.unexpectedDescription")}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:[a("errors.errorId"),": ",r]})]}),e.jsxs(B,{className:"space-y-6",children:[!1,e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs(A,{onClick:n,className:"w-full",children:[e.jsx(Wi,{className:"w-4 h-4 mr-2"}),a("errors.retry")]}),e.jsxs(A,{variant:"outline",onClick:()=>window.location.href="/",className:"w-full",children:[e.jsx(gN,{className:"w-4 h-4 mr-2"}),a("errors.backToHome")]}),e.jsx(A,{variant:"outline",onClick:o,className:"w-full",children:a("errors.copyDetails")}),e.jsxs(A,{variant:"outline",onClick:c,className:"w-full",children:[e.jsx(UP,{className:"w-4 h-4 mr-2"}),a("errors.reportBug")]})]}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:a("errors.persistentError")}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{children:"📧 support@adrena-adventures.com"}),e.jsx("span",{children:"📱 واتساب: +966 50 123 4567"})]})]})]})]})})},KT=1,YT=1e6;let bp=0;function QT(){return bp=(bp+1)%Number.MAX_SAFE_INTEGER,bp.toString()}const Np=new Map,Hw=s=>{if(Np.has(s))return;const t=setTimeout(()=>{Np.delete(s),wc({type:"REMOVE_TOAST",toastId:s})},YT);Np.set(s,t)},ZT=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,KT)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Hw(r):s.toasts.forEach(n=>{Hw(n.id)}),{...s,toasts:s.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(r=>r.id!==t.toastId)}}},Bu=[];let qu={toasts:[]};function wc(s){qu=ZT(qu,s),Bu.forEach(t=>{t(qu)})}function XT({...s}){const t=QT(),r=a=>wc({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>wc({type:"DISMISS_TOAST",toastId:t});return wc({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function is(){const[s,t]=x.useState(qu);return x.useEffect(()=>(Bu.push(t),()=>{const r=Bu.indexOf(t);r>-1&&Bu.splice(r,1)}),[s]),{...s,toast:XT,dismiss:r=>wc({type:"DISMISS_TOAST",toastId:r})}}var gl=rN();const HN=Xx(gl);function Se(s,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(s?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function JT(s,t){const r=x.createContext(t),n=o=>{const{children:c,...d}=o,h=x.useMemo(()=>d,Object.values(d));return e.jsx(r.Provider,{value:h,children:c})};n.displayName=s+"Provider";function a(o){const c=x.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${s}\``)}return[n,a]}function Vs(s,t=[]){let r=[];function n(o,c){const d=x.createContext(c),h=r.length;r=[...r,c];const f=p=>{const{scope:j,children:w,...S}=p,v=j?.[s]?.[h]||d,y=x.useMemo(()=>S,Object.values(S));return e.jsx(v.Provider,{value:y,children:w})};f.displayName=o+"Provider";function m(p,j){const w=j?.[s]?.[h]||d,S=x.useContext(w);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[f,m]}const a=()=>{const o=r.map(c=>x.createContext(c));return function(d){const h=d?.[s]||o;return x.useMemo(()=>({[`__scope${s}`]:{...d,[s]:h}}),[d,h])}};return a.scopeName=s,[n,eR(a,...t)]}function eR(...s){const t=s[0];if(s.length===1)return t;const r=()=>{const n=s.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=n.reduce((d,{useScope:h,scopeName:f})=>{const p=h(o)[`__scope${f}`];return{...d,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function Lh(s){const t=s+"CollectionProvider",[r,n]=Vs(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=v=>{const{scope:y,children:b}=v,_=de.useRef(null),k=de.useRef(new Map).current;return e.jsx(a,{scope:y,itemMap:k,collectionRef:_,children:b})};c.displayName=t;const d=s+"CollectionSlot",h=hi(d),f=de.forwardRef((v,y)=>{const{scope:b,children:_}=v,k=o(d,b),E=ft(y,k.collectionRef);return e.jsx(h,{ref:E,children:_})});f.displayName=d;const m=s+"CollectionItemSlot",p="data-radix-collection-item",j=hi(m),w=de.forwardRef((v,y)=>{const{scope:b,children:_,...k}=v,E=de.useRef(null),P=ft(y,E),R=o(m,b);return de.useEffect(()=>(R.itemMap.set(E,{ref:E,...k}),()=>void R.itemMap.delete(E))),e.jsx(j,{[p]:"",ref:P,children:_})});w.displayName=m;function S(v){const y=o(s+"CollectionConsumer",v);return de.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const k=Array.from(_.querySelectorAll(`[${p}]`));return Array.from(y.itemMap.values()).sort((R,D)=>k.indexOf(R.ref.current)-k.indexOf(D.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:c,Slot:f,ItemSlot:w},S,n]}var tR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=tR.reduce((s,t)=>{const r=hi(`Primitive.${t}`),n=x.forwardRef((a,o)=>{const{asChild:c,...d}=a,h=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...d,ref:o})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{});function ug(s,t){s&&gl.flushSync(()=>s.dispatchEvent(t))}function ps(s){const t=x.useRef(s);return x.useEffect(()=>{t.current=s}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}function sR(s,t=globalThis?.document){const r=ps(s);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var rR="DismissableLayer",ax="dismissableLayer.update",nR="dismissableLayer.pointerDownOutside",aR="dismissableLayer.focusOutside",Gw,GN=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ro=x.forwardRef((s,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...h}=s,f=x.useContext(GN),[m,p]=x.useState(null),j=m?.ownerDocument??globalThis?.document,[,w]=x.useState({}),S=ft(t,D=>p(D)),v=Array.from(f.layers),[y]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(y),_=m?v.indexOf(m):-1,k=f.layersWithOutsidePointerEventsDisabled.size>0,E=_>=b,P=oR(D=>{const U=D.target,V=[...f.branches].some(te=>te.contains(U));!E||V||(a?.(D),c?.(D),D.defaultPrevented||d?.())},j),R=lR(D=>{const U=D.target;[...f.branches].some(te=>te.contains(U))||(o?.(D),c?.(D),D.defaultPrevented||d?.())},j);return sR(D=>{_===f.layers.size-1&&(n?.(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},j),x.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Gw=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),Kw(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(j.body.style.pointerEvents=Gw)}},[m,j,r,f]),x.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),Kw())},[m,f]),x.useEffect(()=>{const D=()=>w({});return document.addEventListener(ax,D),()=>document.removeEventListener(ax,D)},[]),e.jsx(Be.div,{...h,ref:S,style:{pointerEvents:k?E?"auto":"none":void 0,...s.style},onFocusCapture:Se(s.onFocusCapture,R.onFocusCapture),onBlurCapture:Se(s.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Se(s.onPointerDownCapture,P.onPointerDownCapture)})});ro.displayName=rR;var iR="DismissableLayerBranch",KN=x.forwardRef((s,t)=>{const r=x.useContext(GN),n=x.useRef(null),a=ft(t,n);return x.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),e.jsx(Be.div,{...s,ref:a})});KN.displayName=iR;function oR(s,t=globalThis?.document){const r=ps(s),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const o=d=>{if(d.target&&!n.current){let h=function(){YN(nR,r,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function lR(s,t=globalThis?.document){const r=ps(s),n=x.useRef(!1);return x.useEffect(()=>{const a=o=>{o.target&&!n.current&&YN(aR,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Kw(){const s=new CustomEvent(ax);document.dispatchEvent(s)}function YN(s,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(s,t,{once:!0}),n?ug(a,o):a.dispatchEvent(o)}var cR=ro,dR=KN,xs=globalThis?.document?x.useLayoutEffect:()=>{},uR="Portal",vl=x.forwardRef((s,t)=>{const{container:r,...n}=s,[a,o]=x.useState(!1);xs(()=>o(!0),[]);const c=r||a&&globalThis?.document?.body;return c?HN.createPortal(e.jsx(Be.div,{...n,ref:t}),c):null});vl.displayName=uR;function hR(s,t){return x.useReducer((r,n)=>t[r][n]??r,s)}var Ls=s=>{const{present:t,children:r}=s,n=fR(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),o=ft(n.ref,mR(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:o}):null};Ls.displayName="Presence";function fR(s){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(s),o=x.useRef("none"),c=s?"mounted":"unmounted",[d,h]=hR(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=Cu(n.current);o.current=d==="mounted"?f:"none"},[d]),xs(()=>{const f=n.current,m=a.current;if(m!==s){const j=o.current,w=Cu(f);s?h("MOUNT"):w==="none"||f?.display==="none"?h("UNMOUNT"):h(m&&j!==w?"ANIMATION_OUT":"UNMOUNT"),a.current=s}},[s,h]),xs(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=w=>{const v=Cu(n.current).includes(w.animationName);if(w.target===t&&v&&(h("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},j=w=>{w.target===t&&(o.current=Cu(n.current))};return t.addEventListener("animationstart",j),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",j),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Cu(s){return s?.animationName||"none"}function mR(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?s.props.ref:s.props.ref||s.ref)}var pR=Jx[" useInsertionEffect ".trim().toString()]||xs;function Pn({prop:s,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,o,c]=xR({defaultProp:t,onChange:r}),d=s!==void 0,h=d?s:a;{const m=x.useRef(s!==void 0);x.useEffect(()=>{const p=m.current;p!==d&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,n])}const f=x.useCallback(m=>{if(d){const p=gR(m)?m(s):m;p!==s&&c.current?.(p)}else o(m)},[d,s,o,c]);return[h,f]}function xR({defaultProp:s,onChange:t}){const[r,n]=x.useState(s),a=x.useRef(r),o=x.useRef(t);return pR(()=>{o.current=t},[t]),x.useEffect(()=>{a.current!==r&&(o.current?.(r),a.current=r)},[r,a]),[r,n,o]}function gR(s){return typeof s=="function"}var QN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vR="VisuallyHidden",Fh=x.forwardRef((s,t)=>e.jsx(Be.span,{...s,ref:t,style:{...QN,...s.style}}));Fh.displayName=vR;var yR=Fh,hg="ToastProvider",[fg,jR,wR]=Lh("Toast"),[ZN]=Vs("Toast",[wR]),[bR,$h]=ZN(hg),XN=s=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:c}=s,[d,h]=x.useState(null),[f,m]=x.useState(0),p=x.useRef(!1),j=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${hg}\`. Expected non-empty \`string\`.`),e.jsx(fg.Provider,{scope:t,children:e.jsx(bR,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:f,viewport:d,onViewportChange:h,onToastAdd:x.useCallback(()=>m(w=>w+1),[]),onToastRemove:x.useCallback(()=>m(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:j,children:c})})};XN.displayName=hg;var JN="ToastViewport",NR=["F8"],ix="toast.viewportPause",ox="toast.viewportResume",e1=x.forwardRef((s,t)=>{const{__scopeToast:r,hotkey:n=NR,label:a="Notifications ({hotkey})",...o}=s,c=$h(JN,r),d=jR(r),h=x.useRef(null),f=x.useRef(null),m=x.useRef(null),p=x.useRef(null),j=ft(t,p,c.onViewportChange),w=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=c.toastCount>0;x.useEffect(()=>{const y=b=>{n.length!==0&&n.every(k=>b[k]||b.code===k)&&p.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),x.useEffect(()=>{const y=h.current,b=p.current;if(S&&y&&b){const _=()=>{if(!c.isClosePausedRef.current){const R=new CustomEvent(ix);b.dispatchEvent(R),c.isClosePausedRef.current=!0}},k=()=>{if(c.isClosePausedRef.current){const R=new CustomEvent(ox);b.dispatchEvent(R),c.isClosePausedRef.current=!1}},E=R=>{!y.contains(R.relatedTarget)&&k()},P=()=>{y.contains(document.activeElement)||k()};return y.addEventListener("focusin",_),y.addEventListener("focusout",E),y.addEventListener("pointermove",_),y.addEventListener("pointerleave",P),window.addEventListener("blur",_),window.addEventListener("focus",k),()=>{y.removeEventListener("focusin",_),y.removeEventListener("focusout",E),y.removeEventListener("pointermove",_),y.removeEventListener("pointerleave",P),window.removeEventListener("blur",_),window.removeEventListener("focus",k)}}},[S,c.isClosePausedRef]);const v=x.useCallback(({tabbingDirection:y})=>{const _=d().map(k=>{const E=k.ref.current,P=[E,...IR(E)];return y==="forwards"?P:P.reverse()});return(y==="forwards"?_.reverse():_).flat()},[d]);return x.useEffect(()=>{const y=p.current;if(y){const b=_=>{const k=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!k){const P=document.activeElement,R=_.shiftKey;if(_.target===y&&R){f.current?.focus();return}const V=v({tabbingDirection:R?"backwards":"forwards"}),te=V.findIndex(oe=>oe===P);_p(V.slice(te+1))?_.preventDefault():R?f.current?.focus():m.current?.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[d,v]),e.jsxs(dR,{ref:h,role:"region","aria-label":a.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&e.jsx(lx,{ref:f,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});_p(y)}}),e.jsx(fg.Slot,{scope:r,children:e.jsx(Be.ol,{tabIndex:-1,...o,ref:j})}),S&&e.jsx(lx,{ref:m,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});_p(y)}})]})});e1.displayName=JN;var t1="ToastFocusProxy",lx=x.forwardRef((s,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=s,o=$h(t1,r);return e.jsx(Fh,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!o.viewport?.contains(d)&&n()}})});lx.displayName=t1;var Zc="Toast",_R="toast.swipeStart",SR="toast.swipeMove",kR="toast.swipeCancel",CR="toast.swipeEnd",s1=x.forwardRef((s,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...c}=s,[d,h]=Pn({prop:n,defaultProp:a??!0,onChange:o,caller:Zc});return e.jsx(Ls,{present:r||d,children:e.jsx(TR,{open:d,...c,ref:t,onClose:()=>h(!1),onPause:ps(s.onPause),onResume:ps(s.onResume),onSwipeStart:Se(s.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Se(s.onSwipeMove,f=>{const{x:m,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Se(s.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Se(s.onSwipeEnd,f=>{const{x:m,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),h(!1)})})})});s1.displayName=Zc;var[ER,PR]=ZN(Zc,{onClose(){}}),TR=x.forwardRef((s,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:c,onEscapeKeyDown:d,onPause:h,onResume:f,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:j,onSwipeEnd:w,...S}=s,v=$h(Zc,r),[y,b]=x.useState(null),_=ft(t,H=>b(H)),k=x.useRef(null),E=x.useRef(null),P=a||v.duration,R=x.useRef(0),D=x.useRef(P),U=x.useRef(0),{onToastAdd:V,onToastRemove:te}=v,oe=ps(()=>{y?.contains(document.activeElement)&&v.viewport?.focus(),c()}),K=x.useCallback(H=>{!H||H===1/0||(window.clearTimeout(U.current),R.current=new Date().getTime(),U.current=window.setTimeout(oe,H))},[oe]);x.useEffect(()=>{const H=v.viewport;if(H){const ve=()=>{K(D.current),f?.()},ue=()=>{const Y=new Date().getTime()-R.current;D.current=D.current-Y,window.clearTimeout(U.current),h?.()};return H.addEventListener(ix,ue),H.addEventListener(ox,ve),()=>{H.removeEventListener(ix,ue),H.removeEventListener(ox,ve)}}},[v.viewport,P,h,f,K]),x.useEffect(()=>{o&&!v.isClosePausedRef.current&&K(P)},[o,P,v.isClosePausedRef,K]),x.useEffect(()=>(V(),()=>te()),[V,te]);const ce=x.useMemo(()=>y?c1(y):null,[y]);return v.viewport?e.jsxs(e.Fragment,{children:[ce&&e.jsx(RR,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:ce}),e.jsx(ER,{scope:r,onClose:oe,children:gl.createPortal(e.jsx(fg.ItemSlot,{scope:r,children:e.jsx(cR,{asChild:!0,onEscapeKeyDown:Se(d,()=>{v.isFocusedToastEscapeKeyDownRef.current||oe(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:_,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:Se(s.onKeyDown,H=>{H.key==="Escape"&&(d?.(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,oe()))}),onPointerDown:Se(s.onPointerDown,H=>{H.button===0&&(k.current={x:H.clientX,y:H.clientY})}),onPointerMove:Se(s.onPointerMove,H=>{if(!k.current)return;const ve=H.clientX-k.current.x,ue=H.clientY-k.current.y,Y=!!E.current,F=["left","right"].includes(v.swipeDirection),W=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,le=F?W(0,ve):0,I=F?0:W(0,ue),X=H.pointerType==="touch"?10:2,ye={x:le,y:I},me={originalEvent:H,delta:ye};Y?(E.current=ye,Eu(SR,p,me,{discrete:!1})):Yw(ye,v.swipeDirection,X)?(E.current=ye,Eu(_R,m,me,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ve)>X||Math.abs(ue)>X)&&(k.current=null)}),onPointerUp:Se(s.onPointerUp,H=>{const ve=E.current,ue=H.target;if(ue.hasPointerCapture(H.pointerId)&&ue.releasePointerCapture(H.pointerId),E.current=null,k.current=null,ve){const Y=H.currentTarget,F={originalEvent:H,delta:ve};Yw(ve,v.swipeDirection,v.swipeThreshold)?Eu(CR,w,F,{discrete:!0}):Eu(kR,j,F,{discrete:!0}),Y.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),RR=s=>{const{__scopeToast:t,children:r,...n}=s,a=$h(Zc,t),[o,c]=x.useState(!1),[d,h]=x.useState(!1);return MR(()=>c(!0)),x.useEffect(()=>{const f=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(f)},[]),d?null:e.jsx(vl,{asChild:!0,children:e.jsx(Fh,{...n,children:o&&e.jsxs(e.Fragment,{children:[a.label," ",r]})})})},AR="ToastTitle",r1=x.forwardRef((s,t)=>{const{__scopeToast:r,...n}=s;return e.jsx(Be.div,{...n,ref:t})});r1.displayName=AR;var DR="ToastDescription",n1=x.forwardRef((s,t)=>{const{__scopeToast:r,...n}=s;return e.jsx(Be.div,{...n,ref:t})});n1.displayName=DR;var a1="ToastAction",i1=x.forwardRef((s,t)=>{const{altText:r,...n}=s;return r.trim()?e.jsx(l1,{altText:r,asChild:!0,children:e.jsx(mg,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${a1}\`. Expected non-empty \`string\`.`),null)});i1.displayName=a1;var o1="ToastClose",mg=x.forwardRef((s,t)=>{const{__scopeToast:r,...n}=s,a=PR(o1,r);return e.jsx(l1,{asChild:!0,children:e.jsx(Be.button,{type:"button",...n,ref:t,onClick:Se(s.onClick,a.onClose)})})});mg.displayName=o1;var l1=x.forwardRef((s,t)=>{const{__scopeToast:r,altText:n,...a}=s;return e.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function c1(s){const t=[];return Array.from(s.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),OR(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const c=n.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...c1(n))}}),t}function Eu(s,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,o=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(s,t,{once:!0}),n?ug(a,o):a.dispatchEvent(o)}var Yw=(s,t,r=0)=>{const n=Math.abs(s.x),a=Math.abs(s.y),o=n>a;return t==="left"||t==="right"?o&&n>r:!o&&a>r};function MR(s=()=>{}){const t=ps(s);xs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function OR(s){return s.nodeType===s.ELEMENT_NODE}function IR(s){const t=[],r=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _p(s){const t=document.activeElement;return s.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var LR=XN,d1=e1,u1=s1,h1=r1,f1=n1,m1=i1,p1=mg;const FR=LR,x1=x.forwardRef(({className:s,...t},r)=>e.jsx(d1,{ref:r,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));x1.displayName=d1.displayName;const $R=pl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g1=x.forwardRef(({className:s,variant:t,...r},n)=>e.jsx(u1,{ref:n,className:be($R({variant:t}),s),...r}));g1.displayName=u1.displayName;const zR=x.forwardRef(({className:s,...t},r)=>e.jsx(m1,{ref:r,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));zR.displayName=m1.displayName;const v1=x.forwardRef(({className:s,...t},r)=>e.jsx(p1,{ref:r,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(lg,{className:"h-4 w-4"})}));v1.displayName=p1.displayName;const y1=x.forwardRef(({className:s,...t},r)=>e.jsx(h1,{ref:r,className:be("text-sm font-semibold",s),...t}));y1.displayName=h1.displayName;const j1=x.forwardRef(({className:s,...t},r)=>e.jsx(f1,{ref:r,className:be("text-sm opacity-90",s),...t}));j1.displayName=f1.displayName;function UR(){const{toasts:s}=is();return e.jsxs(FR,{children:[s.map(function({id:t,title:r,description:n,action:a,...o}){return e.jsxs(g1,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(y1,{children:r}),n&&e.jsx(j1,{children:n})]}),a,e.jsx(v1,{})]},t)}),e.jsx(x1,{})]})}var BR=s=>{switch(s){case"success":return WR;case"info":return GR;case"warning":return HR;case"error":return KR;default:return null}},qR=Array(12).fill(0),VR=({visible:s,className:t})=>de.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":s},de.createElement("div",{className:"sonner-spinner"},qR.map((r,n)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),WR=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),HR=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),GR=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KR=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YR=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QR=()=>{let[s,t]=de.useState(document.hidden);return de.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),s},cx=1,ZR=class{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{let t=this.subscribers.indexOf(s);this.subscribers.splice(t,1)}),this.publish=s=>{this.subscribers.forEach(t=>t(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var t;let{message:r,...n}=s,a=typeof s?.id=="number"||((t=s.id)==null?void 0:t.length)>0?s.id:cx++,o=this.toasts.find(d=>d.id===a),c=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...s,id:a,title:r}),{...d,...s,id:a,dismissible:c,title:r}):d):this.addToast({title:r,...n,dismissible:c,id:a}),a},this.dismiss=s=>(this.dismissedToasts.add(s),s||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:s,dismiss:!0})),s),this.message=(s,t)=>this.create({...t,message:s}),this.error=(s,t)=>this.create({...t,message:s,type:"error"}),this.success=(s,t)=>this.create({...t,type:"success",message:s}),this.info=(s,t)=>this.create({...t,type:"info",message:s}),this.warning=(s,t)=>this.create({...t,type:"warning",message:s}),this.loading=(s,t)=>this.create({...t,type:"loading",message:s}),this.promise=(s,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:s,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=s instanceof Promise?s:s(),a=r!==void 0,o,c=n.then(async h=>{if(o=["resolve",h],de.isValidElement(h))a=!1,this.create({id:r,type:"default",message:h});else if(JR(h)&&!h.ok){a=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${h.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${h.status}`):t.description;this.create({id:r,type:"error",message:f,description:m})}else if(t.success!==void 0){a=!1;let f=typeof t.success=="function"?await t.success(h):t.success,m=typeof t.description=="function"?await t.description(h):t.description;this.create({id:r,type:"success",message:f,description:m})}}).catch(async h=>{if(o=["reject",h],t.error!==void 0){a=!1;let f=typeof t.error=="function"?await t.error(h):t.error,m=typeof t.description=="function"?await t.description(h):t.description;this.create({id:r,type:"error",message:f,description:m})}}).finally(()=>{var h;a&&(this.dismiss(r),r=void 0),(h=t.finally)==null||h.call(t)}),d=()=>new Promise((h,f)=>c.then(()=>o[0]==="reject"?f(o[1]):h(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(s,t)=>{let r=t?.id||cx++;return this.create({jsx:s(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Nr=new ZR,XR=(s,t)=>{let r=t?.id||cx++;return Nr.addToast({title:s,...t,id:r}),r},JR=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",eA=XR,tA=()=>Nr.toasts,sA=()=>Nr.getActiveToasts(),Me=Object.assign(eA,{success:Nr.success,info:Nr.info,warning:Nr.warning,error:Nr.error,custom:Nr.custom,message:Nr.message,promise:Nr.promise,dismiss:Nr.dismiss,loading:Nr.loading},{getHistory:tA,getToasts:sA});function rA(s,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=s:n.appendChild(document.createTextNode(s))}rA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Pu(s){return s.label!==void 0}var nA=3,aA="32px",iA="16px",Qw=4e3,oA=356,lA=14,cA=20,dA=200;function yn(...s){return s.filter(Boolean).join(" ")}function uA(s){let[t,r]=s.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var hA=s=>{var t,r,n,a,o,c,d,h,f,m,p;let{invert:j,toast:w,unstyled:S,interacting:v,setHeights:y,visibleToasts:b,heights:_,index:k,toasts:E,expanded:P,removeToast:R,defaultRichColors:D,closeButton:U,style:V,cancelButtonStyle:te,actionButtonStyle:oe,className:K="",descriptionClassName:ce="",duration:H,position:ve,gap:ue,loadingIcon:Y,expandByDefault:F,classNames:W,icons:le,closeButtonAriaLabel:I="Close toast",pauseWhenPageIsHidden:X}=s,[ye,me]=de.useState(null),[Le,qe]=de.useState(null),[ie,Te]=de.useState(!1),[Ve,Ne]=de.useState(!1),[$e,_e]=de.useState(!1),[Xe,pt]=de.useState(!1),[Et,Wt]=de.useState(!1),[Zt,Ns]=de.useState(0),[ls,O]=de.useState(0),G=de.useRef(w.duration||H||Qw),ae=de.useRef(null),ke=de.useRef(null),Ce=k===0,je=k+1<=b,ne=w.type,Ie=w.dismissible!==!1,mt=w.className||"",Xt=w.descriptionClassName||"",Ht=de.useMemo(()=>_.findIndex(pe=>pe.toastId===w.id)||0,[_,w.id]),Jt=de.useMemo(()=>{var pe;return(pe=w.closeButton)!=null?pe:U},[w.closeButton,U]),Gr=de.useMemo(()=>w.duration||H||Qw,[w.duration,H]),Ws=de.useRef(0),Hs=de.useRef(0),In=de.useRef(0),Gs=de.useRef(null),[cn,Kr]=ve.split("-"),dn=de.useMemo(()=>_.reduce((pe,Ye,at)=>at>=Ht?pe:pe+Ye.height,0),[_,Ht]),Ln=QR(),Mr=w.invert||j,ir=ne==="loading";Hs.current=de.useMemo(()=>Ht*ue+dn,[Ht,dn]),de.useEffect(()=>{G.current=Gr},[Gr]),de.useEffect(()=>{Te(!0)},[]),de.useEffect(()=>{let pe=ke.current;if(pe){let Ye=pe.getBoundingClientRect().height;return O(Ye),y(at=>[{toastId:w.id,height:Ye,position:w.position},...at]),()=>y(at=>at.filter(It=>It.toastId!==w.id))}},[y,w.id]),de.useLayoutEffect(()=>{if(!ie)return;let pe=ke.current,Ye=pe.style.height;pe.style.height="auto";let at=pe.getBoundingClientRect().height;pe.style.height=Ye,O(at),y(It=>It.find(hs=>hs.toastId===w.id)?It.map(hs=>hs.toastId===w.id?{...hs,height:at}:hs):[{toastId:w.id,height:at,position:w.position},...It])},[ie,w.title,w.description,y,w.id]);let Zs=de.useCallback(()=>{Ne(!0),Ns(Hs.current),y(pe=>pe.filter(Ye=>Ye.toastId!==w.id)),setTimeout(()=>{R(w)},dA)},[w,R,y,Hs]);de.useEffect(()=>{if(w.promise&&ne==="loading"||w.duration===1/0||w.type==="loading")return;let pe;return P||v||X&&Ln?(()=>{if(In.current<Ws.current){let Ye=new Date().getTime()-Ws.current;G.current=G.current-Ye}In.current=new Date().getTime()})():G.current!==1/0&&(Ws.current=new Date().getTime(),pe=setTimeout(()=>{var Ye;(Ye=w.onAutoClose)==null||Ye.call(w,w),Zs()},G.current)),()=>clearTimeout(pe)},[P,v,w,ne,X,Ln,Zs]),de.useEffect(()=>{w.delete&&Zs()},[Zs,w.delete]);function ee(){var pe,Ye,at;return le!=null&&le.loading?de.createElement("div",{className:yn(W?.loader,(pe=w?.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":ne==="loading"},le.loading):Y?de.createElement("div",{className:yn(W?.loader,(Ye=w?.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":ne==="loading"},Y):de.createElement(VR,{className:yn(W?.loader,(at=w?.classNames)==null?void 0:at.loader),visible:ne==="loading"})}return de.createElement("li",{tabIndex:0,ref:ke,className:yn(K,mt,W?.toast,(t=w?.classNames)==null?void 0:t.toast,W?.default,W?.[ne],(r=w?.classNames)==null?void 0:r[ne]),"data-sonner-toast":"","data-rich-colors":(n=w.richColors)!=null?n:D,"data-styled":!(w.jsx||w.unstyled||S),"data-mounted":ie,"data-promise":!!w.promise,"data-swiped":Et,"data-removed":Ve,"data-visible":je,"data-y-position":cn,"data-x-position":Kr,"data-index":k,"data-front":Ce,"data-swiping":$e,"data-dismissible":Ie,"data-type":ne,"data-invert":Mr,"data-swipe-out":Xe,"data-swipe-direction":Le,"data-expanded":!!(P||F&&ie),style:{"--index":k,"--toasts-before":k,"--z-index":E.length-k,"--offset":`${Ve?Zt:Hs.current}px`,"--initial-height":F?"auto":`${ls}px`,...V,...w.style},onDragEnd:()=>{_e(!1),me(null),Gs.current=null},onPointerDown:pe=>{ir||!Ie||(ae.current=new Date,Ns(Hs.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(_e(!0),Gs.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,Ye,at,It;if(Xe||!Ie)return;Gs.current=null;let hs=Number(((pe=ke.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fs=Number(((Ye=ke.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),un=new Date().getTime()-((at=ae.current)==null?void 0:at.getTime()),Ks=ye==="x"?hs:Fs,Fn=Math.abs(Ks)/un;if(Math.abs(Ks)>=cA||Fn>.11){Ns(Hs.current),(It=w.onDismiss)==null||It.call(w,w),qe(ye==="x"?hs>0?"right":"left":Fs>0?"down":"up"),Zs(),pt(!0),Wt(!1);return}_e(!1),me(null)},onPointerMove:pe=>{var Ye,at,It,hs;if(!Gs.current||!Ie||((Ye=window.getSelection())==null?void 0:Ye.toString().length)>0)return;let Fs=pe.clientY-Gs.current.y,un=pe.clientX-Gs.current.x,Ks=(at=s.swipeDirections)!=null?at:uA(ve);!ye&&(Math.abs(un)>1||Math.abs(Fs)>1)&&me(Math.abs(un)>Math.abs(Fs)?"x":"y");let Fn={x:0,y:0};ye==="y"?(Ks.includes("top")||Ks.includes("bottom"))&&(Ks.includes("top")&&Fs<0||Ks.includes("bottom")&&Fs>0)&&(Fn.y=Fs):ye==="x"&&(Ks.includes("left")||Ks.includes("right"))&&(Ks.includes("left")&&un<0||Ks.includes("right")&&un>0)&&(Fn.x=un),(Math.abs(Fn.x)>0||Math.abs(Fn.y)>0)&&Wt(!0),(It=ke.current)==null||It.style.setProperty("--swipe-amount-x",`${Fn.x}px`),(hs=ke.current)==null||hs.style.setProperty("--swipe-amount-y",`${Fn.y}px`)}},Jt&&!w.jsx?de.createElement("button",{"aria-label":I,"data-disabled":ir,"data-close-button":!0,onClick:ir||!Ie?()=>{}:()=>{var pe;Zs(),(pe=w.onDismiss)==null||pe.call(w,w)},className:yn(W?.closeButton,(a=w?.classNames)==null?void 0:a.closeButton)},(o=le?.close)!=null?o:YR):null,w.jsx||x.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:de.createElement(de.Fragment,null,ne||w.icon||w.promise?de.createElement("div",{"data-icon":"",className:yn(W?.icon,(c=w?.classNames)==null?void 0:c.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||ee():null,w.type!=="loading"?w.icon||le?.[ne]||BR(ne):null):null,de.createElement("div",{"data-content":"",className:yn(W?.content,(d=w?.classNames)==null?void 0:d.content)},de.createElement("div",{"data-title":"",className:yn(W?.title,(h=w?.classNames)==null?void 0:h.title)},typeof w.title=="function"?w.title():w.title),w.description?de.createElement("div",{"data-description":"",className:yn(ce,Xt,W?.description,(f=w?.classNames)==null?void 0:f.description)},typeof w.description=="function"?w.description():w.description):null),x.isValidElement(w.cancel)?w.cancel:w.cancel&&Pu(w.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||te,onClick:pe=>{var Ye,at;Pu(w.cancel)&&Ie&&((at=(Ye=w.cancel).onClick)==null||at.call(Ye,pe),Zs())},className:yn(W?.cancelButton,(m=w?.classNames)==null?void 0:m.cancelButton)},w.cancel.label):null,x.isValidElement(w.action)?w.action:w.action&&Pu(w.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||oe,onClick:pe=>{var Ye,at;Pu(w.action)&&((at=(Ye=w.action).onClick)==null||at.call(Ye,pe),!pe.defaultPrevented&&Zs())},className:yn(W?.actionButton,(p=w?.classNames)==null?void 0:p.actionButton)},w.action.label):null))};function Zw(){if(typeof window>"u"||typeof document>"u")return"ltr";let s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function fA(s,t){let r={};return[s,t].forEach((n,a)=>{let o=a===1,c=o?"--mobile-offset":"--offset",d=o?iA:aA;function h(f){["top","right","bottom","left"].forEach(m=>{r[`${c}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${c}-${f}`]=d:r[`${c}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):h(d)}),r}var mA=x.forwardRef(function(s,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:c,className:d,offset:h,mobileOffset:f,theme:m="light",richColors:p,duration:j,style:w,visibleToasts:S=nA,toastOptions:v,dir:y=Zw(),gap:b=lA,loadingIcon:_,icons:k,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:P}=s,[R,D]=de.useState([]),U=de.useMemo(()=>Array.from(new Set([n].concat(R.filter(X=>X.position).map(X=>X.position)))),[R,n]),[V,te]=de.useState([]),[oe,K]=de.useState(!1),[ce,H]=de.useState(!1),[ve,ue]=de.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=de.useRef(null),F=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=de.useRef(null),le=de.useRef(!1),I=de.useCallback(X=>{D(ye=>{var me;return(me=ye.find(Le=>Le.id===X.id))!=null&&me.delete||Nr.dismiss(X.id),ye.filter(({id:Le})=>Le!==X.id)})},[]);return de.useEffect(()=>Nr.subscribe(X=>{if(X.dismiss){D(ye=>ye.map(me=>me.id===X.id?{...me,delete:!0}:me));return}setTimeout(()=>{HN.flushSync(()=>{D(ye=>{let me=ye.findIndex(Le=>Le.id===X.id);return me!==-1?[...ye.slice(0,me),{...ye[me],...X},...ye.slice(me+1)]:[X,...ye]})})})}),[]),de.useEffect(()=>{if(m!=="system"){ue(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ue("dark"):ue("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ye})=>{ue(ye?"dark":"light")})}catch{X.addListener(({matches:me})=>{try{ue(me?"dark":"light")}catch(Le){console.error(Le)}})}},[m]),de.useEffect(()=>{R.length<=1&&K(!1)},[R]),de.useEffect(()=>{let X=ye=>{var me,Le;a.every(qe=>ye[qe]||ye.code===qe)&&(K(!0),(me=Y.current)==null||me.focus()),ye.code==="Escape"&&(document.activeElement===Y.current||(Le=Y.current)!=null&&Le.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[a]),de.useEffect(()=>{if(Y.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,le.current=!1)}},[Y.current]),de.createElement("section",{ref:t,"aria-label":`${E} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((X,ye)=>{var me;let[Le,qe]=X.split("-");return R.length?de.createElement("ol",{key:X,dir:y==="auto"?Zw():y,tabIndex:-1,ref:Y,className:d,"data-sonner-toaster":!0,"data-theme":ve,"data-y-position":Le,"data-lifted":oe&&R.length>1&&!o,"data-x-position":qe,style:{"--front-toast-height":`${((me=V[0])==null?void 0:me.height)||0}px`,"--width":`${oA}px`,"--gap":`${b}px`,...w,...fA(h,f)},onBlur:ie=>{le.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(le.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||le.current||(le.current=!0,W.current=ie.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{ce||K(!1)},onDragEnd:()=>K(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},R.filter(ie=>!ie.position&&ye===0||ie.position===X).map((ie,Te)=>{var Ve,Ne;return de.createElement(hA,{key:ie.id,icons:k,index:Te,toast:ie,defaultRichColors:p,duration:(Ve=v?.duration)!=null?Ve:j,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:r,visibleToasts:S,closeButton:(Ne=v?.closeButton)!=null?Ne:c,interacting:ce,position:X,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,removeToast:I,toasts:R.filter($e=>$e.position==ie.position),heights:V.filter($e=>$e.position==ie.position),setHeights:te,expandByDefault:o,gap:b,loadingIcon:_,expanded:oe,pauseWhenPageIsHidden:P,swipeDirections:s.swipeDirections})})):null}))});const pA=({...s})=>{const{theme:t="system"}=nN();return e.jsx(mA,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})};var xA=Jx[" useId ".trim().toString()]||(()=>{}),gA=0;function rn(s){const[t,r]=x.useState(xA());return xs(()=>{r(n=>n??String(gA++))},[s]),t?`radix-${t}`:""}const vA=["top","right","bottom","left"],fi=Math.min,zr=Math.max,sh=Math.round,Tu=Math.floor,ea=s=>({x:s,y:s}),yA={left:"right",right:"left",bottom:"top",top:"bottom"},jA={start:"end",end:"start"};function dx(s,t,r){return zr(s,fi(t,r))}function ba(s,t){return typeof s=="function"?s(t):s}function Na(s){return s.split("-")[0]}function yl(s){return s.split("-")[1]}function pg(s){return s==="x"?"y":"x"}function xg(s){return s==="y"?"height":"width"}const wA=new Set(["top","bottom"]);function Yn(s){return wA.has(Na(s))?"y":"x"}function gg(s){return pg(Yn(s))}function bA(s,t,r){r===void 0&&(r=!1);const n=yl(s),a=gg(s),o=xg(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=rh(c)),[c,rh(c)]}function NA(s){const t=rh(s);return[ux(s),t,ux(t)]}function ux(s){return s.replace(/start|end/g,t=>jA[t])}const Xw=["left","right"],Jw=["right","left"],_A=["top","bottom"],SA=["bottom","top"];function kA(s,t,r){switch(s){case"top":case"bottom":return r?t?Jw:Xw:t?Xw:Jw;case"left":case"right":return t?_A:SA;default:return[]}}function CA(s,t,r,n){const a=yl(s);let o=kA(Na(s),r==="start",n);return a&&(o=o.map(c=>c+"-"+a),t&&(o=o.concat(o.map(ux)))),o}function rh(s){return s.replace(/left|right|bottom|top/g,t=>yA[t])}function EA(s){return{top:0,right:0,bottom:0,left:0,...s}}function w1(s){return typeof s!="number"?EA(s):{top:s,right:s,bottom:s,left:s}}function nh(s){const{x:t,y:r,width:n,height:a}=s;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function e0(s,t,r){let{reference:n,floating:a}=s;const o=Yn(t),c=gg(t),d=xg(c),h=Na(t),f=o==="y",m=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2,j=n[d]/2-a[d]/2;let w;switch(h){case"top":w={x:m,y:n.y-a.height};break;case"bottom":w={x:m,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:p};break;case"left":w={x:n.x-a.width,y:p};break;default:w={x:n.x,y:n.y}}switch(yl(t)){case"start":w[c]-=j*(r&&f?-1:1);break;case"end":w[c]+=j*(r&&f?-1:1);break}return w}const PA=async(s,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:c}=r,d=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:s,floating:t,strategy:a}),{x:m,y:p}=e0(f,n,h),j=n,w={},S=0;for(let v=0;v<d.length;v++){const{name:y,fn:b}=d[v],{x:_,y:k,data:E,reset:P}=await b({x:m,y:p,initialPlacement:n,placement:j,strategy:a,middlewareData:w,rects:f,platform:c,elements:{reference:s,floating:t}});m=_??m,p=k??p,w={...w,[y]:{...w[y],...E}},P&&S<=50&&(S++,typeof P=="object"&&(P.placement&&(j=P.placement),P.rects&&(f=P.rects===!0?await c.getElementRects({reference:s,floating:t,strategy:a}):P.rects),{x:m,y:p}=e0(f,j,h)),v=-1)}return{x:m,y:p,placement:j,strategy:a,middlewareData:w}};async function Ac(s,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:c,elements:d,strategy:h}=s,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:j=!1,padding:w=0}=ba(t,s),S=w1(w),y=d[j?p==="floating"?"reference":"floating":p],b=nh(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:f,rootBoundary:m,strategy:h})),_=p==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),E=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},P=nh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:_,offsetParent:k,strategy:h}):_);return{top:(b.top-P.top+S.top)/E.y,bottom:(P.bottom-b.bottom+S.bottom)/E.y,left:(b.left-P.left+S.left)/E.x,right:(P.right-b.right+S.right)/E.x}}const TA=s=>({name:"arrow",options:s,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:c,elements:d,middlewareData:h}=t,{element:f,padding:m=0}=ba(s,t)||{};if(f==null)return{};const p=w1(m),j={x:r,y:n},w=gg(a),S=xg(w),v=await c.getDimensions(f),y=w==="y",b=y?"top":"left",_=y?"bottom":"right",k=y?"clientHeight":"clientWidth",E=o.reference[S]+o.reference[w]-j[w]-o.floating[S],P=j[w]-o.reference[w],R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let D=R?R[k]:0;(!D||!await(c.isElement==null?void 0:c.isElement(R)))&&(D=d.floating[k]||o.floating[S]);const U=E/2-P/2,V=D/2-v[S]/2-1,te=fi(p[b],V),oe=fi(p[_],V),K=te,ce=D-v[S]-oe,H=D/2-v[S]/2+U,ve=dx(K,H,ce),ue=!h.arrow&&yl(a)!=null&&H!==ve&&o.reference[S]/2-(H<K?te:oe)-v[S]/2<0,Y=ue?H<K?H-K:H-ce:0;return{[w]:j[w]+Y,data:{[w]:ve,centerOffset:H-ve-Y,...ue&&{alignmentOffset:Y}},reset:ue}}}),RA=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:c,initialPlacement:d,platform:h,elements:f}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:j,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...y}=ba(s,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const b=Na(a),_=Yn(d),k=Na(d)===d,E=await(h.isRTL==null?void 0:h.isRTL(f.floating)),P=j||(k||!v?[rh(d)]:NA(d)),R=S!=="none";!j&&R&&P.push(...CA(d,v,S,E));const D=[d,...P],U=await Ac(t,y),V=[];let te=((n=o.flip)==null?void 0:n.overflows)||[];if(m&&V.push(U[b]),p){const H=bA(a,c,E);V.push(U[H[0]],U[H[1]])}if(te=[...te,{placement:a,overflows:V}],!V.every(H=>H<=0)){var oe,K;const H=(((oe=o.flip)==null?void 0:oe.index)||0)+1,ve=D[H];if(ve&&(!(p==="alignment"?_!==Yn(ve):!1)||te.every(F=>F.overflows[0]>0&&Yn(F.placement)===_)))return{data:{index:H,overflows:te},reset:{placement:ve}};let ue=(K=te.filter(Y=>Y.overflows[0]<=0).sort((Y,F)=>Y.overflows[1]-F.overflows[1])[0])==null?void 0:K.placement;if(!ue)switch(w){case"bestFit":{var ce;const Y=(ce=te.filter(F=>{if(R){const W=Yn(F.placement);return W===_||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,le)=>W+le,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:ce[0];Y&&(ue=Y);break}case"initialPlacement":ue=d;break}if(a!==ue)return{reset:{placement:ue}}}return{}}}};function t0(s,t){return{top:s.top-t.height,right:s.right-t.width,bottom:s.bottom-t.height,left:s.left-t.width}}function s0(s){return vA.some(t=>s[t]>=0)}const AA=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ba(s,t);switch(n){case"referenceHidden":{const o=await Ac(t,{...a,elementContext:"reference"}),c=t0(o,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:s0(c)}}}case"escaped":{const o=await Ac(t,{...a,altBoundary:!0}),c=t0(o,r.floating);return{data:{escapedOffsets:c,escaped:s0(c)}}}default:return{}}}}},b1=new Set(["left","top"]);async function DA(s,t){const{placement:r,platform:n,elements:a}=s,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=Na(r),d=yl(r),h=Yn(r)==="y",f=b1.has(c)?-1:1,m=o&&h?-1:1,p=ba(t,s);let{mainAxis:j,crossAxis:w,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return d&&typeof S=="number"&&(w=d==="end"?S*-1:S),h?{x:w*m,y:j*f}:{x:j*f,y:w*m}}const MA=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(t){var r,n;const{x:a,y:o,placement:c,middlewareData:d}=t,h=await DA(t,s);return c===((r=d.offset)==null?void 0:r.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:a+h.x,y:o+h.y,data:{...h,placement:c}}}}},OA=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:y=>{let{x:b,y:_}=y;return{x:b,y:_}}},...h}=ba(s,t),f={x:r,y:n},m=await Ac(t,h),p=Yn(Na(a)),j=pg(p);let w=f[j],S=f[p];if(o){const y=j==="y"?"top":"left",b=j==="y"?"bottom":"right",_=w+m[y],k=w-m[b];w=dx(_,w,k)}if(c){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",_=S+m[y],k=S-m[b];S=dx(_,S,k)}const v=d.fn({...t,[j]:w,[p]:S});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[j]:o,[p]:c}}}}}},IA=function(s){return s===void 0&&(s={}),{options:s,fn(t){const{x:r,y:n,placement:a,rects:o,middlewareData:c}=t,{offset:d=0,mainAxis:h=!0,crossAxis:f=!0}=ba(s,t),m={x:r,y:n},p=Yn(a),j=pg(p);let w=m[j],S=m[p];const v=ba(d,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(h){const k=j==="y"?"height":"width",E=o.reference[j]-o.floating[k]+y.mainAxis,P=o.reference[j]+o.reference[k]-y.mainAxis;w<E?w=E:w>P&&(w=P)}if(f){var b,_;const k=j==="y"?"width":"height",E=b1.has(Na(a)),P=o.reference[p]-o.floating[k]+(E&&((b=c.offset)==null?void 0:b[p])||0)+(E?0:y.crossAxis),R=o.reference[p]+o.reference[k]+(E?0:((_=c.offset)==null?void 0:_[p])||0)-(E?y.crossAxis:0);S<P?S=P:S>R&&(S=R)}return{[j]:w,[p]:S}}}},LA=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(t){var r,n;const{placement:a,rects:o,platform:c,elements:d}=t,{apply:h=()=>{},...f}=ba(s,t),m=await Ac(t,f),p=Na(a),j=yl(a),w=Yn(a)==="y",{width:S,height:v}=o.floating;let y,b;p==="top"||p==="bottom"?(y=p,b=j===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(b=p,y=j==="end"?"top":"bottom");const _=v-m.top-m.bottom,k=S-m.left-m.right,E=fi(v-m[y],_),P=fi(S-m[b],k),R=!t.middlewareData.shift;let D=E,U=P;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(U=k),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(D=_),R&&!j){const te=zr(m.left,0),oe=zr(m.right,0),K=zr(m.top,0),ce=zr(m.bottom,0);w?U=S-2*(te!==0||oe!==0?te+oe:zr(m.left,m.right)):D=v-2*(K!==0||ce!==0?K+ce:zr(m.top,m.bottom))}await h({...t,availableWidth:U,availableHeight:D});const V=await c.getDimensions(d.floating);return S!==V.width||v!==V.height?{reset:{rects:!0}}:{}}}};function zh(){return typeof window<"u"}function jl(s){return N1(s)?(s.nodeName||"").toLowerCase():"#document"}function Br(s){var t;return(s==null||(t=s.ownerDocument)==null?void 0:t.defaultView)||window}function aa(s){var t;return(t=(N1(s)?s.ownerDocument:s.document)||window.document)==null?void 0:t.documentElement}function N1(s){return zh()?s instanceof Node||s instanceof Br(s).Node:!1}function Tn(s){return zh()?s instanceof Element||s instanceof Br(s).Element:!1}function ra(s){return zh()?s instanceof HTMLElement||s instanceof Br(s).HTMLElement:!1}function r0(s){return!zh()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Br(s).ShadowRoot}const FA=new Set(["inline","contents"]);function Xc(s){const{overflow:t,overflowX:r,overflowY:n,display:a}=Rn(s);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!FA.has(a)}const $A=new Set(["table","td","th"]);function zA(s){return $A.has(jl(s))}const UA=[":popover-open",":modal"];function Uh(s){return UA.some(t=>{try{return s.matches(t)}catch{return!1}})}const BA=["transform","translate","scale","rotate","perspective"],qA=["transform","translate","scale","rotate","perspective","filter"],VA=["paint","layout","strict","content"];function vg(s){const t=yg(),r=Tn(s)?Rn(s):s;return BA.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||qA.some(n=>(r.willChange||"").includes(n))||VA.some(n=>(r.contain||"").includes(n))}function WA(s){let t=mi(s);for(;ra(t)&&!tl(t);){if(vg(t))return t;if(Uh(t))return null;t=mi(t)}return null}function yg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HA=new Set(["html","body","#document"]);function tl(s){return HA.has(jl(s))}function Rn(s){return Br(s).getComputedStyle(s)}function Bh(s){return Tn(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function mi(s){if(jl(s)==="html")return s;const t=s.assignedSlot||s.parentNode||r0(s)&&s.host||aa(s);return r0(t)?t.host:t}function _1(s){const t=mi(s);return tl(t)?s.ownerDocument?s.ownerDocument.body:s.body:ra(t)&&Xc(t)?t:_1(t)}function Dc(s,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=_1(s),o=a===((n=s.ownerDocument)==null?void 0:n.body),c=Br(a);if(o){const d=hx(c);return t.concat(c,c.visualViewport||[],Xc(a)?a:[],d&&r?Dc(d):[])}return t.concat(a,Dc(a,[],r))}function hx(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function S1(s){const t=Rn(s);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ra(s),o=a?s.offsetWidth:r,c=a?s.offsetHeight:n,d=sh(r)!==o||sh(n)!==c;return d&&(r=o,n=c),{width:r,height:n,$:d}}function jg(s){return Tn(s)?s:s.contextElement}function Qo(s){const t=jg(s);if(!ra(t))return ea(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=S1(t);let c=(o?sh(r.width):r.width)/n,d=(o?sh(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const GA=ea(0);function k1(s){const t=Br(s);return!yg()||!t.visualViewport?GA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KA(s,t,r){return t===void 0&&(t=!1),!r||t&&r!==Br(s)?!1:t}function Hi(s,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=s.getBoundingClientRect(),o=jg(s);let c=ea(1);t&&(n?Tn(n)&&(c=Qo(n)):c=Qo(s));const d=KA(o,r,n)?k1(o):ea(0);let h=(a.left+d.x)/c.x,f=(a.top+d.y)/c.y,m=a.width/c.x,p=a.height/c.y;if(o){const j=Br(o),w=n&&Tn(n)?Br(n):n;let S=j,v=hx(S);for(;v&&n&&w!==S;){const y=Qo(v),b=v.getBoundingClientRect(),_=Rn(v),k=b.left+(v.clientLeft+parseFloat(_.paddingLeft))*y.x,E=b.top+(v.clientTop+parseFloat(_.paddingTop))*y.y;h*=y.x,f*=y.y,m*=y.x,p*=y.y,h+=k,f+=E,S=Br(v),v=hx(S)}}return nh({width:m,height:p,x:h,y:f})}function wg(s,t){const r=Bh(s).scrollLeft;return t?t.left+r:Hi(aa(s)).left+r}function C1(s,t,r){r===void 0&&(r=!1);const n=s.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:wg(s,n)),o=n.top+t.scrollTop;return{x:a,y:o}}function YA(s){let{elements:t,rect:r,offsetParent:n,strategy:a}=s;const o=a==="fixed",c=aa(n),d=t?Uh(t.floating):!1;if(n===c||d&&o)return r;let h={scrollLeft:0,scrollTop:0},f=ea(1);const m=ea(0),p=ra(n);if((p||!p&&!o)&&((jl(n)!=="body"||Xc(c))&&(h=Bh(n)),ra(n))){const w=Hi(n);f=Qo(n),m.x=w.x+n.clientLeft,m.y=w.y+n.clientTop}const j=c&&!p&&!o?C1(c,h,!0):ea(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-h.scrollLeft*f.x+m.x+j.x,y:r.y*f.y-h.scrollTop*f.y+m.y+j.y}}function QA(s){return Array.from(s.getClientRects())}function ZA(s){const t=aa(s),r=Bh(s),n=s.ownerDocument.body,a=zr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=zr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+wg(s);const d=-r.scrollTop;return Rn(n).direction==="rtl"&&(c+=zr(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:c,y:d}}function XA(s,t){const r=Br(s),n=aa(s),a=r.visualViewport;let o=n.clientWidth,c=n.clientHeight,d=0,h=0;if(a){o=a.width,c=a.height;const f=yg();(!f||f&&t==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}return{width:o,height:c,x:d,y:h}}const JA=new Set(["absolute","fixed"]);function eD(s,t){const r=Hi(s,!0,t==="fixed"),n=r.top+s.clientTop,a=r.left+s.clientLeft,o=ra(s)?Qo(s):ea(1),c=s.clientWidth*o.x,d=s.clientHeight*o.y,h=a*o.x,f=n*o.y;return{width:c,height:d,x:h,y:f}}function n0(s,t,r){let n;if(t==="viewport")n=XA(s,r);else if(t==="document")n=ZA(aa(s));else if(Tn(t))n=eD(t,r);else{const a=k1(s);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return nh(n)}function E1(s,t){const r=mi(s);return r===t||!Tn(r)||tl(r)?!1:Rn(r).position==="fixed"||E1(r,t)}function tD(s,t){const r=t.get(s);if(r)return r;let n=Dc(s,[],!1).filter(d=>Tn(d)&&jl(d)!=="body"),a=null;const o=Rn(s).position==="fixed";let c=o?mi(s):s;for(;Tn(c)&&!tl(c);){const d=Rn(c),h=vg(c);!h&&d.position==="fixed"&&(a=null),(o?!h&&!a:!h&&d.position==="static"&&!!a&&JA.has(a.position)||Xc(c)&&!h&&E1(s,c))?n=n.filter(m=>m!==c):a=d,c=mi(c)}return t.set(s,n),n}function sD(s){let{element:t,boundary:r,rootBoundary:n,strategy:a}=s;const c=[...r==="clippingAncestors"?Uh(t)?[]:tD(t,this._c):[].concat(r),n],d=c[0],h=c.reduce((f,m)=>{const p=n0(t,m,a);return f.top=zr(p.top,f.top),f.right=fi(p.right,f.right),f.bottom=fi(p.bottom,f.bottom),f.left=zr(p.left,f.left),f},n0(t,d,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function rD(s){const{width:t,height:r}=S1(s);return{width:t,height:r}}function nD(s,t,r){const n=ra(t),a=aa(t),o=r==="fixed",c=Hi(s,!0,o,t);let d={scrollLeft:0,scrollTop:0};const h=ea(0);function f(){h.x=wg(a)}if(n||!n&&!o)if((jl(t)!=="body"||Xc(a))&&(d=Bh(t)),n){const w=Hi(t,!0,o,t);h.x=w.x+t.clientLeft,h.y=w.y+t.clientTop}else a&&f();o&&!n&&a&&f();const m=a&&!n&&!o?C1(a,d):ea(0),p=c.left+d.scrollLeft-h.x-m.x,j=c.top+d.scrollTop-h.y-m.y;return{x:p,y:j,width:c.width,height:c.height}}function Sp(s){return Rn(s).position==="static"}function a0(s,t){if(!ra(s)||Rn(s).position==="fixed")return null;if(t)return t(s);let r=s.offsetParent;return aa(s)===r&&(r=r.ownerDocument.body),r}function P1(s,t){const r=Br(s);if(Uh(s))return r;if(!ra(s)){let a=mi(s);for(;a&&!tl(a);){if(Tn(a)&&!Sp(a))return a;a=mi(a)}return r}let n=a0(s,t);for(;n&&zA(n)&&Sp(n);)n=a0(n,t);return n&&tl(n)&&Sp(n)&&!vg(n)?r:n||WA(s)||r}const aD=async function(s){const t=this.getOffsetParent||P1,r=this.getDimensions,n=await r(s.floating);return{reference:nD(s.reference,await t(s.floating),s.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function iD(s){return Rn(s).direction==="rtl"}const oD={convertOffsetParentRelativeRectToViewportRelativeRect:YA,getDocumentElement:aa,getClippingRect:sD,getOffsetParent:P1,getElementRects:aD,getClientRects:QA,getDimensions:rD,getScale:Qo,isElement:Tn,isRTL:iD};function T1(s,t){return s.x===t.x&&s.y===t.y&&s.width===t.width&&s.height===t.height}function lD(s,t){let r=null,n;const a=aa(s);function o(){var d;clearTimeout(n),(d=r)==null||d.disconnect(),r=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),o();const f=s.getBoundingClientRect(),{left:m,top:p,width:j,height:w}=f;if(d||t(),!j||!w)return;const S=Tu(p),v=Tu(a.clientWidth-(m+j)),y=Tu(a.clientHeight-(p+w)),b=Tu(m),k={rootMargin:-S+"px "+-v+"px "+-y+"px "+-b+"px",threshold:zr(0,fi(1,h))||1};let E=!0;function P(R){const D=R[0].intersectionRatio;if(D!==h){if(!E)return c();D?c(!1,D):n=setTimeout(()=>{c(!1,1e-7)},1e3)}D===1&&!T1(f,s.getBoundingClientRect())&&c(),E=!1}try{r=new IntersectionObserver(P,{...k,root:a.ownerDocument})}catch{r=new IntersectionObserver(P,k)}r.observe(s)}return c(!0),o}function cD(s,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,f=jg(s),m=a||o?[...f?Dc(f):[],...Dc(t)]:[];m.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),o&&b.addEventListener("resize",r)});const p=f&&d?lD(f,r):null;let j=-1,w=null;c&&(w=new ResizeObserver(b=>{let[_]=b;_&&_.target===f&&w&&(w.unobserve(t),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var k;(k=w)==null||k.observe(t)})),r()}),f&&!h&&w.observe(f),w.observe(t));let S,v=h?Hi(s):null;h&&y();function y(){const b=Hi(s);v&&!T1(v,b)&&r(),v=b,S=requestAnimationFrame(y)}return r(),()=>{var b;m.forEach(_=>{a&&_.removeEventListener("scroll",r),o&&_.removeEventListener("resize",r)}),p?.(),(b=w)==null||b.disconnect(),w=null,h&&cancelAnimationFrame(S)}}const dD=MA,uD=OA,hD=RA,fD=LA,mD=AA,i0=TA,pD=IA,xD=(s,t,r)=>{const n=new Map,a={platform:oD,...r},o={...a.platform,_c:n};return PA(s,t,{...a,platform:o})};var gD=typeof document<"u",vD=function(){},Vu=gD?x.useLayoutEffect:vD;function ah(s,t){if(s===t)return!0;if(typeof s!=typeof t)return!1;if(typeof s=="function"&&s.toString()===t.toString())return!0;let r,n,a;if(s&&t&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ah(s[n],t[n]))return!1;return!0}if(a=Object.keys(s),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&s.$$typeof)&&!ah(s[o],t[o]))return!1}return!0}return s!==s&&t!==t}function R1(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function o0(s,t){const r=R1(s);return Math.round(t*r)/r}function kp(s){const t=x.useRef(s);return Vu(()=>{t.current=s}),t}function yD(s){s===void 0&&(s={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:h,open:f}=s,[m,p]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[j,w]=x.useState(n);ah(j,n)||w(n);const[S,v]=x.useState(null),[y,b]=x.useState(null),_=x.useCallback(F=>{F!==R.current&&(R.current=F,v(F))},[]),k=x.useCallback(F=>{F!==D.current&&(D.current=F,b(F))},[]),E=o||S,P=c||y,R=x.useRef(null),D=x.useRef(null),U=x.useRef(m),V=h!=null,te=kp(h),oe=kp(a),K=kp(f),ce=x.useCallback(()=>{if(!R.current||!D.current)return;const F={placement:t,strategy:r,middleware:j};oe.current&&(F.platform=oe.current),xD(R.current,D.current,F).then(W=>{const le={...W,isPositioned:K.current!==!1};H.current&&!ah(U.current,le)&&(U.current=le,gl.flushSync(()=>{p(le)}))})},[j,t,r,oe,K]);Vu(()=>{f===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,p(F=>({...F,isPositioned:!1})))},[f]);const H=x.useRef(!1);Vu(()=>(H.current=!0,()=>{H.current=!1}),[]),Vu(()=>{if(E&&(R.current=E),P&&(D.current=P),E&&P){if(te.current)return te.current(E,P,ce);ce()}},[E,P,ce,te,V]);const ve=x.useMemo(()=>({reference:R,floating:D,setReference:_,setFloating:k}),[_,k]),ue=x.useMemo(()=>({reference:E,floating:P}),[E,P]),Y=x.useMemo(()=>{const F={position:r,left:0,top:0};if(!ue.floating)return F;const W=o0(ue.floating,m.x),le=o0(ue.floating,m.y);return d?{...F,transform:"translate("+W+"px, "+le+"px)",...R1(ue.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:le}},[r,d,ue.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:ce,refs:ve,elements:ue,floatingStyles:Y}),[m,ce,ve,ue,Y])}const jD=s=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:n,padding:a}=typeof s=="function"?s(r):s;return n&&t(n)?n.current!=null?i0({element:n.current,padding:a}).fn(r):{}:n?i0({element:n,padding:a}).fn(r):{}}}},wD=(s,t)=>({...dD(s),options:[s,t]}),bD=(s,t)=>({...uD(s),options:[s,t]}),ND=(s,t)=>({...pD(s),options:[s,t]}),_D=(s,t)=>({...hD(s),options:[s,t]}),SD=(s,t)=>({...fD(s),options:[s,t]}),kD=(s,t)=>({...mD(s),options:[s,t]}),CD=(s,t)=>({...jD(s),options:[s,t]});var ED="Arrow",A1=x.forwardRef((s,t)=>{const{children:r,width:n=10,height:a=5,...o}=s;return e.jsx(Be.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});A1.displayName=ED;var PD=A1;function bg(s){const[t,r]=x.useState(void 0);return xs(()=>{if(s){r({width:s.offsetWidth,height:s.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let c,d;if("borderBoxSize"in o){const h=o.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,d=f.blockSize}else c=s.offsetWidth,d=s.offsetHeight;r({width:c,height:d})});return n.observe(s,{box:"border-box"}),()=>n.unobserve(s)}else r(void 0)},[s]),t}var Ng="Popper",[D1,gi]=Vs(Ng),[TD,M1]=D1(Ng),O1=s=>{const{__scopePopper:t,children:r}=s,[n,a]=x.useState(null);return e.jsx(TD,{scope:t,anchor:n,onAnchorChange:a,children:r})};O1.displayName=Ng;var I1="PopperAnchor",L1=x.forwardRef((s,t)=>{const{__scopePopper:r,virtualRef:n,...a}=s,o=M1(I1,r),c=x.useRef(null),d=ft(t,c);return x.useEffect(()=>{o.onAnchorChange(n?.current||c.current)}),n?null:e.jsx(Be.div,{...a,ref:d})});L1.displayName=I1;var _g="PopperContent",[RD,AD]=D1(_g),F1=x.forwardRef((s,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:j=!1,updatePositionStrategy:w="optimized",onPlaced:S,...v}=s,y=M1(_g,r),[b,_]=x.useState(null),k=ft(t,ie=>_(ie)),[E,P]=x.useState(null),R=bg(E),D=R?.width??0,U=R?.height??0,V=n+(o!=="center"?"-"+o:""),te=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},oe=Array.isArray(f)?f:[f],K=oe.length>0,ce={padding:te,boundary:oe.filter(MD),altBoundary:K},{refs:H,floatingStyles:ve,placement:ue,isPositioned:Y,middlewareData:F}=yD({strategy:"fixed",placement:V,whileElementsMounted:(...ie)=>cD(...ie,{animationFrame:w==="always"}),elements:{reference:y.anchor},middleware:[wD({mainAxis:a+U,alignmentAxis:c}),h&&bD({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?ND():void 0,...ce}),h&&_D({...ce}),SD({...ce,apply:({elements:ie,rects:Te,availableWidth:Ve,availableHeight:Ne})=>{const{width:$e,height:_e}=Te.reference,Xe=ie.floating.style;Xe.setProperty("--radix-popper-available-width",`${Ve}px`),Xe.setProperty("--radix-popper-available-height",`${Ne}px`),Xe.setProperty("--radix-popper-anchor-width",`${$e}px`),Xe.setProperty("--radix-popper-anchor-height",`${_e}px`)}}),E&&CD({element:E,padding:d}),OD({arrowWidth:D,arrowHeight:U}),j&&kD({strategy:"referenceHidden",...ce})]}),[W,le]=U1(ue),I=ps(S);xs(()=>{Y&&I?.()},[Y,I]);const X=F.arrow?.x,ye=F.arrow?.y,me=F.arrow?.centerOffset!==0,[Le,qe]=x.useState();return xs(()=>{b&&qe(window.getComputedStyle(b).zIndex)},[b]),e.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:Y?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:e.jsx(RD,{scope:r,placedSide:W,onArrowChange:P,arrowX:X,arrowY:ye,shouldHideArrow:me,children:e.jsx(Be.div,{"data-side":W,"data-align":le,...v,ref:k,style:{...v.style,animation:Y?void 0:"none"}})})})});F1.displayName=_g;var $1="PopperArrow",DD={top:"bottom",right:"left",bottom:"top",left:"right"},z1=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,o=AD($1,n),c=DD[o.placedSide];return e.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:e.jsx(PD,{...a,ref:r,style:{...a.style,display:"block"}})})});z1.displayName=$1;function MD(s){return s!==null}var OD=s=>({name:"transformOrigin",options:s,fn(t){const{placement:r,rects:n,middlewareData:a}=t,c=a.arrow?.centerOffset!==0,d=c?0:s.arrowWidth,h=c?0:s.arrowHeight,[f,m]=U1(r),p={start:"0%",center:"50%",end:"100%"}[m],j=(a.arrow?.x??0)+d/2,w=(a.arrow?.y??0)+h/2;let S="",v="";return f==="bottom"?(S=c?p:`${j}px`,v=`${-h}px`):f==="top"?(S=c?p:`${j}px`,v=`${n.floating.height+h}px`):f==="right"?(S=`${-h}px`,v=c?p:`${w}px`):f==="left"&&(S=`${n.floating.width+h}px`,v=c?p:`${w}px`),{data:{x:S,y:v}}}});function U1(s){const[t,r="center"]=s.split("-");return[t,r]}var Sg=O1,Jc=L1,qh=F1,Vh=z1,[Wh]=Vs("Tooltip",[gi]),kg=gi(),B1="TooltipProvider",ID=700,l0="tooltip.open",[LD,q1]=Wh(B1),V1=s=>{const{__scopeTooltip:t,delayDuration:r=ID,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=s,c=x.useRef(!0),d=x.useRef(!1),h=x.useRef(0);return x.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),e.jsx(LD,{scope:t,isOpenDelayedRef:c,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:x.useCallback(f=>{d.current=f},[]),disableHoverableContent:a,children:o})};V1.displayName=B1;var W1="Tooltip",[uq,Hh]=Wh(W1),fx="TooltipTrigger",FD=x.forwardRef((s,t)=>{const{__scopeTooltip:r,...n}=s,a=Hh(fx,r),o=q1(fx,r),c=kg(r),d=x.useRef(null),h=ft(t,d,a.onTriggerChange),f=x.useRef(!1),m=x.useRef(!1),p=x.useCallback(()=>f.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),e.jsx(Jc,{asChild:!0,...c,children:e.jsx(Be.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:h,onPointerMove:Se(s.onPointerMove,j=>{j.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:Se(s.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:Se(s.onPointerDown,()=>{a.open&&a.onClose(),f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Se(s.onFocus,()=>{f.current||a.onOpen()}),onBlur:Se(s.onBlur,a.onClose),onClick:Se(s.onClick,a.onClose)})})});FD.displayName=fx;var $D="TooltipPortal",[hq,zD]=Wh($D,{forceMount:void 0}),sl="TooltipContent",H1=x.forwardRef((s,t)=>{const r=zD(sl,s.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...o}=s,c=Hh(sl,s.__scopeTooltip);return e.jsx(Ls,{present:n||c.open,children:c.disableHoverableContent?e.jsx(G1,{side:a,...o,ref:t}):e.jsx(UD,{side:a,...o,ref:t})})}),UD=x.forwardRef((s,t)=>{const r=Hh(sl,s.__scopeTooltip),n=q1(sl,s.__scopeTooltip),a=x.useRef(null),o=ft(t,a),[c,d]=x.useState(null),{trigger:h,onClose:f}=r,m=a.current,{onPointerInTransitChange:p}=n,j=x.useCallback(()=>{d(null),p(!1)},[p]),w=x.useCallback((S,v)=>{const y=S.currentTarget,b={x:S.clientX,y:S.clientY},_=HD(b,y.getBoundingClientRect()),k=GD(b,_),E=KD(v.getBoundingClientRect()),P=QD([...k,...E]);d(P),p(!0)},[p]);return x.useEffect(()=>()=>j(),[j]),x.useEffect(()=>{if(h&&m){const S=y=>w(y,m),v=y=>w(y,h);return h.addEventListener("pointerleave",S),m.addEventListener("pointerleave",v),()=>{h.removeEventListener("pointerleave",S),m.removeEventListener("pointerleave",v)}}},[h,m,w,j]),x.useEffect(()=>{if(c){const S=v=>{const y=v.target,b={x:v.clientX,y:v.clientY},_=h?.contains(y)||m?.contains(y),k=!YD(b,c);_?j():k&&(j(),f())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[h,m,c,f,j]),e.jsx(G1,{...s,ref:o})}),[BD,qD]=Wh(W1,{isInside:!1}),VD=LN("TooltipContent"),G1=x.forwardRef((s,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:c,...d}=s,h=Hh(sl,r),f=kg(r),{onClose:m}=h;return x.useEffect(()=>(document.addEventListener(l0,m),()=>document.removeEventListener(l0,m)),[m]),x.useEffect(()=>{if(h.trigger){const p=j=>{j.target?.contains(h.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[h.trigger,m]),e.jsx(ro,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:e.jsxs(qh,{"data-state":h.stateAttribute,...f,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(VD,{children:n}),e.jsx(BD,{scope:r,isInside:!0,children:e.jsx(yR,{id:h.contentId,role:"tooltip",children:a||n})})]})})});H1.displayName=sl;var K1="TooltipArrow",WD=x.forwardRef((s,t)=>{const{__scopeTooltip:r,...n}=s,a=kg(r);return qD(K1,r).isInside?null:e.jsx(Vh,{...a,...n,ref:t})});WD.displayName=K1;function HD(s,t){const r=Math.abs(t.top-s.y),n=Math.abs(t.bottom-s.y),a=Math.abs(t.right-s.x),o=Math.abs(t.left-s.x);switch(Math.min(r,n,a,o)){case o:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function GD(s,t,r=5){const n=[];switch(t){case"top":n.push({x:s.x-r,y:s.y+r},{x:s.x+r,y:s.y+r});break;case"bottom":n.push({x:s.x-r,y:s.y-r},{x:s.x+r,y:s.y-r});break;case"left":n.push({x:s.x+r,y:s.y-r},{x:s.x+r,y:s.y+r});break;case"right":n.push({x:s.x-r,y:s.y-r},{x:s.x-r,y:s.y+r});break}return n}function KD(s){const{top:t,right:r,bottom:n,left:a}=s;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function YD(s,t){const{x:r,y:n}=s;let a=!1;for(let o=0,c=t.length-1;o<t.length;c=o++){const d=t[o],h=t[c],f=d.x,m=d.y,p=h.x,j=h.y;m>n!=j>n&&r<(p-f)*(n-m)/(j-m)+f&&(a=!a)}return a}function QD(s){const t=s.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ZD(t)}function ZD(s){if(s.length<=1)return s.slice();const t=[];for(let n=0;n<s.length;n++){const a=s[n];for(;t.length>=2;){const o=t[t.length-1],c=t[t.length-2];if((o.x-c.x)*(a.y-c.y)>=(o.y-c.y)*(a.x-c.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=s.length-1;n>=0;n--){const a=s[n];for(;r.length>=2;){const o=r[r.length-1],c=r[r.length-2];if((o.x-c.x)*(a.y-c.y)>=(o.y-c.y)*(a.x-c.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var XD=V1,Y1=H1;const JD=XD,eM=x.forwardRef(({className:s,sideOffset:t=4,...r},n)=>e.jsx(Y1,{ref:n,sideOffset:t,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r}));eM.displayName=Y1.displayName;var Gh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kh=typeof window>"u"||"Deno"in globalThis;function wn(){}function tM(s,t){return typeof s=="function"?s(t):s}function sM(s){return typeof s=="number"&&s>=0&&s!==1/0}function rM(s,t){return Math.max(s+(t||0)-Date.now(),0)}function mx(s,t){return typeof s=="function"?s(t):s}function nM(s,t){return typeof s=="function"?s(t):s}function c0(s,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:c,stale:d}=s;if(c){if(n){if(t.queryHash!==Cg(c,t.options))return!1}else if(!Oc(t.queryKey,c))return!1}if(r!=="all"){const h=t.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||o&&!o(t))}function d0(s,t){const{exact:r,status:n,predicate:a,mutationKey:o}=s;if(o){if(!t.options.mutationKey)return!1;if(r){if(Mc(t.options.mutationKey)!==Mc(o))return!1}else if(!Oc(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Cg(s,t){return(t?.queryKeyHashFn||Mc)(s)}function Mc(s){return JSON.stringify(s,(t,r)=>px(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Oc(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?Object.keys(t).every(r=>Oc(s[r],t[r])):!1}function Q1(s,t){if(s===t)return s;const r=u0(s)&&u0(t);if(r||px(s)&&px(t)){const n=r?s:Object.keys(s),a=n.length,o=r?t:Object.keys(t),c=o.length,d=r?[]:{},h=new Set(n);let f=0;for(let m=0;m<c;m++){const p=r?m:o[m];(!r&&h.has(p)||r)&&s[p]===void 0&&t[p]===void 0?(d[p]=void 0,f++):(d[p]=Q1(s[p],t[p]),d[p]===s[p]&&s[p]!==void 0&&f++)}return a===c&&f===a?s:d}return t}function u0(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function px(s){if(!h0(s))return!1;const t=s.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!h0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function h0(s){return Object.prototype.toString.call(s)==="[object Object]"}function aM(s){return new Promise(t=>{setTimeout(t,s)})}function iM(s,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(s,t):r.structuralSharing!==!1?Q1(s,t):t}function oM(s,t,r=0){const n=[...s,t];return r&&n.length>r?n.slice(1):n}function lM(s,t,r=0){const n=[t,...s];return r&&n.length>r?n.slice(0,-1):n}var Eg=Symbol();function Z1(s,t){return!s.queryFn&&t?.initialPromise?()=>t.initialPromise:!s.queryFn||s.queryFn===Eg?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var cM=class extends Gh{#e;#t;#s;constructor(){super(),this.#s=s=>{if(!Kh&&window.addEventListener){const t=()=>s();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#s=s,this.#t?.(),this.#t=s(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(t=>{t(s)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},X1=new cM,dM=class extends Gh{#e=!0;#t;#s;constructor(){super(),this.#s=s=>{if(!Kh&&window.addEventListener){const t=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#s=s,this.#t?.(),this.#t=s(this.setOnline.bind(this))}setOnline(s){this.#e!==s&&(this.#e=s,this.listeners.forEach(r=>{r(s)}))}isOnline(){return this.#e}},ih=new dM;function uM(){let s,t;const r=new Promise((a,o)=>{s=a,t=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),s(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function hM(s){return Math.min(1e3*2**s,3e4)}function J1(s){return(s??"online")==="online"?ih.isOnline():!0}var e_=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function Cp(s){return s instanceof e_}function t_(s){let t=!1,r=0,n=!1,a;const o=uM(),c=v=>{n||(j(new e_(v)),s.abort?.())},d=()=>{t=!0},h=()=>{t=!1},f=()=>X1.isFocused()&&(s.networkMode==="always"||ih.isOnline())&&s.canRun(),m=()=>J1(s.networkMode)&&s.canRun(),p=v=>{n||(n=!0,s.onSuccess?.(v),a?.(),o.resolve(v))},j=v=>{n||(n=!0,s.onError?.(v),a?.(),o.reject(v))},w=()=>new Promise(v=>{a=y=>{(n||f())&&v(y)},s.onPause?.()}).then(()=>{a=void 0,n||s.onContinue?.()}),S=()=>{if(n)return;let v;const y=r===0?s.initialPromise:void 0;try{v=y??s.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(p).catch(b=>{if(n)return;const _=s.retry??(Kh?0:3),k=s.retryDelay??hM,E=typeof k=="function"?k(r,b):k,P=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,b);if(t||!P){j(b);return}r++,s.onFail?.(r,b),aM(E).then(()=>f()?void 0:w()).then(()=>{t?j(b):S()})})};return{promise:o,cancel:c,continue:()=>(a?.(),o),cancelRetry:d,continueRetry:h,canStart:m,start:()=>(m()?S():w().then(S),o)}}var fM=s=>setTimeout(s,0);function mM(){let s=[],t=0,r=d=>{d()},n=d=>{d()},a=fM;const o=d=>{t?s.push(d):a(()=>{r(d)})},c=()=>{const d=s;s=[],d.length&&a(()=>{n(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;t++;try{h=d()}finally{t--,t||c()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{a=d}}}var ur=mM(),s_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sM(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Kh?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},pM=class extends s_{#e;#t;#s;#n;#r;#i;#o;constructor(s){super(),this.#o=!1,this.#i=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#n=s.client,this.#s=this.#n.getQueryCache(),this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#e=gM(this.options),this.state=s.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(s){this.options={...this.#i,...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(s,t){const r=iM(this.state.data,s,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(s,t){this.#a({type:"setState",state:s,setStateOptions:t})}cancel(s){const t=this.#r?.promise;return this.#r?.cancel(s),t?t.then(wn).catch(wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(s=>nM(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Eg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>mx(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!rM(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(t=>t!==s),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(s,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(s&&this.setOptions(s),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const h=Z1(this.options,t),m=(()=>{const p={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(p),p})();return this.#o=!1,this.options.persister?this.options.persister(h,m,this):h(m)},c=(()=>{const h={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return n(h),h})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#a({type:"fetch",meta:c.fetchOptions?.meta});const d=h=>{Cp(h)&&h.silent||this.#a({type:"error",error:h}),Cp(h)||(this.#s.config.onError?.(h,this),this.#s.config.onSettled?.(this.state.data,h,this)),this.scheduleGc()};return this.#r=t_({initialPromise:t?.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{if(h===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(f){d(f);return}this.#s.config.onSuccess?.(h,this),this.#s.config.onSettled?.(h,this.state.error,this),this.scheduleGc()},onError:d,onFail:(h,f)=>{this.#a({type:"failed",failureCount:h,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}),this.#r.start()}#a(s){const t=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...xM(r.data,this.options),fetchMeta:s.meta??null};case"success":return this.#t=void 0,{...r,data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=s.error;return Cp(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=t(this.state),ur.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:s})})}};function xM(s,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J1(t.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function gM(s){const t=typeof s.initialData=="function"?s.initialData():s.initialData,r=t!==void 0,n=r?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var vM=class extends Gh{constructor(s={}){super(),this.config=s,this.#e=new Map}#e;build(s,t,r){const n=t.queryKey,a=t.queryHash??Cg(n,t);let o=this.get(a);return o||(o=new pM({client:s,queryKey:n,queryHash:a,options:s.defaultQueryOptions(t),state:r,defaultOptions:s.getQueryDefaults(n)}),this.add(o)),o}add(s){this.#e.has(s.queryHash)||(this.#e.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const t=this.#e.get(s.queryHash);t&&(s.destroy(),t===s&&this.#e.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){ur.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#e.get(s)}getAll(){return[...this.#e.values()]}find(s){const t={exact:!0,...s};return this.getAll().find(r=>c0(t,r))}findAll(s={}){const t=this.getAll();return Object.keys(s).length>0?t.filter(r=>c0(s,r)):t}notify(s){ur.batch(()=>{this.listeners.forEach(t=>{t(s)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},yM=class extends s_{#e;#t;#s;constructor(s){super(),this.mutationId=s.mutationId,this.#t=s.mutationCache,this.#e=[],this.state=s.state||jM(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#e.includes(s)||(this.#e.push(s),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#e=this.#e.filter(t=>t!==s),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(s){const t=()=>{this.#n({type:"continue"})};this.#s=t_({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#n({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",n=!this.#s.canStart();try{if(r)t();else{this.#n({type:"pending",variables:s,isPaused:n}),await this.#t.config.onMutate?.(s,this);const o=await this.options.onMutate?.(s);o!==this.state.context&&this.#n({type:"pending",context:o,variables:s,isPaused:n})}const a=await this.#s.start();return await this.#t.config.onSuccess?.(a,s,this.state.context,this),await this.options.onSuccess?.(a,s,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,s,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,s,this.state.context,this),await this.options.onError?.(a,s,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,s,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#t.runNext(this)}}#n(s){const t=r=>{switch(s.type){case"failed":return{...r,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...r,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:s.error,failureCount:r.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ur.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(s)}),this.#t.notify({mutation:this,type:"updated",action:s})})}};function jM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wM=class extends Gh{constructor(s={}){super(),this.config=s,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(s,t,r){const n=new yM({mutationCache:this,mutationId:++this.#s,options:s.defaultMutationOptions(t),state:r});return this.add(n),n}add(s){this.#e.add(s);const t=Ru(s);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(s):this.#t.set(t,[s])}this.notify({type:"added",mutation:s})}remove(s){if(this.#e.delete(s)){const t=Ru(s);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(s);n!==-1&&r.splice(n,1)}else r[0]===s&&this.#t.delete(t)}}this.notify({type:"removed",mutation:s})}canRun(s){const t=Ru(s);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===s}else return!0}runNext(s){const t=Ru(s);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==s&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ur.batch(()=>{this.#e.forEach(s=>{this.notify({type:"removed",mutation:s})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(s){const t={exact:!0,...s};return this.getAll().find(r=>d0(t,r))}findAll(s={}){return this.getAll().filter(t=>d0(s,t))}notify(s){ur.batch(()=>{this.listeners.forEach(t=>{t(s)})})}resumePausedMutations(){const s=this.getAll().filter(t=>t.state.isPaused);return ur.batch(()=>Promise.all(s.map(t=>t.continue().catch(wn))))}};function Ru(s){return s.options.scope?.id}function f0(s){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const f=async()=>{let m=!1;const p=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},j=Z1(t.options,t.fetchOptions),w=async(S,v,y)=>{if(m)return Promise.reject();if(v==null&&S.pages.length)return Promise.resolve(S);const _=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:v,direction:y?"backward":"forward",meta:t.options.meta};return p(R),R})(),k=await j(_),{maxPages:E}=t.options,P=y?lM:oM;return{pages:P(S.pages,k,E),pageParams:P(S.pageParams,v,E)}};if(a&&o.length){const S=a==="backward",v=S?bM:m0,y={pages:o,pageParams:c},b=v(n,y);d=await w(y,b,S)}else{const S=s??o.length;do{const v=h===0?c[0]??n.initialPageParam:m0(n,d);if(h>0&&v==null)break;d=await w(d,v),h++}while(h<S)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function m0(s,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?s.getNextPageParam(t[n],t,r[n],r):void 0}function bM(s,{pages:t,pageParams:r}){return t.length>0?s.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var NM=class{#e;#t;#s;#n;#r;#i;#o;#a;constructor(s={}){this.#e=s.queryCache||new vM,this.#t=s.mutationCache||new wM,this.#s=s.defaultOptions||{},this.#n=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=X1.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=ih.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(s){return this.#e.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#t.findAll({...s,status:"pending"}).length}getQueryData(s){const t=this.defaultQueryOptions({queryKey:s});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(s){const t=this.defaultQueryOptions(s),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(s):(s.revalidateIfStale&&r.isStaleByTime(mx(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(s){return this.#e.findAll(s).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(s,t,r){const n=this.defaultQueryOptions({queryKey:s}),o=this.#e.get(n.queryHash)?.state.data,c=tM(t,o);if(c!==void 0)return this.#e.build(this,n).setData(c,{...r,manual:!0})}setQueriesData(s,t,r){return ur.batch(()=>this.#e.findAll(s).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(s){const t=this.defaultQueryOptions({queryKey:s});return this.#e.get(t.queryHash)?.state}removeQueries(s){const t=this.#e;ur.batch(()=>{t.findAll(s).forEach(r=>{t.remove(r)})})}resetQueries(s,t){const r=this.#e;return ur.batch(()=>(r.findAll(s).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...s},t)))}cancelQueries(s,t={}){const r={revert:!0,...t},n=ur.batch(()=>this.#e.findAll(s).map(a=>a.cancel(r)));return Promise.all(n).then(wn).catch(wn)}invalidateQueries(s,t={}){return ur.batch(()=>(this.#e.findAll(s).forEach(r=>{r.invalidate()}),s?.refetchType==="none"?Promise.resolve():this.refetchQueries({...s,type:s?.refetchType??s?.type??"active"},t)))}refetchQueries(s,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ur.batch(()=>this.#e.findAll(s).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(wn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(wn)}fetchQuery(s){const t=this.defaultQueryOptions(s);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(mx(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(wn).catch(wn)}fetchInfiniteQuery(s){return s.behavior=f0(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(wn).catch(wn)}ensureInfiniteQueryData(s){return s.behavior=f0(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return ih.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(s){this.#s=s}setQueryDefaults(s,t){this.#n.set(Mc(s),{queryKey:s,defaultOptions:t})}getQueryDefaults(s){const t=[...this.#n.values()],r={};return t.forEach(n=>{Oc(s,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(s,t){this.#r.set(Mc(s),{mutationKey:s,defaultOptions:t})}getMutationDefaults(s){const t=[...this.#r.values()],r={};return t.forEach(n=>{Oc(s,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(s){if(s._defaulted)return s;const t={...this.#s.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return t.queryHash||(t.queryHash=Cg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Eg&&(t.enabled=!1),t}defaultMutationOptions(s){return s?._defaulted?s:{...this.#s.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},_M=x.createContext(void 0),SM=({client:s,children:t})=>(x.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),e.jsx(_M.Provider,{value:s,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},Ic.apply(this,arguments)}var si;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(si||(si={}));const p0="popstate";function kM(s){s===void 0&&(s={});function t(n,a){let{pathname:o,search:c,hash:d}=n.location;return xx("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:oh(a)}return EM(t,r,null,s)}function ws(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function r_(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CM(){return Math.random().toString(36).substr(2,8)}function x0(s,t){return{usr:s.state,key:s.key,idx:t}}function xx(s,t,r,n){return r===void 0&&(r=null),Ic({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof t=="string"?wl(t):t,{state:r,key:t&&t.key||n||CM()})}function oh(s){let{pathname:t="/",search:r="",hash:n=""}=s;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wl(s){let t={};if(s){let r=s.indexOf("#");r>=0&&(t.hash=s.substr(r),s=s.substr(0,r));let n=s.indexOf("?");n>=0&&(t.search=s.substr(n),s=s.substr(0,n)),s&&(t.pathname=s)}return t}function EM(s,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,c=a.history,d=si.Pop,h=null,f=m();f==null&&(f=0,c.replaceState(Ic({},c.state,{idx:f}),""));function m(){return(c.state||{idx:null}).idx}function p(){d=si.Pop;let y=m(),b=y==null?null:y-f;f=y,h&&h({action:d,location:v.location,delta:b})}function j(y,b){d=si.Push;let _=xx(v.location,y,b);f=m()+1;let k=x0(_,f),E=v.createHref(_);try{c.pushState(k,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(E)}o&&h&&h({action:d,location:v.location,delta:1})}function w(y,b){d=si.Replace;let _=xx(v.location,y,b);f=m();let k=x0(_,f),E=v.createHref(_);c.replaceState(k,"",E),o&&h&&h({action:d,location:v.location,delta:0})}function S(y){let b=a.location.origin!=="null"?a.location.origin:a.location.href,_=typeof y=="string"?y:oh(y);return _=_.replace(/ $/,"%20"),ws(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let v={get action(){return d},get location(){return s(a,c)},listen(y){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(p0,p),h=y,()=>{a.removeEventListener(p0,p),h=null}},createHref(y){return t(a,y)},createURL:S,encodeLocation(y){let b=S(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:j,replace:w,go(y){return c.go(y)}};return v}var g0;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(g0||(g0={}));function PM(s,t,r){return r===void 0&&(r="/"),TM(s,t,r)}function TM(s,t,r,n){let a=typeof t=="string"?wl(t):t,o=Pg(a.pathname||"/",r);if(o==null)return null;let c=n_(s);RM(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=qM(o);d=zM(c[h],f)}return d}function n_(s,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(ws(h.relativePath.startsWith(n),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(n.length));let f=ai([n,h.relativePath]),m=r.concat(h);o.children&&o.children.length>0&&(ws(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),n_(o.children,t,m,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:FM(f,o.index),routesMeta:m})};return s.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of a_(o.path))a(o,c,h)}),t}function a_(s){let t=s.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let c=a_(n.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>s.startsWith("/")&&h===""?"/":h)}function RM(s){s.sort((t,r)=>t.score!==r.score?r.score-t.score:$M(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AM=/^:[\w-]+$/,DM=3,MM=2,OM=1,IM=10,LM=-2,v0=s=>s==="*";function FM(s,t){let r=s.split("/"),n=r.length;return r.some(v0)&&(n+=LM),t&&(n+=MM),r.filter(a=>!v0(a)).reduce((a,o)=>a+(AM.test(o)?DM:o===""?OM:IM),n)}function $M(s,t){return s.length===t.length&&s.slice(0,-1).every((n,a)=>n===t[a])?s[s.length-1]-t[t.length-1]:0}function zM(s,t,r){let{routesMeta:n}=s,a={},o="/",c=[];for(let d=0;d<n.length;++d){let h=n[d],f=d===n.length-1,m=o==="/"?t:t.slice(o.length)||"/",p=UM({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),j=h.route;if(!p)return null;Object.assign(a,p.params),c.push({params:a,pathname:ai([o,p.pathname]),pathnameBase:GM(ai([o,p.pathnameBase])),route:j}),p.pathnameBase!=="/"&&(o=ai([o,p.pathnameBase]))}return c}function UM(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,n]=BM(s.path,s.caseSensitive,s.end),a=t.match(r);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((f,m,p)=>{let{paramName:j,isOptional:w}=m;if(j==="*"){let v=d[p]||"";c=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const S=d[p];return w&&!S?f[j]=void 0:f[j]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:s}}function BM(s,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),r_(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let n=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function qM(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return r_(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),s}}function Pg(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=s.charAt(r);return n&&n!=="/"?null:s.slice(r)||"/"}function VM(s,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof s=="string"?wl(s):s;return{pathname:r?r.startsWith("/")?r:WM(r,t):t,search:KM(n),hash:YM(a)}}function WM(s,t){let r=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ep(s,t,r,n){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HM(s){return s.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Tg(s,t){let r=HM(s);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Rg(s,t,r,n){n===void 0&&(n=!1);let a;typeof s=="string"?a=wl(s):(a=Ic({},s),ws(!a.pathname||!a.pathname.includes("?"),Ep("?","pathname","search",a)),ws(!a.pathname||!a.pathname.includes("#"),Ep("#","pathname","hash",a)),ws(!a.search||!a.search.includes("#"),Ep("#","search","hash",a)));let o=s===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=r;else{let p=t.length-1;if(!n&&c.startsWith("..")){let j=c.split("/");for(;j[0]==="..";)j.shift(),p-=1;a.pathname=j.join("/")}d=p>=0?t[p]:"/"}let h=VM(a,d),f=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const ai=s=>s.join("/").replace(/\/\/+/g,"/"),GM=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),KM=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,YM=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function QM(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const i_=["post","put","patch","delete"];new Set(i_);const ZM=["get",...i_];new Set(ZM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lc(){return Lc=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},Lc.apply(this,arguments)}const Ag=x.createContext(null),XM=x.createContext(null),vi=x.createContext(null),Yh=x.createContext(null),ka=x.createContext({outlet:null,matches:[],isDataRoute:!1}),o_=x.createContext(null);function JM(s,t){let{relative:r}=t===void 0?{}:t;bl()||ws(!1);let{basename:n,navigator:a}=x.useContext(vi),{hash:o,pathname:c,search:d}=c_(s,{relative:r}),h=c;return n!=="/"&&(h=c==="/"?n:ai([n,c])),a.createHref({pathname:h,search:d,hash:o})}function bl(){return x.useContext(Yh)!=null}function ia(){return bl()||ws(!1),x.useContext(Yh).location}function l_(s){x.useContext(vi).static||x.useLayoutEffect(s)}function ar(){let{isDataRoute:s}=x.useContext(ka);return s?hO():eO()}function eO(){bl()||ws(!1);let s=x.useContext(Ag),{basename:t,future:r,navigator:n}=x.useContext(vi),{matches:a}=x.useContext(ka),{pathname:o}=ia(),c=JSON.stringify(Tg(a,r.v7_relativeSplatPath)),d=x.useRef(!1);return l_(()=>{d.current=!0}),x.useCallback(function(f,m){if(m===void 0&&(m={}),!d.current)return;if(typeof f=="number"){n.go(f);return}let p=Rg(f,JSON.parse(c),o,m.relative==="path");s==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ai([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,c,o,s])}function Qh(){let{matches:s}=x.useContext(ka),t=s[s.length-1];return t?t.params:{}}function c_(s,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(vi),{matches:a}=x.useContext(ka),{pathname:o}=ia(),c=JSON.stringify(Tg(a,n.v7_relativeSplatPath));return x.useMemo(()=>Rg(s,JSON.parse(c),o,r==="path"),[s,c,o,r])}function tO(s,t){return sO(s,t)}function sO(s,t,r,n){bl()||ws(!1);let{navigator:a}=x.useContext(vi),{matches:o}=x.useContext(ka),c=o[o.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let f=ia(),m;if(t){var p;let y=typeof t=="string"?wl(t):t;h==="/"||(p=y.pathname)!=null&&p.startsWith(h)||ws(!1),m=y}else m=f;let j=m.pathname||"/",w=j;if(h!=="/"){let y=h.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(y.length).join("/")}let S=PM(s,{pathname:w}),v=oO(S&&S.map(y=>Object.assign({},y,{params:Object.assign({},d,y.params),pathname:ai([h,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?h:ai([h,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&v?x.createElement(Yh.Provider,{value:{location:Lc({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:si.Pop}},v):v}function rO(){let s=uO(),t=QM(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const nO=x.createElement(rO,null);class aO extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(ka.Provider,{value:this.props.routeContext},x.createElement(o_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iO(s){let{routeContext:t,match:r,children:n}=s,a=x.useContext(Ag);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(ka.Provider,{value:t},n)}function oO(s,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),s==null){var o;if(!r)return null;if(r.errors)s=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let c=s,d=(a=r)==null?void 0:a.errors;if(d!=null){let m=c.findIndex(p=>p.route.id&&d?.[p.route.id]!==void 0);m>=0||ws(!1),c=c.slice(0,Math.min(c.length,m+1))}let h=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let p=c[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:j,errors:w}=r,S=p.route.loader&&j[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||S){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((m,p,j)=>{let w,S=!1,v=null,y=null;r&&(w=d&&p.route.id?d[p.route.id]:void 0,v=p.route.errorElement||nO,h&&(f<0&&j===0?(fO("route-fallback"),S=!0,y=null):f===j&&(S=!0,y=p.route.hydrateFallbackElement||null)));let b=t.concat(c.slice(0,j+1)),_=()=>{let k;return w?k=v:S?k=y:p.route.Component?k=x.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=m,x.createElement(iO,{match:p,routeContext:{outlet:m,matches:b,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||j===0)?x.createElement(aO,{location:r.location,revalidation:r.revalidation,component:v,error:w,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var d_=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(d_||{}),u_=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(u_||{});function lO(s){let t=x.useContext(Ag);return t||ws(!1),t}function cO(s){let t=x.useContext(XM);return t||ws(!1),t}function dO(s){let t=x.useContext(ka);return t||ws(!1),t}function h_(s){let t=dO(),r=t.matches[t.matches.length-1];return r.route.id||ws(!1),r.route.id}function uO(){var s;let t=x.useContext(o_),r=cO(),n=h_();return t!==void 0?t:(s=r.errors)==null?void 0:s[n]}function hO(){let{router:s}=lO(d_.UseNavigateStable),t=h_(u_.UseNavigateStable),r=x.useRef(!1);return l_(()=>{r.current=!0}),x.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?s.navigate(a):s.navigate(a,Lc({fromRouteId:t},o)))},[s,t])}const y0={};function fO(s,t,r){y0[s]||(y0[s]=!0)}function mO(s,t){s?.v7_startTransition,s?.v7_relativeSplatPath}function Wu(s){let{to:t,replace:r,state:n,relative:a}=s;bl()||ws(!1);let{future:o,static:c}=x.useContext(vi),{matches:d}=x.useContext(ka),{pathname:h}=ia(),f=ar(),m=Rg(t,Tg(d,o.v7_relativeSplatPath),h,a==="path"),p=JSON.stringify(m);return x.useEffect(()=>f(JSON.parse(p),{replace:r,state:n,relative:a}),[f,p,a,r,n]),null}function bt(s){ws(!1)}function pO(s){let{basename:t="/",children:r=null,location:n,navigationType:a=si.Pop,navigator:o,static:c=!1,future:d}=s;bl()&&ws(!1);let h=t.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:h,navigator:o,static:c,future:Lc({v7_relativeSplatPath:!1},d)}),[h,d,o,c]);typeof n=="string"&&(n=wl(n));let{pathname:m="/",search:p="",hash:j="",state:w=null,key:S="default"}=n,v=x.useMemo(()=>{let y=Pg(m,h);return y==null?null:{location:{pathname:y,search:p,hash:j,state:w,key:S},navigationType:a}},[h,m,p,j,w,S,a]);return v==null?null:x.createElement(vi.Provider,{value:f},x.createElement(Yh.Provider,{children:r,value:v}))}function xO(s){let{children:t,location:r}=s;return tO(gx(t),r)}new Promise(()=>{});function gx(s,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(s,(n,a)=>{if(!x.isValidElement(n))return;let o=[...t,a];if(n.type===x.Fragment){r.push.apply(r,gx(n.props.children,o));return}n.type!==bt&&ws(!1),!n.props.index||!n.props.children||ws(!1);let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=gx(n.props.children,o)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vx(){return vx=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},vx.apply(this,arguments)}function gO(s,t){if(s==null)return{};var r={},n=Object.keys(s),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=s[a]);return r}function vO(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function yO(s,t){return s.button===0&&(!t||t==="_self")&&!vO(s)}function yx(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((t,r)=>{let n=s[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function jO(s,t){let r=yx(s);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}const wO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bO="6";try{window.__reactRouterVersion=bO}catch{}const NO="startTransition",j0=Jx[NO];function _O(s){let{basename:t,children:r,future:n,window:a}=s,o=x.useRef();o.current==null&&(o.current=kM({window:a,v5Compat:!0}));let c=o.current,[d,h]=x.useState({action:c.action,location:c.location}),{v7_startTransition:f}=n||{},m=x.useCallback(p=>{f&&j0?j0(()=>h(p)):h(p)},[h,f]);return x.useLayoutEffect(()=>c.listen(m),[c,m]),x.useEffect(()=>mO(n),[n]),x.createElement(pO,{basename:t,children:r,location:d.location,navigationType:d.action,navigator:c,future:n})}const SO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:o,replace:c,state:d,target:h,to:f,preventScrollReset:m,viewTransition:p}=t,j=gO(t,wO),{basename:w}=x.useContext(vi),S,v=!1;if(typeof f=="string"&&kO.test(f)&&(S=f,SO))try{let k=new URL(window.location.href),E=f.startsWith("//")?new URL(k.protocol+f):new URL(f),P=Pg(E.pathname,w);E.origin===k.origin&&P!=null?f=P+E.search+E.hash:v=!0}catch{}let y=JM(f,{relative:a}),b=CO(f,{replace:c,state:d,target:h,preventScrollReset:m,relative:a,viewTransition:p});function _(k){n&&n(k),k.defaultPrevented||b(k)}return x.createElement("a",vx({},j,{href:S||y,onClick:v||o?n:_,ref:r,target:h}))});var w0;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(w0||(w0={}));var b0;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(b0||(b0={}));function CO(s,t){let{target:r,replace:n,state:a,preventScrollReset:o,relative:c,viewTransition:d}=t===void 0?{}:t,h=ar(),f=ia(),m=c_(s,{relative:c});return x.useCallback(p=>{if(yO(p,r)){p.preventDefault();let j=n!==void 0?n:oh(f)===oh(m);h(s,{replace:j,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[f,h,m,n,a,r,s,o,c,d])}function EO(s){let t=x.useRef(yx(s)),r=x.useRef(!1),n=ia(),a=x.useMemo(()=>jO(n.search,r.current?null:t.current),[n.search]),o=ar(),c=x.useCallback((d,h)=>{const f=yx(typeof d=="function"?d(a):d);r.current=!0,o("?"+f,h)},[o,a]);return[a,c]}const PO="modulepreload",TO=function(s){return"/"+s},N0={},ed=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let f=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};var c=f;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");a=f(r.map(m=>{if(m=TO(m),m in N0)return;N0[m]=!0;const p=m.endsWith(".css"),j=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${j}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":PO,p||(w.as="script"),w.crossOrigin="",w.href=m,h&&w.setAttribute("nonce",h),document.head.appendChild(w),p)return new Promise((S,v)=>{w.addEventListener("load",S),w.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return a.then(d=>{for(const h of d||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})},RO=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>ed(async()=>{const{default:n}=await Promise.resolve().then(()=>Nl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Dg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class _0 extends Dg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class S0 extends Dg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class k0 extends Dg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jx;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(jx||(jx={}));var AO=function(s,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(m){try{f(n.next(m))}catch(p){c(p)}}function h(m){try{f(n.throw(m))}catch(p){c(p)}}function f(m){m.done?o(m.value):a(m.value).then(d,h)}f((n=n.apply(s,t||[])).next())})};class DO{constructor(t,{headers:r={},customFetch:n,region:a=jx.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=RO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return AO(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:c,signal:d}=r;let h={},{region:f}=r;f||(f=this.region);const m=new URL(`${this.url}/${t}`);f&&f!=="any"&&(h["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let p;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(h["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(h["Content-Type"]="application/json",p=JSON.stringify(c)));const j=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:p,signal:d}).catch(y=>{throw y.name==="AbortError"?y:new _0(y)}),w=j.headers.get("x-relay-error");if(w&&w==="true")throw new S0(j);if(!j.ok)throw new k0(j);let S=((n=j.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return S==="application/json"?v=yield j.json():S==="application/octet-stream"?v=yield j.blob():S==="text/event-stream"?v=j:S==="multipart/form-data"?v=yield j.formData():v=yield j.text(),{data:v,error:null,response:j}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new _0(a)}:{data:null,error:a,response:a instanceof k0||a instanceof S0?a.context:void 0}}})}}var Bs={},Ro={},Ao={},Do={},Mo={},Oo={},MO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rl=MO();const OO=rl.fetch,f_=rl.fetch.bind(rl),m_=rl.Headers,IO=rl.Request,LO=rl.Response,Nl=Object.freeze(Object.defineProperty({__proto__:null,Headers:m_,Request:IO,Response:LO,default:f_,fetch:OO},Symbol.toStringTag,{value:"Module"})),FO=jP(Nl);var Au={},C0;function p_(){if(C0)return Au;C0=1,Object.defineProperty(Au,"__esModule",{value:!0});class s extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Au.default=s,Au}var E0;function x_(){if(E0)return Oo;E0=1;var s=Oo&&Oo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Oo,"__esModule",{value:!0});const t=s(FO),r=s(p_());class n{constructor(o){var c,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,p,j,w;let S=null,v=null,y=null,b=f.status,_=f.statusText;if(f.ok){if(this.method!=="HEAD"){const R=await f.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?v=R:v=JSON.parse(R))}const E=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),P=(j=f.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");E&&P&&P.length>1&&(y=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(S={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,b=406,_="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const E=await f.text();try{S=JSON.parse(E),Array.isArray(S)&&f.status===404&&(v=[],S=null,b=200,_="OK")}catch{f.status===404&&E===""?(b=204,_="No Content"):S={message:E}}if(S&&this.isMaybeSingle&&(!((w=S?.details)===null||w===void 0)&&w.includes("0 rows"))&&(S=null,b=200,_="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:v,count:y,status:b,statusText:_}});return this.shouldThrowOnError||(h=h.catch(f=>{var m,p,j;return{error:{message:`${(m=f?.name)!==null&&m!==void 0?m:"FetchError"}: ${f?.message}`,details:`${(p=f?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(j=f?.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,c)}returns(){return this}overrideTypes(){return this}}return Oo.default=n,Oo}var P0;function g_(){if(P0)return Mo;P0=1;var s=Mo&&Mo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mo,"__esModule",{value:!0});const t=s(x_());class r extends t.default{select(a){let o=!1;const c=(a??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const f=h?`${h}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${a}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,o,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${a}`),this.url.searchParams.set(f,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:f="text"}={}){var m;const p=[a?"analyze":null,o?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),j=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${j}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Mo.default=r,Mo}var T0;function Mg(){if(T0)return Do;T0=1;var s=Do&&Do.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Do,"__esModule",{value:!0});const t=s(g_());class r extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const c=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const f=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${h}fts${f}.${o}`),this}match(a){return Object.entries(a).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(a,o,c){return this.url.searchParams.append(a,`not.${o}.${c}`),this}or(a,{foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,o,c){return this.url.searchParams.append(a,`${o}.${c}`),this}}return Do.default=r,Do}var R0;function v_(){if(R0)return Ao;R0=1;var s=Ao&&Ao.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ao,"__esModule",{value:!0});const t=s(Mg());class r{constructor(a,{headers:o={},schema:c,fetch:d}){this.url=a,this.headers=new Headers(o),this.schema=c,this.fetch=d}select(a,{head:o=!1,count:c}={}){const d=o?"HEAD":"GET";let h=!1;const f=(a??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",f),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:c=!0}={}){var d;const h="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((j,w)=>j.concat(Object.keys(w)),[]);if(p.length>0){const j=[...new Set(p)].map(w=>`"${w}"`);this.url.searchParams.set("columns",j.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:o}={}){var c;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var o;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Ao.default=r,Ao}var A0;function $O(){if(A0)return Ro;A0=1;var s=Ro&&Ro.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ro,"__esModule",{value:!0});const t=s(v_()),r=s(Mg());class n{constructor(o,{headers:c={},schema:d,fetch:h}={}){this.url=o,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(o){const c=new URL(`${this.url}/${o}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:d=!1,get:h=!1,count:f}={}){var m;let p;const j=new URL(`${this.url}/rpc/${o}`);let w;d||h?(p=d?"HEAD":"GET",Object.entries(c).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{j.searchParams.append(v,y)})):(p="POST",w=c);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new r.default({method:p,url:j,headers:S,schema:this.schemaName,body:w,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Ro.default=n,Ro}var D0;function zO(){if(D0)return Bs;D0=1;var s=Bs&&Bs.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.PostgrestError=Bs.PostgrestBuilder=Bs.PostgrestTransformBuilder=Bs.PostgrestFilterBuilder=Bs.PostgrestQueryBuilder=Bs.PostgrestClient=void 0;const t=s($O());Bs.PostgrestClient=t.default;const r=s(v_());Bs.PostgrestQueryBuilder=r.default;const n=s(Mg());Bs.PostgrestFilterBuilder=n.default;const a=s(g_());Bs.PostgrestTransformBuilder=a.default;const o=s(x_());Bs.PostgrestBuilder=o.default;const c=s(p_());return Bs.PostgrestError=c.default,Bs.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:c.default},Bs}var UO=zO();const BO=Xx(UO),{PostgrestClient:qO,PostgrestQueryBuilder:fq,PostgrestFilterBuilder:mq,PostgrestTransformBuilder:pq,PostgrestBuilder:xq,PostgrestError:gq}=BO;class VO{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const WO="2.15.5",HO=`realtime-js/${WO}`,GO="1.0.0",wx=1e4,KO=1e3,YO=100;var bc;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(bc||(bc={}));var Rs;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Rs||(Rs={}));var bn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(bn||(bn={}));var bx;(function(s){s.websocket="websocket"})(bx||(bx={}));var zi;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(zi||(zi={}));class QO{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),o=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=n.decode(t.slice(c,c+a));c=c+a;const h=n.decode(t.slice(c,c+o));c=c+o;const f=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:d,event:h,payload:f}}}class y_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ts;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ts||(ts={}));const M0=(s,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,c)=>(o[c]=ZO(c,s,t,a),o),{})},ZO=(s,t,r,n)=>{const a=t.find(d=>d.name===s),o=a?.type,c=r[s];return o&&!n.includes(o)?j_(o,c):Nx(c)},j_=(s,t)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return tI(t,r)}switch(s){case ts.bool:return XO(t);case ts.float4:case ts.float8:case ts.int2:case ts.int4:case ts.int8:case ts.numeric:case ts.oid:return JO(t);case ts.json:case ts.jsonb:return eI(t);case ts.timestamp:return sI(t);case ts.abstime:case ts.date:case ts.daterange:case ts.int4range:case ts.int8range:case ts.money:case ts.reltime:case ts.text:case ts.time:case ts.timestamptz:case ts.timetz:case ts.tsrange:case ts.tstzrange:return Nx(t);default:return Nx(t)}},Nx=s=>s,XO=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},JO=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},eI=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},tI=(s,t)=>{if(typeof s!="string")return s;const r=s.length-1,n=s[r];if(s[0]==="{"&&n==="}"){let o;const c=s.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(d=>j_(t,d))}return s},sI=s=>typeof s=="string"?s.replace(" ","T"):s,w_=s=>{let t=s;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Pp{constructor(t,r,n={},a=wx){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var O0;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(O0||(O0={}));class Nc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nc.syncState(this.state,a,o,c),this.pendingDiffs.forEach(h=>{this.state=Nc.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Nc.syncDiff(this.state,a,o,c),d())}),this.onJoin((a,o,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:c})}),this.onLeave((a,o,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const o=this.cloneDeep(t),c=this.transformState(r),d={},h={};return this.map(o,(f,m)=>{c[f]||(h[f]=m)}),this.map(c,(f,m)=>{const p=o[f];if(p){const j=m.map(y=>y.presence_ref),w=p.map(y=>y.presence_ref),S=m.filter(y=>w.indexOf(y.presence_ref)<0),v=p.filter(y=>j.indexOf(y.presence_ref)<0);S.length>0&&(d[f]=S),v.length>0&&(h[f]=v)}else d[f]=m}),this.syncDiff(o,{joins:d,leaves:h},n,a)}static syncDiff(t,r,n,a){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(d,h)=>{var f;const m=(f=t[d])!==null&&f!==void 0?f:[];if(t[d]=this.cloneDeep(h),m.length>0){const p=t[d].map(w=>w.presence_ref),j=m.filter(w=>p.indexOf(w.presence_ref)<0);t[d].unshift(...j)}n(d,m,h)}),this.map(c,(d,h)=>{let f=t[d];if(!f)return;const m=h.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[d]=f,a(d,f,h),f.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var I0;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(I0||(I0={}));var _c;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(_c||(_c={}));var ya;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(ya||(ya={}));class Og{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Rs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Pp(this,bn.join,this.params,this.timeout),this.rejoinTimer=new y_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Rs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Rs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Nc(this),this.broadcastEndpointURL=w_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Rs.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[_c.PRESENCE]&&this.bindings[_c.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},j={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(ya.CHANNEL_ERROR,w)),this._onClose(()=>t?.(ya.CLOSED)),this.updateJoinPayload(Object.assign({config:j},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket.setAuth(),w===void 0){t?.(ya.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(S=v?.length)!==null&&S!==void 0?S:0,b=[];for(let _=0;_<y;_++){const k=v[_],{filter:{event:E,schema:P,table:R,filter:D}}=k,U=w&&w[_];if(U&&U.event===E&&U.schema===P&&U.table===R&&U.filter===D)b.push(Object.assign(Object.assign({},k),{id:U.id}));else{this.unsubscribe(),this.state=Rs.errored,t?.(ya.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(ya.SUBSCRIBED);return}}).receive("error",w=>{this.state=Rs.errored,t?.(ya.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(ya.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Rs.joined&&t===_c.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:c}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,d,h;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Rs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Pp(this,bn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rs.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Pp(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>YO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,o;const c=t.toLocaleLowerCase(),{close:d,error:h,leave:f,join:m}=bn;if(n&&[d,h,f,m].indexOf(c)>=0&&n!==this._joinRef())return;let j=this._onMessage(c,r,n);if(r&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(w=>{var S,v,y;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((y=(v=w.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===c}).map(w=>w.callback(j,n)):(o=this.bindings[c])===null||o===void 0||o.filter(w=>{var S,v,y,b,_,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const E=w.id,P=(S=w.filter)===null||S===void 0?void 0:S.event;return E&&((v=r.ids)===null||v===void 0?void 0:v.includes(E))&&(P==="*"||P?.toLocaleLowerCase()===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(_=(b=w?.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return E==="*"||E===((k=r?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof j=="object"&&"ids"in j){const S=j.data,{schema:v,table:y,commit_timestamp:b,type:_,errors:k}=S;j=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:b,eventType:_,new:{},old:{},errors:k}),this._getPayloadRecords(S))}w.callback(j,n)})}_isClosed(){return this.state===Rs.closed}_isJoined(){return this.state===Rs.joined}_isJoining(){return this.state===Rs.joining}_isLeaving(){return this.state===Rs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Og.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bn.close,{},t)}_onError(t){this._on(bn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=M0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=M0(t.columns,t.old_record)),r}}const Tp=()=>{},Du={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rI=[1e3,2e3,5e3,1e4],nI=1e4,aI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wx,this.transport=null,this.heartbeatIntervalMs=Du.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tp,this.ref=0,this.reconnectTimer=null,this.logger=Tp,this.conn=null,this.sendBuffer=[],this.serializer=new QO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...c)=>ed(async()=>{const{default:d}=await Promise.resolve().then(()=>Nl);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...c)=>o(...c)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${bx.websocket}`,this.httpEndpoint=w_(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=VO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:GO}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bc.connecting:return zi.Connecting;case bc.open:return zi.Open;case bc.closing:return zi.Closing;default:return zi.Closed}}isConnected(){return this.connectionState()===zi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===n);if(a)return a;{const o=new Og(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:a,ref:o}=t,c=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(KO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Du.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:o,ref:c}=r,d=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${n} ${a} ${d}`.trim(),o),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(bn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([aI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:HO};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(bn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new y_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Du.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,o,c,d,h,f,m;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:wx,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Du.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:Tp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(p=>rI[p-1]||nI),this.encode=(f=t?.encode)!==null&&f!==void 0?f:((p,j)=>j(JSON.stringify(p))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Ig extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ks(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class oI extends Ig{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _x extends Ig{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var lI=function(s,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(m){try{f(n.next(m))}catch(p){c(p)}}function h(m){try{f(n.throw(m))}catch(p){c(p)}}function f(m){m.done?o(m.value):a(m.value).then(d,h)}f((n=n.apply(s,t||[])).next())})};const b_=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>ed(async()=>{const{default:n}=await Promise.resolve().then(()=>Nl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},cI=()=>lI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ed(()=>Promise.resolve().then(()=>Nl),void 0)).Response:Response}),Sx=s=>{if(Array.isArray(s))return s.map(r=>Sx(r));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=Sx(n)}),t},dI=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var no=function(s,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(m){try{f(n.next(m))}catch(p){c(p)}}function h(m){try{f(n.throw(m))}catch(p){c(p)}}function f(m){m.done?o(m.value):a(m.value).then(d,h)}f((n=n.apply(s,t||[])).next())})};const Rp=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),uI=(s,t,r)=>no(void 0,void 0,void 0,function*(){const n=yield cI();s instanceof n&&!r?.noResolveJson?s.json().then(a=>{const o=s.status||500,c=a?.statusCode||o+"";t(new oI(Rp(a),o,c))}).catch(a=>{t(new _x(Rp(a),a))}):t(new _x(Rp(s),s))}),hI=(s,t,r,n)=>{const a={method:s,headers:t?.headers||{}};return s==="GET"||!n?a:(dI(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function td(s,t,r,n,a,o){return no(this,void 0,void 0,function*(){return new Promise((c,d)=>{s(r,hI(t,n,a,o)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>uI(h,d,n))})})}function lh(s,t,r,n){return no(this,void 0,void 0,function*(){return td(s,"GET",t,r,n)})}function Wn(s,t,r,n,a){return no(this,void 0,void 0,function*(){return td(s,"POST",t,n,a,r)})}function kx(s,t,r,n,a){return no(this,void 0,void 0,function*(){return td(s,"PUT",t,n,a,r)})}function fI(s,t,r,n){return no(this,void 0,void 0,function*(){return td(s,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function N_(s,t,r,n,a){return no(this,void 0,void 0,function*(){return td(s,"DELETE",t,n,a,r)})}var mI=function(s,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(m){try{f(n.next(m))}catch(p){c(p)}}function h(m){try{f(n.throw(m))}catch(p){c(p)}}function f(m){m.done?o(m.value):a(m.value).then(d,h)}f((n=n.apply(s,t||[])).next())})};class pI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return mI(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ks(t))return{data:null,error:t};throw t}})}}var xI=function(s,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(m){try{f(n.next(m))}catch(p){c(p)}}function h(m){try{f(n.throw(m))}catch(p){c(p)}}function f(m){m.done?o(m.value):a(m.value).then(d,h)}f((n=n.apply(s,t||[])).next())})};class gI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new pI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return xI(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ks(t))return{data:null,error:t};throw t}})}}var jr=function(s,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(m){try{f(n.next(m))}catch(p){c(p)}}function h(m){try{f(n.throw(m))}catch(p){c(p)}}function f(m){m.done?o(m.value):a(m.value).then(d,h)}f((n=n.apply(s,t||[])).next())})};const vI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},L0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yI{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=b_(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return jr(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},L0),a);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const f=this._removeEmptyFolders(r),m=this._getFinalPath(f),p=yield(t=="PUT"?kx:Wn)(this.fetch,`${this.url}/object/${m}`,o,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ks(o))return{data:null,error:o};throw o}})}upload(t,r,n){return jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return jr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),c=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let h;const f=Object.assign({upsert:L0.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",f.cacheControl)):(h=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield kx(this.fetch,d.toString(),h,{headers:m});return{data:{path:o,fullPath:p.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(ks(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return jr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const o=yield Wn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(this.url+o.url),d=c.searchParams.get("token");if(!d)throw new Ig("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}})}update(t,r,n){return jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return jr(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ks(a))return{data:null,error:a};throw a}})}copy(t,r,n){return jr(this,void 0,void 0,function*(){try{return{data:{path:(yield Wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ks(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return jr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield Wn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ks(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return jr(this,void 0,void 0,function*(){try{const a=yield Wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ks(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),c=o?`?${o}`:"",d=this._getFinalPath(t),h=()=>lh(this.fetch,`${this.url}/${a}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new gI(h,this.shouldThrowOnError)}info(t){return jr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield lh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Sx(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}})}exists(t){return jr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield fI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ks(n)&&n instanceof _x){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&a.push(h);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${f}`)}}}remove(t){return jr(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}})}list(t,r,n){return jr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},vI),r),{prefix:t||""});return{data:yield Wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ks(a))return{data:null,error:a};throw a}})}listV2(t,r){return jr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Wn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const jI="2.12.2",wI={"X-Client-Info":`storage-js/${jI}`};var Io=function(s,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(m){try{f(n.next(m))}catch(p){c(p)}}function h(m){try{f(n.throw(m))}catch(p){c(p)}}function f(m){m.done?o(m.value):a(m.value).then(d,h)}f((n=n.apply(s,t||[])).next())})};class bI{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const o=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},wI),r),this.fetch=b_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Io(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ks(t))return{data:null,error:t};throw t}})}getBucket(t){return Io(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Io(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Io(this,void 0,void 0,function*(){try{return{data:yield kx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Io(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Io(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}})}}class NI extends bI{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new yI(this.url,this.headers,t,this.fetch)}}const _I="2.58.0";let mc="";typeof Deno<"u"?mc="deno":typeof document<"u"?mc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mc="react-native":mc="node";const SI={"X-Client-Info":`supabase-js-${mc}/${_I}`},kI={headers:SI},CI={schema:"public"},EI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PI={};var TI=function(s,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(m){try{f(n.next(m))}catch(p){c(p)}}function h(m){try{f(n.throw(m))}catch(p){c(p)}}function f(m){m.done?o(m.value):a(m.value).then(d,h)}f((n=n.apply(s,t||[])).next())})};const RI=s=>{let t;return s?t=s:typeof fetch>"u"?t=f_:t=fetch,(...r)=>t(...r)},AI=()=>typeof Headers>"u"?m_:Headers,DI=(s,t,r)=>{const n=RI(r),a=AI();return(o,c)=>TI(void 0,void 0,void 0,function*(){var d;const h=(d=yield t())!==null&&d!==void 0?d:s;let f=new a(c?.headers);return f.has("apikey")||f.set("apikey",s),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),n(o,Object.assign(Object.assign({},c),{headers:f}))})};var MI=function(s,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(m){try{f(n.next(m))}catch(p){c(p)}}function h(m){try{f(n.throw(m))}catch(p){c(p)}}function f(m){m.done?o(m.value):a(m.value).then(d,h)}f((n=n.apply(s,t||[])).next())})};function OI(s){return s.endsWith("/")?s:s+"/"}function II(s,t){var r,n;const{db:a,auth:o,realtime:c,global:d}=s,{db:h,auth:f,realtime:m,global:p}=t,j={db:Object.assign(Object.assign({},h),a),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},p),d),{headers:Object.assign(Object.assign({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>MI(this,void 0,void 0,function*(){return""})};return s.accessToken?j.accessToken=s.accessToken:delete j.accessToken,j}function LI(s){const t=s?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(OI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const __="2.72.0",Ho=30*1e3,Cx=3,Ap=Cx*Ho,FI="http://localhost:9999",$I="supabase.auth.token",zI={"X-Client-Info":`gotrue-js/${__}`},Ex="X-Supabase-Api-Version",S_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BI=600*1e3;class Lg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function vt(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class qI extends Lg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function VI(s){return vt(s)&&s.name==="AuthApiError"}class k_ extends Lg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class yi extends Lg{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Za extends yi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WI(s){return vt(s)&&s.name==="AuthSessionMissingError"}class uc extends yi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mu extends yi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ou extends yi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HI(s){return vt(s)&&s.name==="AuthImplicitGrantRedirectError"}class F0 extends yi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Px extends yi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Dp(s){return vt(s)&&s.name==="AuthRetryableFetchError"}class $0 extends yi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Tx extends yi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),z0=` 	
\r=`.split(""),GI=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<z0.length;t+=1)s[z0[t].charCodeAt(0)]=-2;for(let t=0;t<ch.length;t+=1)s[ch[t].charCodeAt(0)]=t;return s})();function U0(s,t,r){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ch[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ch[n]),t.queuedBits-=6}}function C_(s,t,r){const n=GI[s];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function B0(s){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=c=>{QI(c,n,r)};for(let c=0;c<s.length;c+=1)C_(s.charCodeAt(c),a,o);return t.join("")}function KI(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function YI(s,t){for(let r=0;r<s.length;r+=1){let n=s.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(s.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}KI(n,t)}}function QI(s,t,r){if(t.utf8seq===0){if(s<=127){r(s);return}for(let n=1;n<6;n+=1)if((s>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ZI(s){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<s.length;a+=1)C_(s.charCodeAt(a),r,n);return new Uint8Array(t)}function XI(s){const t=[];return YI(s,r=>t.push(r)),new Uint8Array(t)}function JI(s){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return s.forEach(a=>U0(a,r,n)),U0(null,r,n),t.join("")}function e5(s){return Math.round(Date.now()/1e3)+s}function t5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s=="x"?t:t&3|8).toString(16)})}const tn=()=>typeof window<"u"&&typeof document<"u",Ii={tested:!1,writable:!1},E_=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ii.tested)return Ii.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Ii.tested=!0,Ii.writable=!0}catch{Ii.tested=!0,Ii.writable=!1}return Ii.writable};function s5(s){const t={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const P_=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>ed(async()=>{const{default:n}=await Promise.resolve().then(()=>Nl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},r5=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Go=async(s,t,r)=>{await s.setItem(t,JSON.stringify(r))},Li=async(s,t)=>{const r=await s.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ya=async(s,t)=>{await s.removeItem(t)};class Zh{constructor(){this.promise=new Zh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zh.promiseConstructor=Promise;function Mp(s){const t=s.split(".");if(t.length!==3)throw new Tx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!UI.test(t[n]))throw new Tx("JWT not in base64url format");return{header:JSON.parse(B0(t[0])),payload:JSON.parse(B0(t[1])),signature:ZI(t[2]),raw:{header:t[0],payload:t[1]}}}async function n5(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function a5(s,t){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await s(o);if(!t(o,null,c)){n(c);return}}catch(c){if(!t(o,c)){a(c);return}}})()})}function i5(s){return("0"+s.toString(16)).substr(-2)}function o5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,i5).join("")}async function l5(s){const r=new TextEncoder().encode(s),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function c5(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await l5(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lo(s,t,r=!1){const n=o5();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Go(s,`${t}-code-verifier`,a);const o=await c5(n);return[o,n===o?"plain":"s256"]}const d5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function u5(s){const t=s.headers.get(Ex);if(!t||!t.match(d5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function h5(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function f5(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const m5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fo(s){if(!m5.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Op(){const s={};return new Proxy(s,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function q0(s){return JSON.parse(JSON.stringify(s))}var p5=function(s,t){var r={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(r[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(s);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(s,n[a])&&(r[n[a]]=s[n[a]]);return r};const Fi=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),x5=[502,503,504];async function V0(s){var t;if(!r5(s))throw new Px(Fi(s),0);if(x5.includes(s.status))throw new Px(Fi(s),s.status);let r;try{r=await s.json()}catch(o){throw new k_(Fi(o),o)}let n;const a=u5(s);if(a&&a.getTime()>=S_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $0(Fi(r),s.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Za}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new $0(Fi(r),s.status,r.weak_password.reasons);throw new qI(Fi(r),s.status||500,n)}const g5=(s,t,r,n)=>{const a={method:s,headers:t?.headers||{}};return s==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Nt(s,t,r,n){var a;const o=Object.assign({},n?.headers);o[Ex]||(o[Ex]=S_["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const c=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await v5(s,t,r+d,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function v5(s,t,r,n,a,o){const c=g5(t,n,a,o);let d;try{d=await s(r,Object.assign({},c))}catch(h){throw console.error(h),new Px(Fi(h),0)}if(d.ok||await V0(d),n?.noResolveJson)return d;try{return await d.json()}catch(h){await V0(h)}}function Vn(s){var t;let r=null;b5(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=e5(s.expires_in)));const n=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:r,user:n},error:null}}function W0(s){const t=Vn(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=s.weak_password),t}function ti(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function y5(s){return{data:s,error:null}}function j5(s){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=s,c=p5(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function w5(s){return s}function b5(s){return s.access_token&&s.refresh_token&&s.expires_in}const Ip=["global","local","others"];var N5=function(s,t){var r={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(r[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(s);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(s,n[a])&&(r[n[a]]=s[n[a]]);return r};class _5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=P_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ip[0]){if(Ip.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ip.join(", ")}`);try{return await Nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ti})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=N5(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:j5,redirectTo:r?.redirectTo})}catch(r){if(vt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ti})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,o,c,d,h;try{const f={nextPage:null,lastPage:0,total:0},m=await Nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:w5});if(m.error)throw m.error;const p=await m.json(),j=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const v=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(S.split(";")[1].split("=")[1]);f[`${y}Page`]=v}),f.total=parseInt(j)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(vt(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Fo(t);try{return await Nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ti})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fo(t);try{return await Nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ti})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fo(t);try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ti})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fo(t.userId);try{const{data:r,error:n}=await Nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fo(t.userId),Fo(t.id);try{return{data:await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}}function H0(s={}){return{getItem:t=>s[t]||null,setItem:(t,r)=>{s[t]=r},removeItem:t=>{delete s[t]}}}function S5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $o={debug:!!(globalThis&&E_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class T_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class k5 extends T_{}async function C5(s,t,r){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),$o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,a.name);try{return await r()}finally{$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,a.name)}}else{if(t===0)throw $o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new k5(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if($o.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function R_(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function E5(s){return parseInt(s,16)}function P5(s){const t=new TextEncoder().encode(s);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function T5(s){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:o=new Date,nonce:c,notBefore:d,requestId:h,resources:f,scheme:m,uri:p,version:j}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((t=s.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const w=R_(s.address),S=m?`${m}://${n}`:n,v=s.statement?`${s.statement}
`:"",y=`${S} wants you to sign in with your Ethereum account:
${w}

${v}`;let b=`URI: ${p}
Version: ${j}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),d&&(b+=`
Not Before: ${d.toISOString()}`),h&&(b+=`
Request ID: ${h}`),f){let _=`
Resources:`;for(const k of f){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);_+=`
- ${k}`}b+=_}return`${y}
${b}`}S5();const R5={url:FI,storageKey:$I,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function G0(s,t,r){return await r()}const zo={};class Fc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fc.nextInstanceID,Fc.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},R5),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new _5({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=P_(a.fetch),this.lock=a.lock||G0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:tn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=C5:this.lock=G0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:E_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=H0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=H0(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=zo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=zo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zo[this.storageKey]=Object.assign(Object.assign({},zo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${__}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=s5(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),tn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),HI(o)){const h=(t=o.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return vt(r)?{error:r}:{error:new k_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const o=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Vn}),{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(vt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,a;try{let o;if("email"in t){const{email:m,password:p,options:j}=t;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Lo(this.storage,this.storageKey)),o=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:m,password:p,data:(r=j?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:w,code_challenge_method:S},xform:Vn})}else if("phone"in t){const{phone:m,password:p,options:j}=t;o=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=j?.data)!==null&&n!==void 0?n:{},channel:(a=j?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:Vn})}else throw new Mu("You must provide either an email or phone number and a password");const{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(vt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:c,options:d}=t;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:W0})}else if("phone"in t){const{phone:o,password:c,options:d}=t;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:W0})}else throw new Mu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new uc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,o,c,d,h,f,m,p,j;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:v,wallet:y,statement:b,options:_}=t;let k;if(tn())if(typeof y=="object")k=y;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")k=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const E=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href),P=await k.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=R_(P[0]);let D=(n=_?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const V=await k.request({method:"eth_chainId"});D=E5(V)}const U={domain:E.host,address:R,statement:b,uri:E.href,version:"1",chainId:D,nonce:(a=_?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(o=_?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=_?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=_?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=_?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=_?.signInWithEthereum)===null||m===void 0?void 0:m.resources};w=T5(U),S=await k.request({method:"personal_sign",params:[P5(w),R]})}try{const{data:v,error:y}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(j=t.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Vn});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new uc}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(vt(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var r,n,a,o,c,d,h,f,m,p,j,w;let S,v;if("message"in t)S=t.message,v=t.signature;else{const{chain:y,wallet:b,statement:_,options:k}=t;let E;if(tn())if(typeof b=="object")E=b;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))E=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=b}const P=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const R=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),_?{statement:_}:null));let D;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")D=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)D=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)S=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),v=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${P.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(a=(n=k?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=k?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((d=k?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((h=k?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((f=k?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((p=(m=k?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...k.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const R=await E.signMessage(new TextEncoder().encode(S),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=R}}try{const{data:y,error:b}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:JI(v)},!((j=t.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Vn});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new uc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(vt(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Li(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:o,error:c}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Vn});if(await Ya(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new uc}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:c})}catch(o){if(vt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:o,nonce:c}=t,d=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Vn}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new uc}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:f})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,o,c;try{if("email"in t){const{email:d,options:h}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Lo(this.storage,this.storageKey));const{error:p}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:d,options:h}=t,{data:f,error:m}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:f?.message_id},error:m}}throw new Mu("You must provide either an email or phone number.")}catch(d){if(vt(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var r,n;try{let a,o;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Vn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,f=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(a){if(vt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await Lo(this.storage,this.storageKey)),await Nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:y5})}catch(o){if(vt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Za;const{error:a}=await Nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(vt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:o}=t,{error:c}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:a,options:o}=t,{data:c,error:d}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new Mu("You must provide either an email or phone number and a type")}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Li(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ap:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await Li(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Op()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,f,m)=>(!c&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,f,m))})}return{data:{session:t},error:null}}const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ti}):await this._useSession(async r=>{var n,a,o;const{data:c,error:d}=r;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Za}:await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:ti})})}catch(r){if(vt(r))return WI(r)&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new Za;const c=a.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await Lo(this.storage,this.storageKey));const{data:f,error:m}=await Nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:ti});if(m)throw m;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Za;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:c}=Mp(t.access_token);if(c.exp&&(n=c.exp,a=n<=r),a){const{session:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(vt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:d}=r;if(d)throw d;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Za;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!tn())throw new Ou("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ou(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new F0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ou("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new F0("No code detected.");const{data:_,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:c,expires_in:d,expires_at:h,token_type:f}=t;if(!o||!d||!c||!f)throw new Ou("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(d);let j=m+p;h&&(j=parseInt(h));const w=j-m;w*1e3<=Ho&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${p}s`);const S=j-p;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,j,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,j,m);const{data:v,error:y}=await this._getUser(o);if(y)throw y;const b={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:p,expires_at:j,refresh_token:c,token_type:f,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(vt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Li(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{error:o};const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(VI(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=t5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Lo(this.storage,this.storageKey,!0));try{return await Nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(vt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var c,d,h,f,m;const{data:p,error:j}=o;if(j)throw j;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Nt(this.fetch,"GET",w,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return tn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(vt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:c}=r;if(c)throw c;return await Nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await a5(async a=>(a>0&&await n5(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vn})),(a,o)=>{const c=200*Math.pow(2,a);return o&&Dp(o)&&Date.now()+c-n<Ho})}catch(n){if(this._debug(r,"error",n),vt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),tn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Li(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Li(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Go(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c?.user)!==null&&t!==void 0?t:Op()}else if(a&&!a.user&&!a.user){const c=await Li(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await Ya(this.storage,this.storageKey+"-user"),await Go(this.storage,this.storageKey,a)):a.user=Op()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ap;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Ap}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Dp(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(a.access_token);!d&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Za;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Zh;const{data:o,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!o.session)throw new Za;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(a,"error",o),vt(o)){const c={session:null,error:o};return Dp(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Go(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const o=q0(a);await Go(this.storage,this.storageKey,o)}else{const a=q0(r);await Go(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ya(this.storage,this.storageKey),await Ya(this.storage,this.storageKey+"-code-verifier"),await Ya(this.storage,this.storageKey+"-user"),this.userStorage&&await Ya(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ho);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ho);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ho}ms, refresh threshold is ${Cx} ticks`),a<=Cx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof T_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,c]=await Lo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await Nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:f}=await Nt(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((a=h?.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{data:null,error:o};const{data:c,error:d}=await Nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(r){if(vt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await Nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(vt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],a=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Mp(a.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const m=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+BI>a)return n;const{data:o,error:c}=await Nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,n=o.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};n=w.session.access_token}const{header:a,payload:o,signature:c,raw:{header:d,payload:h}}=Mp(n);r?.allowExpired||h5(o.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:o,header:a,signature:c},error:null}}const m=f5(a.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,c,XI(`${d}.${h}`)))throw new Tx("Invalid JWT signature");return{data:{claims:o,header:a,signature:c},error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}}}Fc.nextInstanceID=0;const A5=Fc;class D5 extends A5{constructor(t){super(t)}}var M5=function(s,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(m){try{f(n.next(m))}catch(p){c(p)}}function h(m){try{f(n.throw(m))}catch(p){c(p)}}function f(m){m.done?o(m.value):a(m.value).then(d,h)}f((n=n.apply(s,t||[])).next())})};class O5{constructor(t,r,n){var a,o,c;this.supabaseUrl=t,this.supabaseKey=r;const d=LI(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:CI,realtime:PI,auth:Object.assign(Object.assign({},EI),{storageKey:h}),global:kI},m=II(n??{},f);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=DI(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new qO(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new NI(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new DO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return M5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:o,storageKey:c,flowType:d,lock:h,debug:f},m,p){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D5({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),m),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:o,flowType:d,lock:h,debug:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new iI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const I5=(s,t,r)=>new O5(s,t,r);function L5(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const t=s.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}L5()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const F5="https://nzuppbjtxmfrgutyagev.supabase.co",$5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56dXBwYmp0eG1mcmd1dHlhZ2V2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxNzc2MTUsImV4cCI6MjA3MTc1MzYxNX0.9IbzvPg2YWMDBj9SQ5QXz7GAQmWV4VCzIJJpct72KG8",L=I5(F5,$5,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),A_=x.createContext(void 0),Ct=()=>{const s=x.useContext(A_);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},z5=({children:s})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[o,c]=x.useState(null),[d,h]=x.useState(null),[f,m]=x.useState(!0),p=async _=>{try{const{data:k,error:E}=await L.from("profiles").select("*").eq("user_id",_).maybeSingle();if(E&&(console.error("Profile fetch error:",E),E.code!=="PGRST116"))throw E;k&&c(k);const{data:P,error:R}=await L.from("user_roles").select("role").eq("user_id",_).maybeSingle();if(R&&(console.error("Role fetch error:",R),R.code!=="PGRST116"))throw R;P?.role&&h(P.role)}catch(k){console.error("Error fetching profile:",k)}};x.useEffect(()=>{const{data:{subscription:_}}=L.auth.onAuthStateChange((k,E)=>{a(E),r(E?.user??null),E?.user?setTimeout(()=>{p(E.user.id)},0):(c(null),h(null)),m(!1)});return L.auth.getSession().then(({data:{session:k}})=>{a(k),r(k?.user??null),k?.user&&p(k.user.id),m(!1)}),()=>_.unsubscribe()},[]);const b={user:t,session:n,profile:o,userRole:d,loading:f,signUp:async(_,k)=>{const E=`${window.location.origin}/`,{error:P}=await L.auth.signUp({email:_,password:k,options:{emailRedirectTo:E}});return{error:P}},signIn:async(_,k)=>{const{error:E}=await L.auth.signInWithPassword({email:_,password:k});return{error:E}},signOut:async()=>{await L.auth.signOut()},updateProfile:async _=>{if(!t)return{error:"No user logged in"};const{error:k}=await L.from("profiles").update(_).eq("user_id",t.id);return!k&&o&&c({...o,..._}),{error:k}},setUserRole:async _=>{if(!t)return{error:"No user logged in"};const{error:k}=await L.from("user_roles").upsert({user_id:t.id,role:_});return k||h(_),{error:k}}};return e.jsx(A_.Provider,{value:b,children:s})},U5=pl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Os=x.forwardRef(({className:s,variant:t,...r},n)=>e.jsx("div",{ref:n,role:"alert",className:be(U5({variant:t}),s),...r}));Os.displayName="Alert";const B5=x.forwardRef(({className:s,...t},r)=>e.jsx("h5",{ref:r,className:be("mb-1 font-medium leading-none tracking-tight",s),...t}));B5.displayName="AlertTitle";const Is=x.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:be("text-sm [&_p]:leading-relaxed",s),...t}));Is.displayName="AlertDescription";const q5=({children:s})=>{const{userRole:t,loading:r}=Ct(),[n,a]=x.useState(!1),[o,c]=x.useState(!0);x.useEffect(()=>{d();const h=L.channel("maintenance-mode-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"system_settings",filter:"key=eq.maintenance_mode"},f=>{const m=f.new.value;a(m?.enabled||!1)}).subscribe();return()=>{L.removeChannel(h)}},[]);const d=async()=>{try{const{data:h}=await L.from("system_settings").select("value").eq("key","maintenance_mode").maybeSingle();h?.value&&typeof h.value=="object"&&"enabled"in h.value&&a(h.value.enabled)}catch(h){console.error("Error checking maintenance mode:",h)}finally{c(!1)}};return r||o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n?t==="admin"?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(hr,{className:"w-10 h-10 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"وضع الصيانة مفعّل"}),e.jsx("p",{className:"text-muted-foreground",children:"الموقع حالياً في وضع الصيانة. المستخدمون العاديون لا يمكنهم الوصول."})]}),e.jsx(A,{onClick:async()=>{try{await L.from("system_settings").update({value:{enabled:!1}}).eq("key","maintenance_mode"),a(!1)}catch(h){console.error("Error disabling maintenance:",h)}},className:"w-full",children:"إيقاف وضع الصيانة"})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(hr,{className:"w-10 h-10 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"الموقع تحت الصيانة"}),e.jsx("p",{className:"text-muted-foreground",children:"نعتذر عن الإزعاج. نحن نعمل حالياً على تحسين الموقع. سنعود قريباً!"})]}),e.jsx(Os,{children:e.jsx(Is,{children:"يرجى المحاولة مرة أخرى لاحقاً. شكراً لصبركم."})})]})}):e.jsx(e.Fragment,{children:s})};class V5 extends de.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r),this.setState({error:t,errorInfo:r}),this.reportError(t,r)}reportError=(t,r)=>{try{const n={message:t.message,stack:t.stack,componentStack:r.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};fetch("/api/errors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).catch(a=>console.error("Failed to report error:",a))}catch(n){console.error("Error reporting failed:",n)}};resetError=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){if(this.state.hasError){if(this.props.fallback){const t=this.props.fallback;return e.jsx(t,{error:this.state.error,resetError:this.resetError})}return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs($,{className:"w-full max-w-lg",children:[e.jsxs(Z,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-destructive/10 rounded-full flex items-center justify-center mb-4",children:e.jsx(hr,{className:"w-6 h-6 text-destructive"})}),e.jsx(J,{className:"text-xl",children:"حدث خطأ غير متوقع"}),e.jsx(Je,{children:"نأسف للإزعاج. حدث خطأ أثناء تحميل هذه الصفحة."})]}),e.jsxs(B,{className:"space-y-4",children:[!1,e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(A,{onClick:this.resetError,className:"w-full",children:[e.jsx(Wi,{className:"w-4 h-4 mr-2"}),"إعادة المحاولة"]}),e.jsxs(A,{variant:"outline",onClick:()=>window.location.href="/",className:"w-full",children:[e.jsx(gN,{className:"w-4 h-4 mr-2"}),"العودة للرئيسية"]})]}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"إذا استمر هذا الخطأ، يرجى التواصل مع فريق الدعم"})]})]})})}return this.props.children}}const ms=({children:s,requiredRole:t,requireAuth:r=!0})=>{const{user:n,userRole:a,loading:o,profile:c}=Ct(),d=ia();return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r&&!n?e.jsx(Wu,{to:"/auth",state:{from:d},replace:!0}):n&&c?.suspended?null:n&&!a&&d.pathname!=="/account-type"?e.jsx(Wu,{to:"/account-type",replace:!0}):t&&a&&!(Array.isArray(t)?t:[t]).includes(a)?e.jsx(Wu,{to:"/",replace:!0}):e.jsx(e.Fragment,{children:s})};var Lp="focusScope.autoFocusOnMount",Fp="focusScope.autoFocusOnUnmount",K0={bubbles:!1,cancelable:!0},W5="FocusScope",sd=x.forwardRef((s,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...c}=s,[d,h]=x.useState(null),f=ps(a),m=ps(o),p=x.useRef(null),j=ft(t,v=>h(v)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let v=function(k){if(w.paused||!d)return;const E=k.target;d.contains(E)?p.current=E:Xa(p.current,{select:!0})},y=function(k){if(w.paused||!d)return;const E=k.relatedTarget;E!==null&&(d.contains(E)||Xa(p.current,{select:!0}))},b=function(k){if(document.activeElement===document.body)for(const P of k)P.removedNodes.length>0&&Xa(d)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const _=new MutationObserver(b);return d&&_.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),_.disconnect()}}},[n,d,w.paused]),x.useEffect(()=>{if(d){Q0.add(w);const v=document.activeElement;if(!d.contains(v)){const b=new CustomEvent(Lp,K0);d.addEventListener(Lp,f),d.dispatchEvent(b),b.defaultPrevented||(H5(Z5(D_(d)),{select:!0}),document.activeElement===v&&Xa(d))}return()=>{d.removeEventListener(Lp,f),setTimeout(()=>{const b=new CustomEvent(Fp,K0);d.addEventListener(Fp,m),d.dispatchEvent(b),b.defaultPrevented||Xa(v??document.body,{select:!0}),d.removeEventListener(Fp,m),Q0.remove(w)},0)}}},[d,f,m,w]);const S=x.useCallback(v=>{if(!r&&!n||w.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(y&&b){const _=v.currentTarget,[k,E]=G5(_);k&&E?!v.shiftKey&&b===E?(v.preventDefault(),r&&Xa(k,{select:!0})):v.shiftKey&&b===k&&(v.preventDefault(),r&&Xa(E,{select:!0})):b===_&&v.preventDefault()}},[r,n,w.paused]);return e.jsx(Be.div,{tabIndex:-1,...c,ref:j,onKeyDown:S})});sd.displayName=W5;function H5(s,{select:t=!1}={}){const r=document.activeElement;for(const n of s)if(Xa(n,{select:t}),document.activeElement!==r)return}function G5(s){const t=D_(s),r=Y0(t,s),n=Y0(t.reverse(),s);return[r,n]}function D_(s){const t=[],r=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Y0(s,t){for(const r of s)if(!K5(r,{upTo:t}))return r}function K5(s,{upTo:t}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(t!==void 0&&s===t)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function Y5(s){return s instanceof HTMLInputElement&&"select"in s}function Xa(s,{select:t=!1}={}){if(s&&s.focus){const r=document.activeElement;s.focus({preventScroll:!0}),s!==r&&Y5(s)&&t&&s.select()}}var Q0=Q5();function Q5(){let s=[];return{add(t){const r=s[0];t!==r&&r?.pause(),s=Z0(s,t),s.unshift(t)},remove(t){s=Z0(s,t),s[0]?.resume()}}}function Z0(s,t){const r=[...s],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Z5(s){return s.filter(t=>t.tagName!=="A")}var $p=0;function Xh(){x.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??X0()),document.body.insertAdjacentElement("beforeend",s[1]??X0()),$p++,()=>{$p===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$p--}},[])}function X0(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var Hn=function(){return Hn=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Hn.apply(this,arguments)};function M_(s,t){var r={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(r[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(s);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(s,n[a])&&(r[n[a]]=s[n[a]]);return r}function X5(s,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return s.concat(o||Array.prototype.slice.call(t))}var Hu="right-scroll-bar-position",Gu="width-before-scroll-bar",J5="with-scroll-bars-hidden",e3="--removed-body-scroll-bar-size";function zp(s,t){return typeof s=="function"?s(t):s&&(s.current=t),s}function t3(s,t){var r=x.useState(function(){return{value:s,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var s3=typeof window<"u"?x.useLayoutEffect:x.useEffect,J0=new WeakMap;function r3(s,t){var r=t3(null,function(n){return s.forEach(function(a){return zp(a,n)})});return s3(function(){var n=J0.get(r);if(n){var a=new Set(n),o=new Set(s),c=r.current;a.forEach(function(d){o.has(d)||zp(d,null)}),o.forEach(function(d){a.has(d)||zp(d,c)})}J0.set(r,s)},[s]),r}function n3(s){return s}function a3(s,t){t===void 0&&(t=n3);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:s},useMedium:function(o){var c=t(o,n);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(n=!0;r.length;){var c=r;r=[],c.forEach(o)}r={push:function(d){return o(d)},filter:function(){return r}}},assignMedium:function(o){n=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(o),c=r}var h=function(){var m=c;c=[],m.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),r={push:function(m){c.push(m),f()},filter:function(m){return c=c.filter(m),r}}}};return a}function i3(s){s===void 0&&(s={});var t=a3(null);return t.options=Hn({async:!0,ssr:!1},s),t}var O_=function(s){var t=s.sideCar,r=M_(s,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Hn({},r))};O_.isSideCarExport=!0;function o3(s,t){return s.useMedium(t),O_}var I_=i3(),Up=function(){},Jh=x.forwardRef(function(s,t){var r=x.useRef(null),n=x.useState({onScrollCapture:Up,onWheelCapture:Up,onTouchMoveCapture:Up}),a=n[0],o=n[1],c=s.forwardProps,d=s.children,h=s.className,f=s.removeScrollBar,m=s.enabled,p=s.shards,j=s.sideCar,w=s.noRelative,S=s.noIsolation,v=s.inert,y=s.allowPinchZoom,b=s.as,_=b===void 0?"div":b,k=s.gapMode,E=M_(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=j,R=r3([r,t]),D=Hn(Hn({},E),a);return x.createElement(x.Fragment,null,m&&x.createElement(P,{sideCar:I_,removeScrollBar:f,shards:p,noRelative:w,noIsolation:S,inert:v,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:k}),c?x.cloneElement(x.Children.only(d),Hn(Hn({},D),{ref:R})):x.createElement(_,Hn({},D,{className:h,ref:R}),d))});Jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jh.classNames={fullWidth:Gu,zeroRight:Hu};var l3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c3(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var t=l3();return t&&s.setAttribute("nonce",t),s}function d3(s,t){s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}function u3(s){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(s)}var h3=function(){var s=0,t=null;return{add:function(r){s==0&&(t=c3())&&(d3(t,r),u3(t)),s++},remove:function(){s--,!s&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},f3=function(){var s=h3();return function(t,r){x.useEffect(function(){return s.add(t),function(){s.remove()}},[t&&r])}},L_=function(){var s=f3(),t=function(r){var n=r.styles,a=r.dynamic;return s(n,a),null};return t},m3={left:0,top:0,right:0,gap:0},Bp=function(s){return parseInt(s||"",10)||0},p3=function(s){var t=window.getComputedStyle(document.body),r=t[s==="padding"?"paddingLeft":"marginLeft"],n=t[s==="padding"?"paddingTop":"marginTop"],a=t[s==="padding"?"paddingRight":"marginRight"];return[Bp(r),Bp(n),Bp(a)]},x3=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return m3;var t=p3(s),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},g3=L_(),Zo="data-scroll-locked",v3=function(s,t,r,n){var a=s.left,o=s.top,c=s.right,d=s.gap;return r===void 0&&(r="margin"),`
  .`.concat(J5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Zo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hu,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Gu,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Hu," .").concat(Hu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Gu," .").concat(Gu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zo,`] {
    `).concat(e3,": ").concat(d,`px;
  }
`)},eb=function(){var s=parseInt(document.body.getAttribute(Zo)||"0",10);return isFinite(s)?s:0},y3=function(){x.useEffect(function(){return document.body.setAttribute(Zo,(eb()+1).toString()),function(){var s=eb()-1;s<=0?document.body.removeAttribute(Zo):document.body.setAttribute(Zo,s.toString())}},[])},j3=function(s){var t=s.noRelative,r=s.noImportant,n=s.gapMode,a=n===void 0?"margin":n;y3();var o=x.useMemo(function(){return x3(a)},[a]);return x.createElement(g3,{styles:v3(o,!t,a,r?"":"!important")})},Rx=!1;if(typeof window<"u")try{var Iu=Object.defineProperty({},"passive",{get:function(){return Rx=!0,!0}});window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{Rx=!1}var Uo=Rx?{passive:!1}:!1,w3=function(s){return s.tagName==="TEXTAREA"},F_=function(s,t){if(!(s instanceof Element))return!1;var r=window.getComputedStyle(s);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!w3(s)&&r[t]==="visible")},b3=function(s){return F_(s,"overflowY")},N3=function(s){return F_(s,"overflowX")},tb=function(s,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=$_(s,n);if(a){var o=z_(s,n),c=o[1],d=o[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_3=function(s){var t=s.scrollTop,r=s.scrollHeight,n=s.clientHeight;return[t,r,n]},S3=function(s){var t=s.scrollLeft,r=s.scrollWidth,n=s.clientWidth;return[t,r,n]},$_=function(s,t){return s==="v"?b3(t):N3(t)},z_=function(s,t){return s==="v"?_3(t):S3(t)},k3=function(s,t){return s==="h"&&t==="rtl"?-1:1},C3=function(s,t,r,n,a){var o=k3(s,window.getComputedStyle(t).direction),c=o*n,d=r.target,h=t.contains(d),f=!1,m=c>0,p=0,j=0;do{if(!d)break;var w=z_(s,d),S=w[0],v=w[1],y=w[2],b=v-y-o*S;(S||b)&&$_(s,d)&&(p+=b,j+=S);var _=d.parentNode;d=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(m&&Math.abs(p)<1||!m&&Math.abs(j)<1)&&(f=!0),f},Lu=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},sb=function(s){return[s.deltaX,s.deltaY]},rb=function(s){return s&&"current"in s?s.current:s},E3=function(s,t){return s[0]===t[0]&&s[1]===t[1]},P3=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},T3=0,Bo=[];function R3(s){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(T3++)[0],o=x.useState(L_)[0],c=x.useRef(s);x.useEffect(function(){c.current=s},[s]),x.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(a));var v=X5([s.lockRef.current],(s.shards||[]).map(rb),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[s.inert,s.lockRef.current,s.shards]);var d=x.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var b=Lu(v),_=r.current,k="deltaX"in v?v.deltaX:_[0]-b[0],E="deltaY"in v?v.deltaY:_[1]-b[1],P,R=v.target,D=Math.abs(k)>Math.abs(E)?"h":"v";if("touches"in v&&D==="h"&&R.type==="range")return!1;var U=tb(D,R);if(!U)return!0;if(U?P=D:(P=D==="v"?"h":"v",U=tb(D,R)),!U)return!1;if(!n.current&&"changedTouches"in v&&(k||E)&&(n.current=P),!P)return!0;var V=n.current||P;return C3(V,y,v,V==="h"?k:E)},[]),h=x.useCallback(function(v){var y=v;if(!(!Bo.length||Bo[Bo.length-1]!==o)){var b="deltaY"in y?sb(y):Lu(y),_=t.current.filter(function(P){return P.name===y.type&&(P.target===y.target||y.target===P.shadowParent)&&E3(P.delta,b)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var k=(c.current.shards||[]).map(rb).filter(Boolean).filter(function(P){return P.contains(y.target)}),E=k.length>0?d(y,k[0]):!c.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),f=x.useCallback(function(v,y,b,_){var k={name:v,delta:y,target:b,should:_,shadowParent:A3(b)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(E){return E!==k})},1)},[]),m=x.useCallback(function(v){r.current=Lu(v),n.current=void 0},[]),p=x.useCallback(function(v){f(v.type,sb(v),v.target,d(v,s.lockRef.current))},[]),j=x.useCallback(function(v){f(v.type,Lu(v),v.target,d(v,s.lockRef.current))},[]);x.useEffect(function(){return Bo.push(o),s.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:j}),document.addEventListener("wheel",h,Uo),document.addEventListener("touchmove",h,Uo),document.addEventListener("touchstart",m,Uo),function(){Bo=Bo.filter(function(v){return v!==o}),document.removeEventListener("wheel",h,Uo),document.removeEventListener("touchmove",h,Uo),document.removeEventListener("touchstart",m,Uo)}},[]);var w=s.removeScrollBar,S=s.inert;return x.createElement(x.Fragment,null,S?x.createElement(o,{styles:P3(a)}):null,w?x.createElement(j3,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function A3(s){for(var t=null;s!==null;)s instanceof ShadowRoot&&(t=s.host,s=s.host),s=s.parentNode;return t}const D3=o3(I_,R3);var rd=x.forwardRef(function(s,t){return x.createElement(Jh,Hn({},s,{ref:t,sideCar:D3}))});rd.classNames=Jh.classNames;var M3=function(s){if(typeof document>"u")return null;var t=Array.isArray(s)?s[0]:s;return t.ownerDocument.body},qo=new WeakMap,Fu=new WeakMap,$u={},qp=0,U_=function(s){return s&&(s.host||U_(s.parentNode))},O3=function(s,t){return t.map(function(r){if(s.contains(r))return r;var n=U_(r);return n&&s.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",s,". Doing nothing"),null)}).filter(function(r){return!!r})},I3=function(s,t,r,n){var a=O3(t,Array.isArray(s)?s:[s]);$u[r]||($u[r]=new WeakMap);var o=$u[r],c=[],d=new Set,h=new Set(a),f=function(p){!p||d.has(p)||(d.add(p),f(p.parentNode))};a.forEach(f);var m=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(j){if(d.has(j))m(j);else try{var w=j.getAttribute(n),S=w!==null&&w!=="false",v=(qo.get(j)||0)+1,y=(o.get(j)||0)+1;qo.set(j,v),o.set(j,y),c.push(j),v===1&&S&&Fu.set(j,!0),y===1&&j.setAttribute(r,"true"),S||j.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",j,b)}})};return m(t),d.clear(),qp++,function(){c.forEach(function(p){var j=qo.get(p)-1,w=o.get(p)-1;qo.set(p,j),o.set(p,w),j||(Fu.has(p)||p.removeAttribute(n),Fu.delete(p)),w||p.removeAttribute(r)}),qp--,qp||(qo=new WeakMap,qo=new WeakMap,Fu=new WeakMap,$u={})}},ef=function(s,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(s)?s:[s]),a=M3(s);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),I3(n,a,r,"aria-hidden")):function(){return null}},tf="Dialog",[B_,q_]=Vs(tf),[L3,On]=B_(tf),V_=s=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:c=!0}=s,d=x.useRef(null),h=x.useRef(null),[f,m]=Pn({prop:n,defaultProp:a??!1,onChange:o,caller:tf});return e.jsx(L3,{scope:t,triggerRef:d,contentRef:h,contentId:rn(),titleId:rn(),descriptionId:rn(),open:f,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(p=>!p),[m]),modal:c,children:r})};V_.displayName=tf;var W_="DialogTrigger",H_=x.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=On(W_,r),o=ft(t,a.triggerRef);return e.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":zg(a.open),...n,ref:o,onClick:Se(s.onClick,a.onOpenToggle)})});H_.displayName=W_;var Fg="DialogPortal",[F3,G_]=B_(Fg,{forceMount:void 0}),K_=s=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=s,o=On(Fg,t);return e.jsx(F3,{scope:t,forceMount:r,children:x.Children.map(n,c=>e.jsx(Ls,{present:r||o.open,children:e.jsx(vl,{asChild:!0,container:a,children:c})}))})};K_.displayName=Fg;var dh="DialogOverlay",Y_=x.forwardRef((s,t)=>{const r=G_(dh,s.__scopeDialog),{forceMount:n=r.forceMount,...a}=s,o=On(dh,s.__scopeDialog);return o.modal?e.jsx(Ls,{present:n||o.open,children:e.jsx(z3,{...a,ref:t})}):null});Y_.displayName=dh;var $3=hi("DialogOverlay.RemoveScroll"),z3=x.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=On(dh,r);return e.jsx(rd,{as:$3,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(Be.div,{"data-state":zg(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Gi="DialogContent",Q_=x.forwardRef((s,t)=>{const r=G_(Gi,s.__scopeDialog),{forceMount:n=r.forceMount,...a}=s,o=On(Gi,s.__scopeDialog);return e.jsx(Ls,{present:n||o.open,children:o.modal?e.jsx(U3,{...a,ref:t}):e.jsx(B3,{...a,ref:t})})});Q_.displayName=Gi;var U3=x.forwardRef((s,t)=>{const r=On(Gi,s.__scopeDialog),n=x.useRef(null),a=ft(t,r.contentRef,n);return x.useEffect(()=>{const o=n.current;if(o)return ef(o)},[]),e.jsx(Z_,{...s,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(s.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Se(s.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:Se(s.onFocusOutside,o=>o.preventDefault())})}),B3=x.forwardRef((s,t)=>{const r=On(Gi,s.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return e.jsx(Z_,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{s.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{s.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;r.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Z_=x.forwardRef((s,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...c}=s,d=On(Gi,r),h=x.useRef(null),f=ft(t,h);return Xh(),e.jsxs(e.Fragment,{children:[e.jsx(sd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:e.jsx(ro,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":zg(d.open),...c,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(V3,{titleId:d.titleId}),e.jsx(H3,{contentRef:h,descriptionId:d.descriptionId})]})]})}),$g="DialogTitle",X_=x.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=On($g,r);return e.jsx(Be.h2,{id:a.titleId,...n,ref:t})});X_.displayName=$g;var J_="DialogDescription",eS=x.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=On(J_,r);return e.jsx(Be.p,{id:a.descriptionId,...n,ref:t})});eS.displayName=J_;var tS="DialogClose",sS=x.forwardRef((s,t)=>{const{__scopeDialog:r,...n}=s,a=On(tS,r);return e.jsx(Be.button,{type:"button",...n,ref:t,onClick:Se(s.onClick,()=>a.onOpenChange(!1))})});sS.displayName=tS;function zg(s){return s?"open":"closed"}var rS="DialogTitleWarning",[q3,nS]=JT(rS,{contentName:Gi,titleName:$g,docsSlug:"dialog"}),V3=({titleId:s})=>{const t=nS(rS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{s&&(document.getElementById(s)||console.error(r))},[r,s]),null},W3="DialogDescriptionWarning",H3=({contentRef:s,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nS(W3).contentName}}.`;return x.useEffect(()=>{const a=s.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,s,t]),null},Ug=V_,Bg=H_,qg=K_,nd=Y_,ad=Q_,id=X_,od=eS,sf=sS,aS="AlertDialog",[G3]=Vs(aS,[q_]),Ca=q_(),iS=s=>{const{__scopeAlertDialog:t,...r}=s,n=Ca(t);return e.jsx(Ug,{...n,...r,modal:!0})};iS.displayName=aS;var K3="AlertDialogTrigger",Y3=x.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=Ca(r);return e.jsx(Bg,{...a,...n,ref:t})});Y3.displayName=K3;var Q3="AlertDialogPortal",oS=s=>{const{__scopeAlertDialog:t,...r}=s,n=Ca(t);return e.jsx(qg,{...n,...r})};oS.displayName=Q3;var Z3="AlertDialogOverlay",lS=x.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=Ca(r);return e.jsx(nd,{...a,...n,ref:t})});lS.displayName=Z3;var Xo="AlertDialogContent",[X3,J3]=G3(Xo),eL=LN("AlertDialogContent"),cS=x.forwardRef((s,t)=>{const{__scopeAlertDialog:r,children:n,...a}=s,o=Ca(r),c=x.useRef(null),d=ft(t,c),h=x.useRef(null);return e.jsx(q3,{contentName:Xo,titleName:dS,docsSlug:"alert-dialog",children:e.jsx(X3,{scope:r,cancelRef:h,children:e.jsxs(ad,{role:"alertdialog",...o,...a,ref:d,onOpenAutoFocus:Se(a.onOpenAutoFocus,f=>{f.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[e.jsx(eL,{children:n}),e.jsx(sL,{contentRef:c})]})})})});cS.displayName=Xo;var dS="AlertDialogTitle",uS=x.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=Ca(r);return e.jsx(id,{...a,...n,ref:t})});uS.displayName=dS;var hS="AlertDialogDescription",fS=x.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=Ca(r);return e.jsx(od,{...a,...n,ref:t})});fS.displayName=hS;var tL="AlertDialogAction",mS=x.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,a=Ca(r);return e.jsx(sf,{...a,...n,ref:t})});mS.displayName=tL;var pS="AlertDialogCancel",xS=x.forwardRef((s,t)=>{const{__scopeAlertDialog:r,...n}=s,{cancelRef:a}=J3(pS,r),o=Ca(r),c=ft(t,a);return e.jsx(sf,{...o,...n,ref:c})});xS.displayName=pS;var sL=({contentRef:s})=>{const t=`\`${Xo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xo}\` by passing a \`${hS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(s.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,s]),null},rL=iS,nL=oS,gS=lS,vS=cS,yS=mS,jS=xS,wS=uS,bS=fS;const NS=rL,aL=nL,_S=x.forwardRef(({className:s,...t},r)=>e.jsx(gS,{className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:r}));_S.displayName=gS.displayName;const Vg=x.forwardRef(({className:s,...t},r)=>e.jsxs(aL,{children:[e.jsx(_S,{}),e.jsx(vS,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t})]}));Vg.displayName=vS.displayName;const Wg=({className:s,...t})=>e.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",s),...t});Wg.displayName="AlertDialogHeader";const SS=({className:s,...t})=>e.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});SS.displayName="AlertDialogFooter";const Hg=x.forwardRef(({className:s,...t},r)=>e.jsx(wS,{ref:r,className:be("text-lg font-semibold",s),...t}));Hg.displayName=wS.displayName;const Gg=x.forwardRef(({className:s,...t},r)=>e.jsx(bS,{ref:r,className:be("text-sm text-muted-foreground",s),...t}));Gg.displayName=bS.displayName;const kS=x.forwardRef(({className:s,...t},r)=>e.jsx(yS,{ref:r,className:be(Rc(),s),...t}));kS.displayName=yS.displayName;const CS=x.forwardRef(({className:s,...t},r)=>e.jsx(jS,{ref:r,className:be(Rc({variant:"outline"}),"mt-2 sm:mt-0",s),...t}));CS.displayName=jS.displayName;function Tt(s){const t=Object.prototype.toString.call(s);return s instanceof Date||typeof s=="object"&&t==="[object Date]"?new s.constructor(+s):typeof s=="number"||t==="[object Number]"||typeof s=="string"||t==="[object String]"?new Date(s):new Date(NaN)}function qr(s,t){return s instanceof Date?new s.constructor(t):new Date(t)}function cr(s,t){const r=Tt(s);return isNaN(t)?qr(s,NaN):(t&&r.setDate(r.getDate()+t),r)}function An(s,t){const r=Tt(s);if(isNaN(t))return qr(s,NaN);if(!t)return r;const n=r.getDate(),a=qr(s,r.getTime());a.setMonth(r.getMonth()+t+1,0);const o=a.getDate();return n>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const Kg=6048e5,iL=864e5;let oL={};function ld(){return oL}function na(s,t){const r=ld(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Tt(s),o=a.getDay(),c=(o<n?7:0)+o-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Ki(s){return na(s,{weekStartsOn:1})}function ES(s){const t=Tt(s),r=t.getFullYear(),n=qr(s,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Ki(n),o=qr(s,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const c=Ki(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function nl(s){const t=Tt(s);return t.setHours(0,0,0,0),t}function uh(s){const t=Tt(s),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+s-+r}function Qn(s,t){const r=nl(s),n=nl(t),a=+r-uh(r),o=+n-uh(n);return Math.round((a-o)/iL)}function lL(s){const t=ES(s),r=qr(s,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ki(r)}function Ax(s,t){const r=t*7;return cr(s,r)}function cL(s,t){return An(s,t*12)}function dL(s){let t;return s.forEach(function(r){const n=Tt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function uL(s){let t;return s.forEach(r=>{const n=Tt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function _r(s,t){const r=nl(s),n=nl(t);return+r==+n}function Yg(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function hL(s){if(!Yg(s)&&typeof s!="number")return!1;const t=Tt(s);return!isNaN(Number(t))}function $c(s,t){const r=Tt(s),n=Tt(t),a=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return a*12+o}function fL(s,t,r){const n=na(s,r),a=na(t,r),o=+n-uh(n),c=+a-uh(a);return Math.round((o-c)/Kg)}function Qg(s){const t=Tt(s),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function kr(s){const t=Tt(s);return t.setDate(1),t.setHours(0,0,0,0),t}function PS(s){const t=Tt(s),r=qr(s,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Zg(s,t){const r=ld(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Tt(s),o=a.getDay(),c=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function TS(s){return Zg(s,{weekStartsOn:1})}const mL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pL=(s,t,r)=>{let n;const a=mL[s];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Jo(s){return(t={})=>{const r=t.width?String(t.width):s.defaultWidth;return s.formats[r]||s.formats[s.defaultWidth]}}const xL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yL={date:Jo({formats:xL,defaultWidth:"full"}),time:Jo({formats:gL,defaultWidth:"full"}),dateTime:Jo({formats:vL,defaultWidth:"full"})},jL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wL=(s,t,r,n)=>jL[s];function Gn(s){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&s.formattingValues){const c=s.defaultFormattingWidth||s.defaultWidth,d=r?.width?String(r.width):c;a=s.formattingValues[d]||s.formattingValues[c]}else{const c=s.defaultWidth,d=r?.width?String(r.width):s.defaultWidth;a=s.values[d]||s.values[c]}const o=s.argumentCallback?s.argumentCallback(t):t;return a[o]}}const bL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_L={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EL=(s,t)=>{const r=Number(s),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},PL={ordinalNumber:EL,era:Gn({values:bL,defaultWidth:"wide"}),quarter:Gn({values:NL,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Gn({values:_L,defaultWidth:"wide"}),day:Gn({values:SL,defaultWidth:"wide"}),dayPeriod:Gn({values:kL,defaultWidth:"wide",formattingValues:CL,defaultFormattingWidth:"wide"})};function Kn(s){return(t,r={})=>{const n=r.width,a=n&&s.matchPatterns[n]||s.matchPatterns[s.defaultMatchWidth],o=t.match(a);if(!o)return null;const c=o[0],d=n&&s.parsePatterns[n]||s.parsePatterns[s.defaultParseWidth],h=Array.isArray(d)?RL(d,p=>p.test(c)):TL(d,p=>p.test(c));let f;f=s.valueCallback?s.valueCallback(h):h,f=r.valueCallback?r.valueCallback(f):f;const m=t.slice(c.length);return{value:f,rest:m}}}function TL(s,t){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&t(s[r]))return r}function RL(s,t){for(let r=0;r<s.length;r++)if(t(s[r]))return r}function RS(s){return(t,r={})=>{const n=t.match(s.matchPattern);if(!n)return null;const a=n[0],o=t.match(s.parsePattern);if(!o)return null;let c=s.valueCallback?s.valueCallback(o[0]):o[0];c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}const AL=/^(\d+)(th|st|nd|rd)?/i,DL=/\d+/i,ML={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},OL={any:[/^b/i,/^(a|c)/i]},IL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LL={any:[/1/i,/2/i,/3/i,/4/i]},FL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$L={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VL={ordinalNumber:RS({matchPattern:AL,parsePattern:DL,valueCallback:s=>parseInt(s,10)}),era:Kn({matchPatterns:ML,defaultMatchWidth:"wide",parsePatterns:OL,defaultParseWidth:"any"}),quarter:Kn({matchPatterns:IL,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Kn({matchPatterns:FL,defaultMatchWidth:"wide",parsePatterns:$L,defaultParseWidth:"any"}),day:Kn({matchPatterns:zL,defaultMatchWidth:"wide",parsePatterns:UL,defaultParseWidth:"any"}),dayPeriod:Kn({matchPatterns:BL,defaultMatchWidth:"any",parsePatterns:qL,defaultParseWidth:"any"})},AS={code:"en-US",formatDistance:pL,formatLong:yL,formatRelative:wL,localize:PL,match:VL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WL(s){const t=Tt(s);return Qn(t,PS(t))+1}function DS(s){const t=Tt(s),r=+Ki(t)-+lL(t);return Math.round(r/Kg)+1}function MS(s,t){const r=Tt(s),n=r.getFullYear(),a=ld(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=qr(s,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const d=na(c,t),h=qr(s,0);h.setFullYear(n,0,o),h.setHours(0,0,0,0);const f=na(h,t);return r.getTime()>=d.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function HL(s,t){const r=ld(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=MS(s,t),o=qr(s,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),na(o,t)}function OS(s,t){const r=Tt(s),n=+na(r,t)-+HL(r,t);return Math.round(n/Kg)+1}function Bt(s,t){const r=s<0?"-":"",n=Math.abs(s).toString().padStart(t,"0");return r+n}const Qa={y(s,t){const r=s.getFullYear(),n=r>0?r:1-r;return Bt(t==="yy"?n%100:n,t.length)},M(s,t){const r=s.getMonth();return t==="M"?String(r+1):Bt(r+1,2)},d(s,t){return Bt(s.getDate(),t.length)},a(s,t){const r=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(s,t){return Bt(s.getHours()%12||12,t.length)},H(s,t){return Bt(s.getHours(),t.length)},m(s,t){return Bt(s.getMinutes(),t.length)},s(s,t){return Bt(s.getSeconds(),t.length)},S(s,t){const r=t.length,n=s.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Bt(a,t.length)}},Vo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nb={G:function(s,t,r){const n=s.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(s,t,r){if(t==="yo"){const n=s.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Qa.y(s,t)},Y:function(s,t,r,n){const a=MS(s,n),o=a>0?a:1-a;if(t==="YY"){const c=o%100;return Bt(c,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Bt(o,t.length)},R:function(s,t){const r=ES(s);return Bt(r,t.length)},u:function(s,t){const r=s.getFullYear();return Bt(r,t.length)},Q:function(s,t,r){const n=Math.ceil((s.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Bt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(s,t,r){const n=Math.ceil((s.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Bt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(s,t,r){const n=s.getMonth();switch(t){case"M":case"MM":return Qa.M(s,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(s,t,r){const n=s.getMonth();switch(t){case"L":return String(n+1);case"LL":return Bt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(s,t,r,n){const a=OS(s,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Bt(a,t.length)},I:function(s,t,r){const n=DS(s);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Bt(n,t.length)},d:function(s,t,r){return t==="do"?r.ordinalNumber(s.getDate(),{unit:"date"}):Qa.d(s,t)},D:function(s,t,r){const n=WL(s);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Bt(n,t.length)},E:function(s,t,r){const n=s.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(s,t,r,n){const a=s.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Bt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(s,t,r,n){const a=s.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Bt(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(s,t,r){const n=s.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Bt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(s,t,r){const a=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(s,t,r){const n=s.getHours();let a;switch(n===12?a=Vo.noon:n===0?a=Vo.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(s,t,r){const n=s.getHours();let a;switch(n>=17?a=Vo.evening:n>=12?a=Vo.afternoon:n>=4?a=Vo.morning:a=Vo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(s,t,r){if(t==="ho"){let n=s.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Qa.h(s,t)},H:function(s,t,r){return t==="Ho"?r.ordinalNumber(s.getHours(),{unit:"hour"}):Qa.H(s,t)},K:function(s,t,r){const n=s.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Bt(n,t.length)},k:function(s,t,r){let n=s.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Bt(n,t.length)},m:function(s,t,r){return t==="mo"?r.ordinalNumber(s.getMinutes(),{unit:"minute"}):Qa.m(s,t)},s:function(s,t,r){return t==="so"?r.ordinalNumber(s.getSeconds(),{unit:"second"}):Qa.s(s,t)},S:function(s,t){return Qa.S(s,t)},X:function(s,t,r){const n=s.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ib(n);case"XXXX":case"XX":return $i(n);case"XXXXX":case"XXX":default:return $i(n,":")}},x:function(s,t,r){const n=s.getTimezoneOffset();switch(t){case"x":return ib(n);case"xxxx":case"xx":return $i(n);case"xxxxx":case"xxx":default:return $i(n,":")}},O:function(s,t,r){const n=s.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ab(n,":");case"OOOO":default:return"GMT"+$i(n,":")}},z:function(s,t,r){const n=s.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ab(n,":");case"zzzz":default:return"GMT"+$i(n,":")}},t:function(s,t,r){const n=Math.trunc(s.getTime()/1e3);return Bt(n,t.length)},T:function(s,t,r){const n=s.getTime();return Bt(n,t.length)}};function ab(s,t=""){const r=s>0?"-":"+",n=Math.abs(s),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+Bt(o,2)}function ib(s,t){return s%60===0?(s>0?"-":"+")+Bt(Math.abs(s)/60,2):$i(s,t)}function $i(s,t=""){const r=s>0?"-":"+",n=Math.abs(s),a=Bt(Math.trunc(n/60),2),o=Bt(n%60,2);return r+a+t+o}const ob=(s,t)=>{switch(s){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},IS=(s,t)=>{switch(s){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},GL=(s,t)=>{const r=s.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return ob(s,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",ob(n,t)).replace("{{time}}",IS(a,t))},KL={p:IS,P:GL},YL=/^D+$/,QL=/^Y+$/,ZL=["D","DD","YY","YYYY"];function XL(s){return YL.test(s)}function JL(s){return QL.test(s)}function e6(s,t,r){const n=t6(s,t,r);if(console.warn(n),ZL.includes(s))throw new RangeError(n)}function t6(s,t,r){const n=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,r6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,n6=/^'([^]*?)'?$/,a6=/''/g,i6=/[a-zA-Z]/;function Gt(s,t,r){const n=ld(),a=r?.locale??n.locale??AS,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=Tt(s);if(!hL(d))throw new RangeError("Invalid time value");let h=t.match(r6).map(m=>{const p=m[0];if(p==="p"||p==="P"){const j=KL[p];return j(m,a.formatLong)}return m}).join("").match(s6).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:o6(m)};if(nb[p])return{isToken:!0,value:m};if(p.match(i6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(h=a.localize.preprocessor(d,h));const f={firstWeekContainsDate:o,weekStartsOn:c,locale:a};return h.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!r?.useAdditionalWeekYearTokens&&JL(p)||!r?.useAdditionalDayOfYearTokens&&XL(p))&&e6(p,t,String(s));const j=nb[p[0]];return j(d,p,a.localize,f)}).join("")}function o6(s){const t=s.match(n6);return t?t[1].replace(a6,"'"):s}function l6(s){const t=Tt(s),r=t.getFullYear(),n=t.getMonth(),a=qr(s,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function c6(s){return Math.trunc(+Tt(s)/1e3)}function d6(s){const t=Tt(s),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function u6(s,t){return fL(d6(s),kr(s),t)+1}function Dx(s,t){const r=Tt(s),n=Tt(t);return r.getTime()>n.getTime()}function LS(s,t){const r=Tt(s),n=Tt(t);return+r<+n}function Xg(s,t){const r=Tt(s),n=Tt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function h6(s,t){const r=Tt(s),n=Tt(t);return r.getFullYear()===n.getFullYear()}function Vp(s,t){return cr(s,-t)}function Wp(s,t){const r=Tt(s),n=r.getFullYear(),a=r.getDate(),o=qr(s,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const c=l6(o);return r.setMonth(t,Math.min(a,c)),r}function lb(s,t){const r=Tt(s);return isNaN(+r)?qr(s,NaN):(r.setFullYear(t),r)}const f6={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},m6=(s,t,r)=>{const n=f6[s];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r?.addSuffix?r.comparison&&r.comparison>0?"خلال "+a:"منذ "+a:a},p6={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},x6={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},g6={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v6={date:Jo({formats:p6,defaultWidth:"full"}),time:Jo({formats:x6,defaultWidth:"full"}),dateTime:Jo({formats:g6,defaultWidth:"full"})},y6={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},j6=s=>y6[s],w6={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},b6={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},N6={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},_6={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},S6={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},k6={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},C6=s=>String(s),E6={ordinalNumber:C6,era:Gn({values:w6,defaultWidth:"wide"}),quarter:Gn({values:b6,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Gn({values:N6,defaultWidth:"wide"}),day:Gn({values:_6,defaultWidth:"wide"}),dayPeriod:Gn({values:S6,defaultWidth:"wide",formattingValues:k6,defaultFormattingWidth:"wide"})},P6=/^(\d+)(th|st|nd|rd)?/i,T6=/\d+/i,R6={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},A6={any:[/قبل/,/بعد/]},D6={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},M6={any:[/1/i,/2/i,/3/i,/4/i]},O6={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},I6={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},L6={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},F6={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},$6={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},z6={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},U6={ordinalNumber:RS({matchPattern:P6,parsePattern:T6,valueCallback:s=>parseInt(s,10)}),era:Kn({matchPatterns:R6,defaultMatchWidth:"wide",parsePatterns:A6,defaultParseWidth:"any"}),quarter:Kn({matchPatterns:D6,defaultMatchWidth:"wide",parsePatterns:M6,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Kn({matchPatterns:O6,defaultMatchWidth:"wide",parsePatterns:I6,defaultParseWidth:"any"}),day:Kn({matchPatterns:L6,defaultMatchWidth:"wide",parsePatterns:F6,defaultParseWidth:"any"}),dayPeriod:Kn({matchPatterns:$6,defaultMatchWidth:"any",parsePatterns:z6,defaultParseWidth:"any"})},Es={code:"ar",formatDistance:m6,formatLong:v6,formatRelative:j6,localize:E6,match:U6,options:{weekStartsOn:6,firstWeekContainsDate:1}},B6=()=>{const{user:s,signOut:t}=Ct(),[r,n]=x.useState(null);x.useEffect(()=>{(async()=>{if(!s)return;const{data:f}=await L.from("profiles").select("suspended, suspension_reason, suspended_until, suspended_at").eq("user_id",s.id).maybeSingle();f?.suspended?n(f):n(null)})();const h=L.channel("suspension-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`user_id=eq.${s?.id}`},f=>{const m=f.new;m.suspended?n(m):n(null)}).subscribe();return()=>{L.removeChannel(h)}},[s]);const a=async()=>{await t(),window.location.href="/"};if(!r)return null;const o=!r.suspended_until,c=r.suspended_until?new Date(r.suspended_until):null;return e.jsx(NS,{open:r.suspended,children:e.jsx(Vg,{className:"max-w-md",children:e.jsxs(Wg,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-destructive/10 rounded-full",children:e.jsx(hr,{className:"h-6 w-6 text-destructive"})}),e.jsx(Hg,{className:"text-xl",children:"تم تعليق حسابك"})]}),e.jsxs(Gg,{className:"space-y-4 text-right",children:[e.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[e.jsx("p",{className:"font-semibold text-foreground",children:"السبب:"}),e.jsx("p",{className:"text-base text-foreground",children:r.suspension_reason||"لم يتم تحديد السبب"})]}),!o&&c&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:[e.jsx(nr,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-foreground",children:"ينتهي التعليق في:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Gt(c,"PPP",{locale:Es})})]})]}),o&&e.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-destructive",children:"تعليق دائم"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"هذا الحساب تم تعليقه بشكل دائم"})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-3",children:[e.jsx("p",{className:"font-semibold text-foreground",children:"للاستفسار أو حل المشكلة:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("a",{href:"tel:+966123456789",className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[e.jsx(En,{className:"h-4 w-4"}),e.jsx("span",{children:"+966 12 345 6789"})]}),e.jsxs("a",{href:"mailto:support@example.com",className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[e.jsx(sa,{className:"h-4 w-4"}),e.jsx("span",{children:"support@example.com"})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(A,{onClick:a,variant:"destructive",className:"w-full",children:"تسجيل الخروج"})})]})]})})})},q6="/assets/adrena_logo-Cr335MxH.png",V6=Ug,W6=Bg,H6=qg,FS=x.forwardRef(({className:s,...t},r)=>e.jsx(nd,{className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:r}));FS.displayName=nd.displayName;const G6=pl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$S=x.forwardRef(({side:s="right",className:t,children:r,...n},a)=>e.jsxs(H6,{children:[e.jsx(FS,{}),e.jsxs(ad,{ref:a,className:be(G6({side:s}),t),...n,children:[r,e.jsxs(sf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(lg,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$S.displayName=ad.displayName;const K6=x.forwardRef(({className:s,...t},r)=>e.jsx(id,{ref:r,className:be("text-lg font-semibold text-foreground",s),...t}));K6.displayName=id.displayName;const Y6=x.forwardRef(({className:s,...t},r)=>e.jsx(od,{ref:r,className:be("text-sm text-muted-foreground",s),...t}));Y6.displayName=od.displayName;var Q6=x.createContext(void 0);function cd(s){const t=x.useContext(Q6);return s||t||"ltr"}var Hp="rovingFocusGroup.onEntryFocus",Z6={bubbles:!1,cancelable:!0},dd="RovingFocusGroup",[Mx,zS,X6]=Lh(dd),[J6,rf]=Vs(dd,[X6]),[eF,tF]=J6(dd),US=x.forwardRef((s,t)=>e.jsx(Mx.Provider,{scope:s.__scopeRovingFocusGroup,children:e.jsx(Mx.Slot,{scope:s.__scopeRovingFocusGroup,children:e.jsx(sF,{...s,ref:t})})}));US.displayName=dd;var sF=x.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=s,j=x.useRef(null),w=ft(t,j),S=cd(o),[v,y]=Pn({prop:c,defaultProp:d??null,onChange:h,caller:dd}),[b,_]=x.useState(!1),k=ps(f),E=zS(r),P=x.useRef(!1),[R,D]=x.useState(0);return x.useEffect(()=>{const U=j.current;if(U)return U.addEventListener(Hp,k),()=>U.removeEventListener(Hp,k)},[k]),e.jsx(eF,{scope:r,orientation:n,dir:S,loop:a,currentTabStopId:v,onItemFocus:x.useCallback(U=>y(U),[y]),onItemShiftTab:x.useCallback(()=>_(!0),[]),onFocusableItemAdd:x.useCallback(()=>D(U=>U+1),[]),onFocusableItemRemove:x.useCallback(()=>D(U=>U-1),[]),children:e.jsx(Be.div,{tabIndex:b||R===0?-1:0,"data-orientation":n,...p,ref:w,style:{outline:"none",...s.style},onMouseDown:Se(s.onMouseDown,()=>{P.current=!0}),onFocus:Se(s.onFocus,U=>{const V=!P.current;if(U.target===U.currentTarget&&V&&!b){const te=new CustomEvent(Hp,Z6);if(U.currentTarget.dispatchEvent(te),!te.defaultPrevented){const oe=E().filter(ue=>ue.focusable),K=oe.find(ue=>ue.active),ce=oe.find(ue=>ue.id===v),ve=[K,ce,...oe].filter(Boolean).map(ue=>ue.ref.current);VS(ve,m)}}P.current=!1}),onBlur:Se(s.onBlur,()=>_(!1))})})}),BS="RovingFocusGroupItem",qS=x.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:o,children:c,...d}=s,h=rn(),f=o||h,m=tF(BS,r),p=m.currentTabStopId===f,j=zS(r),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:v}=m;return x.useEffect(()=>{if(n)return w(),()=>S()},[n,w,S]),e.jsx(Mx.ItemSlot,{scope:r,id:f,focusable:n,active:a,children:e.jsx(Be.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...d,ref:t,onMouseDown:Se(s.onMouseDown,y=>{n?m.onItemFocus(f):y.preventDefault()}),onFocus:Se(s.onFocus,()=>m.onItemFocus(f)),onKeyDown:Se(s.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){m.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=aF(y,m.orientation,m.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let k=j().filter(E=>E.focusable).map(E=>E.ref.current);if(b==="last")k.reverse();else if(b==="prev"||b==="next"){b==="prev"&&k.reverse();const E=k.indexOf(y.currentTarget);k=m.loop?iF(k,E+1):k.slice(E+1)}setTimeout(()=>VS(k))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:v!=null}):c})})});qS.displayName=BS;var rF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nF(s,t){return t!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function aF(s,t,r){const n=nF(s.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return rF[n]}function VS(s,t=!1){const r=document.activeElement;for(const n of s)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function iF(s,t){return s.map((r,n)=>s[(t+n)%s.length])}var WS=US,HS=qS,Ox=["Enter"," "],oF=["ArrowDown","PageUp","Home"],GS=["ArrowUp","PageDown","End"],lF=[...oF,...GS],cF={ltr:[...Ox,"ArrowRight"],rtl:[...Ox,"ArrowLeft"]},dF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ud="Menu",[zc,uF,hF]=Lh(ud),[ao,KS]=Vs(ud,[hF,gi,rf]),nf=gi(),YS=rf(),[fF,io]=ao(ud),[mF,hd]=ao(ud),QS=s=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:o,modal:c=!0}=s,d=nf(t),[h,f]=x.useState(null),m=x.useRef(!1),p=ps(o),j=cd(a);return x.useEffect(()=>{const w=()=>{m.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>m.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),e.jsx(Sg,{...d,children:e.jsx(fF,{scope:t,open:r,onOpenChange:p,content:h,onContentChange:f,children:e.jsx(mF,{scope:t,onClose:x.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:j,modal:c,children:n})})})};QS.displayName=ud;var pF="MenuAnchor",Jg=x.forwardRef((s,t)=>{const{__scopeMenu:r,...n}=s,a=nf(r);return e.jsx(Jc,{...a,...n,ref:t})});Jg.displayName=pF;var ev="MenuPortal",[xF,ZS]=ao(ev,{forceMount:void 0}),XS=s=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=s,o=io(ev,t);return e.jsx(xF,{scope:t,forceMount:r,children:e.jsx(Ls,{present:r||o.open,children:e.jsx(vl,{asChild:!0,container:a,children:n})})})};XS.displayName=ev;var nn="MenuContent",[gF,tv]=ao(nn),JS=x.forwardRef((s,t)=>{const r=ZS(nn,s.__scopeMenu),{forceMount:n=r.forceMount,...a}=s,o=io(nn,s.__scopeMenu),c=hd(nn,s.__scopeMenu);return e.jsx(zc.Provider,{scope:s.__scopeMenu,children:e.jsx(Ls,{present:n||o.open,children:e.jsx(zc.Slot,{scope:s.__scopeMenu,children:c.modal?e.jsx(vF,{...a,ref:t}):e.jsx(yF,{...a,ref:t})})})})}),vF=x.forwardRef((s,t)=>{const r=io(nn,s.__scopeMenu),n=x.useRef(null),a=ft(t,n);return x.useEffect(()=>{const o=n.current;if(o)return ef(o)},[]),e.jsx(sv,{...s,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Se(s.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),yF=x.forwardRef((s,t)=>{const r=io(nn,s.__scopeMenu);return e.jsx(sv,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),jF=hi("MenuContent.ScrollLock"),sv=x.forwardRef((s,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:j,onDismiss:w,disableOutsideScroll:S,...v}=s,y=io(nn,r),b=hd(nn,r),_=nf(r),k=YS(r),E=uF(r),[P,R]=x.useState(null),D=x.useRef(null),U=ft(t,D,y.onContentChange),V=x.useRef(0),te=x.useRef(""),oe=x.useRef(0),K=x.useRef(null),ce=x.useRef("right"),H=x.useRef(0),ve=S?rd:x.Fragment,ue=S?{as:jF,allowPinchZoom:!0}:void 0,Y=W=>{const le=te.current+W,I=E().filter(ie=>!ie.disabled),X=document.activeElement,ye=I.find(ie=>ie.ref.current===X)?.textValue,me=I.map(ie=>ie.textValue),Le=AF(me,le,ye),qe=I.find(ie=>ie.textValue===Le)?.ref.current;(function ie(Te){te.current=Te,window.clearTimeout(V.current),Te!==""&&(V.current=window.setTimeout(()=>ie(""),1e3))})(le),qe&&setTimeout(()=>qe.focus())};x.useEffect(()=>()=>window.clearTimeout(V.current),[]),Xh();const F=x.useCallback(W=>ce.current===K.current?.side&&MF(W,K.current?.area),[]);return e.jsx(gF,{scope:r,searchRef:te,onItemEnter:x.useCallback(W=>{F(W)&&W.preventDefault()},[F]),onItemLeave:x.useCallback(W=>{F(W)||(D.current?.focus(),R(null))},[F]),onTriggerLeave:x.useCallback(W=>{F(W)&&W.preventDefault()},[F]),pointerGraceTimerRef:oe,onPointerGraceIntentChange:x.useCallback(W=>{K.current=W},[]),children:e.jsx(ve,{...ue,children:e.jsx(sd,{asChild:!0,trapped:a,onMountAutoFocus:Se(o,W=>{W.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:e.jsx(ro,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:j,onDismiss:w,children:e.jsx(WS,{asChild:!0,...k,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:P,onCurrentTabStopIdChange:R,onEntryFocus:Se(h,W=>{b.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(qh,{role:"menu","aria-orientation":"vertical","data-state":pk(y.open),"data-radix-menu-content":"",dir:b.dir,..._,...v,ref:U,style:{outline:"none",...v.style},onKeyDown:Se(v.onKeyDown,W=>{const I=W.target.closest("[data-radix-menu-content]")===W.currentTarget,X=W.ctrlKey||W.altKey||W.metaKey,ye=W.key.length===1;I&&(W.key==="Tab"&&W.preventDefault(),!X&&ye&&Y(W.key));const me=D.current;if(W.target!==me||!lF.includes(W.key))return;W.preventDefault();const qe=E().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);GS.includes(W.key)&&qe.reverse(),TF(qe)}),onBlur:Se(s.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(V.current),te.current="")}),onPointerMove:Se(s.onPointerMove,Uc(W=>{const le=W.target,I=H.current!==W.clientX;if(W.currentTarget.contains(le)&&I){const X=W.clientX>H.current?"right":"left";ce.current=X,H.current=W.clientX}}))})})})})})})});JS.displayName=nn;var wF="MenuGroup",rv=x.forwardRef((s,t)=>{const{__scopeMenu:r,...n}=s;return e.jsx(Be.div,{role:"group",...n,ref:t})});rv.displayName=wF;var bF="MenuLabel",ek=x.forwardRef((s,t)=>{const{__scopeMenu:r,...n}=s;return e.jsx(Be.div,{...n,ref:t})});ek.displayName=bF;var hh="MenuItem",cb="menu.itemSelect",af=x.forwardRef((s,t)=>{const{disabled:r=!1,onSelect:n,...a}=s,o=x.useRef(null),c=hd(hh,s.__scopeMenu),d=tv(hh,s.__scopeMenu),h=ft(t,o),f=x.useRef(!1),m=()=>{const p=o.current;if(!r&&p){const j=new CustomEvent(cb,{bubbles:!0,cancelable:!0});p.addEventListener(cb,w=>n?.(w),{once:!0}),ug(p,j),j.defaultPrevented?f.current=!1:c.onClose()}};return e.jsx(tk,{...a,ref:h,disabled:r,onClick:Se(s.onClick,m),onPointerDown:p=>{s.onPointerDown?.(p),f.current=!0},onPointerUp:Se(s.onPointerUp,p=>{f.current||p.currentTarget?.click()}),onKeyDown:Se(s.onKeyDown,p=>{const j=d.searchRef.current!=="";r||j&&p.key===" "||Ox.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});af.displayName=hh;var tk=x.forwardRef((s,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=s,c=tv(hh,r),d=YS(r),h=x.useRef(null),f=ft(t,h),[m,p]=x.useState(!1),[j,w]=x.useState("");return x.useEffect(()=>{const S=h.current;S&&w((S.textContent??"").trim())},[o.children]),e.jsx(zc.ItemSlot,{scope:r,disabled:n,textValue:a??j,children:e.jsx(HS,{asChild:!0,...d,focusable:!n,children:e.jsx(Be.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:f,onPointerMove:Se(s.onPointerMove,Uc(S=>{n?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(s.onPointerLeave,Uc(S=>c.onItemLeave(S))),onFocus:Se(s.onFocus,()=>p(!0)),onBlur:Se(s.onBlur,()=>p(!1))})})})}),NF="MenuCheckboxItem",sk=x.forwardRef((s,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=s;return e.jsx(ok,{scope:s.__scopeMenu,checked:r,children:e.jsx(af,{role:"menuitemcheckbox","aria-checked":fh(r)?"mixed":r,...a,ref:t,"data-state":av(r),onSelect:Se(a.onSelect,()=>n?.(fh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});sk.displayName=NF;var rk="MenuRadioGroup",[_F,SF]=ao(rk,{value:void 0,onValueChange:()=>{}}),nk=x.forwardRef((s,t)=>{const{value:r,onValueChange:n,...a}=s,o=ps(n);return e.jsx(_F,{scope:s.__scopeMenu,value:r,onValueChange:o,children:e.jsx(rv,{...a,ref:t})})});nk.displayName=rk;var ak="MenuRadioItem",ik=x.forwardRef((s,t)=>{const{value:r,...n}=s,a=SF(ak,s.__scopeMenu),o=r===a.value;return e.jsx(ok,{scope:s.__scopeMenu,checked:o,children:e.jsx(af,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":av(o),onSelect:Se(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});ik.displayName=ak;var nv="MenuItemIndicator",[ok,kF]=ao(nv,{checked:!1}),lk=x.forwardRef((s,t)=>{const{__scopeMenu:r,forceMount:n,...a}=s,o=kF(nv,r);return e.jsx(Ls,{present:n||fh(o.checked)||o.checked===!0,children:e.jsx(Be.span,{...a,ref:t,"data-state":av(o.checked)})})});lk.displayName=nv;var CF="MenuSeparator",ck=x.forwardRef((s,t)=>{const{__scopeMenu:r,...n}=s;return e.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ck.displayName=CF;var EF="MenuArrow",dk=x.forwardRef((s,t)=>{const{__scopeMenu:r,...n}=s,a=nf(r);return e.jsx(Vh,{...a,...n,ref:t})});dk.displayName=EF;var PF="MenuSub",[vq,uk]=ao(PF),pc="MenuSubTrigger",hk=x.forwardRef((s,t)=>{const r=io(pc,s.__scopeMenu),n=hd(pc,s.__scopeMenu),a=uk(pc,s.__scopeMenu),o=tv(pc,s.__scopeMenu),c=x.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=o,f={__scopeMenu:s.__scopeMenu},m=x.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const p=d.current;return()=>{window.clearTimeout(p),h(null)}},[d,h]),e.jsx(Jg,{asChild:!0,...f,children:e.jsx(tk,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":pk(r.open),...s,ref:Ih(t,a.onTriggerChange),onClick:p=>{s.onClick?.(p),!(s.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Se(s.onPointerMove,Uc(p=>{o.onItemEnter(p),!p.defaultPrevented&&!s.disabled&&!r.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:Se(s.onPointerLeave,Uc(p=>{m();const j=r.content?.getBoundingClientRect();if(j){const w=r.content?.dataset.side,S=w==="right",v=S?-5:5,y=j[S?"left":"right"],b=j[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:p.clientX+v,y:p.clientY},{x:y,y:j.top},{x:b,y:j.top},{x:b,y:j.bottom},{x:y,y:j.bottom}],side:w}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(p),p.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Se(s.onKeyDown,p=>{const j=o.searchRef.current!=="";s.disabled||j&&p.key===" "||cF[n.dir].includes(p.key)&&(r.onOpenChange(!0),r.content?.focus(),p.preventDefault())})})})});hk.displayName=pc;var fk="MenuSubContent",mk=x.forwardRef((s,t)=>{const r=ZS(nn,s.__scopeMenu),{forceMount:n=r.forceMount,...a}=s,o=io(nn,s.__scopeMenu),c=hd(nn,s.__scopeMenu),d=uk(fk,s.__scopeMenu),h=x.useRef(null),f=ft(t,h);return e.jsx(zc.Provider,{scope:s.__scopeMenu,children:e.jsx(Ls,{present:n||o.open,children:e.jsx(zc.Slot,{scope:s.__scopeMenu,children:e.jsx(sv,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{c.isUsingKeyboardRef.current&&h.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Se(s.onFocusOutside,m=>{m.target!==d.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Se(s.onEscapeKeyDown,m=>{c.onClose(),m.preventDefault()}),onKeyDown:Se(s.onKeyDown,m=>{const p=m.currentTarget.contains(m.target),j=dF[c.dir].includes(m.key);p&&j&&(o.onOpenChange(!1),d.trigger?.focus(),m.preventDefault())})})})})})});mk.displayName=fk;function pk(s){return s?"open":"closed"}function fh(s){return s==="indeterminate"}function av(s){return fh(s)?"indeterminate":s?"checked":"unchecked"}function TF(s){const t=document.activeElement;for(const r of s)if(r===t||(r.focus(),document.activeElement!==t))return}function RF(s,t){return s.map((r,n)=>s[(t+n)%s.length])}function AF(s,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=r?s.indexOf(r):-1;let c=RF(s,Math.max(o,0));a.length===1&&(c=c.filter(f=>f!==r));const h=c.find(f=>f.toLowerCase().startsWith(a.toLowerCase()));return h!==r?h:void 0}function DF(s,t){const{x:r,y:n}=s;let a=!1;for(let o=0,c=t.length-1;o<t.length;c=o++){const d=t[o],h=t[c],f=d.x,m=d.y,p=h.x,j=h.y;m>n!=j>n&&r<(p-f)*(n-m)/(j-m)+f&&(a=!a)}return a}function MF(s,t){if(!t)return!1;const r={x:s.clientX,y:s.clientY};return DF(r,t)}function Uc(s){return t=>t.pointerType==="mouse"?s(t):void 0}var OF=QS,IF=Jg,LF=XS,FF=JS,$F=rv,zF=ek,UF=af,BF=sk,qF=nk,VF=ik,WF=lk,HF=ck,GF=dk,KF=hk,YF=mk,of="DropdownMenu",[QF]=Vs(of,[KS]),fr=KS(),[ZF,xk]=QF(of),gk=s=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:c,modal:d=!0}=s,h=fr(t),f=x.useRef(null),[m,p]=Pn({prop:a,defaultProp:o??!1,onChange:c,caller:of});return e.jsx(ZF,{scope:t,triggerId:rn(),triggerRef:f,contentId:rn(),open:m,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(j=>!j),[p]),modal:d,children:e.jsx(OF,{...h,open:m,onOpenChange:p,dir:n,modal:d,children:r})})};gk.displayName=of;var vk="DropdownMenuTrigger",yk=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=s,o=xk(vk,r),c=fr(r);return e.jsx(IF,{asChild:!0,...c,children:e.jsx(Be.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ih(t,o.triggerRef),onPointerDown:Se(s.onPointerDown,d=>{!n&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:Se(s.onKeyDown,d=>{n||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});yk.displayName=vk;var XF="DropdownMenuPortal",jk=s=>{const{__scopeDropdownMenu:t,...r}=s,n=fr(t);return e.jsx(LF,{...n,...r})};jk.displayName=XF;var wk="DropdownMenuContent",bk=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=xk(wk,r),o=fr(r),c=x.useRef(!1);return e.jsx(FF,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:Se(s.onCloseAutoFocus,d=>{c.current||a.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Se(s.onInteractOutside,d=>{const h=d.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,m=h.button===2||f;(!a.modal||m)&&(c.current=!0)}),style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bk.displayName=wk;var JF="DropdownMenuGroup",e$=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=fr(r);return e.jsx($F,{...a,...n,ref:t})});e$.displayName=JF;var t$="DropdownMenuLabel",Nk=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=fr(r);return e.jsx(zF,{...a,...n,ref:t})});Nk.displayName=t$;var s$="DropdownMenuItem",_k=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=fr(r);return e.jsx(UF,{...a,...n,ref:t})});_k.displayName=s$;var r$="DropdownMenuCheckboxItem",Sk=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=fr(r);return e.jsx(BF,{...a,...n,ref:t})});Sk.displayName=r$;var n$="DropdownMenuRadioGroup",a$=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=fr(r);return e.jsx(qF,{...a,...n,ref:t})});a$.displayName=n$;var i$="DropdownMenuRadioItem",kk=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=fr(r);return e.jsx(VF,{...a,...n,ref:t})});kk.displayName=i$;var o$="DropdownMenuItemIndicator",Ck=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=fr(r);return e.jsx(WF,{...a,...n,ref:t})});Ck.displayName=o$;var l$="DropdownMenuSeparator",Ek=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=fr(r);return e.jsx(HF,{...a,...n,ref:t})});Ek.displayName=l$;var c$="DropdownMenuArrow",d$=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=fr(r);return e.jsx(GF,{...a,...n,ref:t})});d$.displayName=c$;var u$="DropdownMenuSubTrigger",Pk=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=fr(r);return e.jsx(KF,{...a,...n,ref:t})});Pk.displayName=u$;var h$="DropdownMenuSubContent",Tk=x.forwardRef((s,t)=>{const{__scopeDropdownMenu:r,...n}=s,a=fr(r);return e.jsx(YF,{...a,...n,ref:t,style:{...s.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Tk.displayName=h$;var f$=gk,m$=yk,p$=jk,Rk=bk,Ak=Nk,Dk=_k,Mk=Sk,Ok=kk,Ik=Ck,Lk=Ek,Fk=Pk,$k=Tk;const Ku=f$,Yu=m$,x$=x.forwardRef(({className:s,inset:t,children:r,...n},a)=>e.jsxs(Fk,{ref:a,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",s),...n,children:[r,e.jsx(uN,{className:"ml-auto h-4 w-4"})]}));x$.displayName=Fk.displayName;const g$=x.forwardRef(({className:s,...t},r)=>e.jsx($k,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t}));g$.displayName=$k.displayName;const Sc=x.forwardRef(({className:s,sideOffset:t=4,...r},n)=>e.jsx(p$,{children:e.jsx(Rk,{ref:n,sideOffset:t,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}));Sc.displayName=Rk.displayName;const qs=x.forwardRef(({className:s,inset:t,...r},n)=>e.jsx(Dk,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",s),...r}));qs.displayName=Dk.displayName;const v$=x.forwardRef(({className:s,children:t,checked:r,...n},a)=>e.jsxs(Mk,{ref:a,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ik,{children:e.jsx(Mh,{className:"h-4 w-4"})})}),t]}));v$.displayName=Mk.displayName;const y$=x.forwardRef(({className:s,children:t,...r},n)=>e.jsxs(Ok,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ik,{children:e.jsx(WP,{className:"h-2 w-2 fill-current"})})}),t]}));y$.displayName=Ok.displayName;const j$=x.forwardRef(({className:s,inset:t,...r},n)=>e.jsx(Ak,{ref:n,className:be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",s),...r}));j$.displayName=Ak.displayName;const zk=x.forwardRef(({className:s,...t},r)=>e.jsx(Lk,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",s),...t}));zk.displayName=Lk.displayName;const Uk=()=>{const{user:s}=Ct(),[t,r]=x.useState(0),[n,a]=x.useState(!0);x.useEffect(()=>{s?.id?(o(),c()):(r(0),a(!1))},[s?.id]);const o=async()=>{if(s?.id)try{const{data:h,error:f}=await L.from("notifications").select("id").eq("user_id",s.id).eq("read",!1);if(f)throw f;r(h?.length||0)}catch(h){console.error("Error loading unread count:",h),r(0)}finally{a(!1)}},c=()=>{if(!s?.id)return;const h=L.channel("notification-count").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${s.id}`},()=>{r(f=>f+1)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${s.id}`},f=>{const m=f?.old?.read,p=f?.new?.read;m===!1&&p===!0?r(j=>Math.max(0,j-1)):m===!0&&p===!1&&r(j=>j+1)}).on("postgres_changes",{event:"DELETE",schema:"public",table:"notifications",filter:`user_id=eq.${s.id}`},f=>{f?.old?.read===!1&&r(m=>Math.max(0,m-1))}).subscribe();return()=>{L.removeChannel(h)}};return{unreadCount:t,loading:n,markAllAsRead:async()=>{if(s?.id)try{const{error:h}=await L.from("notifications").update({read:!0}).eq("user_id",s.id).eq("read",!1);if(h)throw h;r(0)}catch(h){console.error("Error marking all notifications as read:",h)}},refetch:o}};function db(){const{setTheme:s,theme:t}=nN();return e.jsxs(Ku,{children:[e.jsx(Yu,{asChild:!0,children:e.jsxs(A,{variant:"ghost",size:"icon",className:"touch-target",children:[e.jsx(th,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(Fw,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(Sc,{align:"end",className:"bg-background z-50",children:[e.jsxs(qs,{onClick:()=>s("light"),children:[e.jsx(th,{className:"me-2 h-4 w-4"}),e.jsx("span",{children:"Light"})]}),e.jsxs(qs,{onClick:()=>s("dark"),children:[e.jsx(Fw,{className:"me-2 h-4 w-4"}),e.jsx("span",{children:"Dark"})]}),e.jsxs(qs,{onClick:()=>s("system"),children:[e.jsx("span",{className:"me-2",children:"💻"}),e.jsx("span",{children:"System"})]})]})]})}const et=()=>{const[s,t]=x.useState(!1),{language:r,setLanguage:n,t:a,isRTL:o}=Ar(),{user:c,userRole:d,signOut:h}=Ct(),{unreadCount:f}=Uk(),m=ar(),p=async()=>{await h(),m("/")},j=v=>{switch(v){case"attendee":return a("authentication.attendee");case"organizer":return a("authentication.organizer");case"provider":return a("authentication.provider");case"admin":return a("authentication.admin");default:return""}},S=(v=>{const y=[{title:"الرئيسية",href:"/",titleEn:"Home"}];if(!v)return[...y,{title:"استكشاف",href:"/explore",titleEn:"Explore"},{title:"الخدمات",href:"/services",titleEn:"Services"},{title:"تواصل معنا",href:"/contact",titleEn:"Contact"}];switch(v){case"attendee":return[...y,{title:"استكشاف",href:"/explore",titleEn:"Explore"},{title:"فعالياتي",href:"/my-events",titleEn:"My Events"},{title:"القروبات",href:"/groups",titleEn:"Groups"},{title:"النقاط",href:"/points",titleEn:"Points"},{title:"تواصل معنا",href:"/contact",titleEn:"Contact"}];case"organizer":return[...y,{title:"إنشاء فعالية",href:"/create-event",titleEn:"Create Event"},{title:"القروبات",href:"/groups",titleEn:"Groups"},{title:"النقاط",href:"/points",titleEn:"Points"},{title:"تواصل معنا",href:"/contact",titleEn:"Contact"}];case"provider":return[...y,{title:"إضافة خدمة",href:"/create-service",titleEn:"Add Service"},{title:"إدارة الخدمات",href:"/manage-services",titleEn:"Manage Services"},{title:"القروبات",href:"/groups",titleEn:"Groups"},{title:"النقاط",href:"/points",titleEn:"Points"},{title:"تواصل معنا",href:"/contact",titleEn:"Contact"}];case"admin":return[...y,{title:"استكشاف",href:"/explore",titleEn:"Explore"},{title:"الخدمات",href:"/services",titleEn:"Services"},{title:"القروبات",href:"/groups",titleEn:"Groups"},{title:"لوحة الإدارة",href:"/admin",titleEn:"Admin Panel"},{title:"تواصل معنا",href:"/contact",titleEn:"Contact"}];default:return y}})(d);return e.jsx("nav",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex h-16 items-center justify-between",children:[e.jsxs(Fe,{to:"/",className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("img",{src:q6,alt:"Adrena Logo",className:"w-20 h-20 object-contain"}),e.jsx("span",{className:"text-xl font-bold text-primary",children:r==="ar"?"أدرينا":"Adrena"})]}),e.jsx("div",{className:"hidden lg:flex items-center space-x-4 rtl:space-x-reverse",children:S.map(v=>e.jsx(Fe,{to:v.href,className:"text-sm font-medium transition-colors hover:text-primary smooth-transition whitespace-nowrap px-2",children:r==="ar"?v.title:v.titleEn},v.href))}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsxs(Ku,{children:[e.jsx(Yu,{asChild:!0,children:e.jsx(A,{variant:"ghost",size:"icon",children:e.jsx(sx,{className:"w-4 h-4"})})}),e.jsxs(Sc,{align:"end",className:"bg-background z-50",children:[e.jsx(qs,{onClick:()=>n("ar"),children:e.jsx("span",{children:"العربية"})}),e.jsx(qs,{onClick:()=>n("en"),children:e.jsx("span",{children:"English"})})]})]}),e.jsx(db,{}),c?e.jsxs(e.Fragment,{children:[e.jsxs(A,{variant:"ghost",size:"icon",className:"relative",onClick:async()=>{c?.id&&await L.from("notifications").update({read:!0}).eq("user_id",c.id).eq("read",!1),m("/notifications")},children:[e.jsx(Sn,{className:"w-4 h-4"}),f>0&&e.jsx("span",{className:"absolute -top-1 -right-1 min-w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center px-1",children:f>99?"99+":f})]}),e.jsx(A,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(Fe,{to:"/wallet",children:e.jsx(Jn,{className:"w-4 h-4"})})}),e.jsxs(Ku,{children:[e.jsx(Yu,{asChild:!0,children:e.jsxs(A,{variant:"ghost",className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(ui,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:r==="ar"?"الملف الشخصي":"Profile"}),d&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",j(d),")"]})]})}),e.jsxs(Sc,{align:"end",children:[e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{to:"/profile",children:r==="ar"?"الملف الشخصي":"Profile"})}),d!=="admin"&&e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{to:`/${d}-dashboard`,children:r==="ar"?"لوحة التحكم":"Dashboard"})}),d==="attendee"&&e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{to:"/my-events",children:r==="ar"?"فعالياتي":"My Events"})}),d==="organizer"&&e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{to:"/manage-events",children:r==="ar"?"إدارة الفعاليات":"Manage Events"})}),d==="provider"&&e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{to:"/manage-services",children:r==="ar"?"إدارة الخدمات":"Manage Services"})}),d==="admin"&&e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{to:"/admin",children:r==="ar"?"لوحة الإدارة":"Admin Panel"})}),e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{to:"/wallet",children:r==="ar"?"المحفظة":"Wallet"})}),e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{to:"/points",children:r==="ar"?"النقاط":"Points"})}),e.jsx(qs,{asChild:!0,children:e.jsx(Fe,{to:"/settings",children:r==="ar"?"الإعدادات":"Settings"})}),e.jsx(zk,{}),e.jsxs(qs,{onClick:p,children:[e.jsx(QP,{className:"w-4 h-4 ml-2"}),r==="ar"?"تسجيل الخروج":"Sign Out"]})]})]})]}):e.jsx(A,{asChild:!0,children:e.jsx(Fe,{to:"/auth",children:r==="ar"?"تسجيل الدخول":"Sign In"})})]}),e.jsxs(V6,{open:s,onOpenChange:t,children:[e.jsx(W6,{asChild:!0,className:"lg:hidden",children:e.jsx(A,{variant:"ghost",size:"icon",children:e.jsx(XP,{className:"w-5 h-5"})})}),e.jsx($S,{side:r==="ar"?"right":"left",children:e.jsx("div",{className:"mt-6 flow-root",children:e.jsxs("div",{className:"space-y-2 py-6",children:[S.map(v=>e.jsx(Fe,{to:v.href,className:"block px-3 py-2 text-base font-medium text-foreground hover:text-primary smooth-transition",onClick:()=>t(!1),children:r==="ar"?v.title:v.titleEn},v.href)),e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse px-3 py-2",children:[e.jsxs(Ku,{children:[e.jsx(Yu,{asChild:!0,children:e.jsx(A,{variant:"ghost",size:"icon",children:e.jsx(sx,{className:"w-4 h-4"})})}),e.jsxs(Sc,{align:"end",className:"bg-background z-50",children:[e.jsx(qs,{onClick:()=>n("ar"),children:e.jsx("span",{children:"العربية"})}),e.jsx(qs,{onClick:()=>n("en"),children:e.jsx("span",{children:"English"})})]})]}),e.jsx(db,{}),c&&e.jsxs(e.Fragment,{children:[e.jsx(A,{variant:"ghost",size:"icon",className:"relative",asChild:!0,children:e.jsxs(Fe,{to:"/notifications",children:[e.jsx(Sn,{className:"w-4 h-4"}),f>0&&e.jsx("span",{className:"absolute -top-1 -right-1 min-w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center px-1",children:f>99?"99+":f})]})}),e.jsx(A,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(Fe,{to:"/wallet",children:e.jsx(Jn,{className:"w-4 h-4"})})})]})]}),e.jsx("div",{className:"px-3 py-2",children:c?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:d&&`${j(d)}`}),e.jsx(Fe,{to:"/profile",onClick:()=>t(!1),children:e.jsx(A,{variant:"outline",className:"w-full mb-2",children:r==="ar"?"الملف الشخصي":"Profile"})}),d!=="admin"&&e.jsx(Fe,{to:`/${d}-dashboard`,onClick:()=>t(!1),children:e.jsx(A,{variant:"outline",className:"w-full mb-2",children:r==="ar"?"لوحة التحكم":"Dashboard"})}),e.jsx(A,{variant:"outline",className:"w-full",onClick:p,children:r==="ar"?"تسجيل الخروج":"Sign Out"})]}):e.jsx(A,{className:"w-full",asChild:!0,children:e.jsx(Fe,{to:"/auth",children:r==="ar"?"تسجيل الدخول":"Sign In"})})})]})})})]})]})})})},nt=()=>e.jsx("footer",{className:"bg-secondary border-t mt-auto",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg hero-gradient",children:e.jsx(og,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-primary",children:"أدرينا"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"منصة الأنشطة الخارجية والمغامرات الرائدة في المملكة العربية السعودية"}),e.jsxs("div",{className:"flex space-x-4 rtl:space-x-reverse",children:[e.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",children:e.jsx(GP,{className:"w-5 h-5 text-muted-foreground hover:text-primary cursor-pointer smooth-transition"})}),e.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",children:e.jsx(rT,{className:"w-5 h-5 text-muted-foreground hover:text-primary cursor-pointer smooth-transition"})}),e.jsx("a",{href:"https://tiktok.com",target:"_blank",rel:"noopener noreferrer",children:e.jsx("svg",{className:"w-5 h-5 text-muted-foreground hover:text-primary cursor-pointer smooth-transition",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"روابط سريعة"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(Fe,{to:"/explore",className:"text-sm text-muted-foreground hover:text-primary smooth-transition",children:"استكشاف الفعاليات"})}),e.jsx("li",{children:e.jsx(Fe,{to:"/services",className:"text-sm text-muted-foreground hover:text-primary smooth-transition",children:"الخدمات"})}),e.jsx("li",{children:e.jsx(Fe,{to:"/create-event",className:"text-sm text-muted-foreground hover:text-primary smooth-transition",children:"أنشئ فعاليتك"})}),e.jsx("li",{children:e.jsx(Fe,{to:"/create-service",className:"text-sm text-muted-foreground hover:text-primary smooth-transition",children:"قدّم خدمتك"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"الدعم"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(Fe,{to:"/help",className:"text-sm text-muted-foreground hover:text-primary smooth-transition",children:"مركز المساعدة"})}),e.jsx("li",{children:e.jsx(Fe,{to:"/contact",className:"text-sm text-muted-foreground hover:text-primary smooth-transition",children:"تواصل معنا"})}),e.jsx("li",{children:e.jsx(Fe,{to:"/safety",className:"text-sm text-muted-foreground hover:text-primary smooth-transition",children:"إرشادات السلامة"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"قانوني"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(Fe,{to:"/terms",className:"text-sm text-muted-foreground hover:text-primary smooth-transition",children:"الشروط والأحكام"})}),e.jsx("li",{children:e.jsx(Fe,{to:"/privacy",className:"text-sm text-muted-foreground hover:text-primary smooth-transition",children:"سياسة الخصوصية"})}),e.jsx("li",{children:e.jsx(Fe,{to:"/refund",className:"text-sm text-muted-foreground hover:text-primary smooth-transition",children:"سياسة الاسترداد"})})]})]})]}),e.jsx("div",{className:"border-t mt-8 pt-8 text-center",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"© 2024 أدرينا. جميع الحقوق محفوظة."})})]})}),Re=x.forwardRef(({className:s,type:t,...r},n)=>e.jsx("input",{type:t,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:n,...r}));Re.displayName="Input";function Ix(s,[t,r]){return Math.min(r,Math.max(t,s))}function iv(s){const t=x.useRef({value:s,previous:s});return x.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}var w$=[" ","Enter","ArrowUp","ArrowDown"],b$=[" ","Enter"],Yi="Select",[lf,cf,N$]=Lh(Yi),[_l]=Vs(Yi,[N$,gi]),df=gi(),[_$,ji]=_l(Yi),[S$,k$]=_l(Yi),Bk=s=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:c,defaultValue:d,onValueChange:h,dir:f,name:m,autoComplete:p,disabled:j,required:w,form:S}=s,v=df(t),[y,b]=x.useState(null),[_,k]=x.useState(null),[E,P]=x.useState(!1),R=cd(f),[D,U]=Pn({prop:n,defaultProp:a??!1,onChange:o,caller:Yi}),[V,te]=Pn({prop:c,defaultProp:d,onChange:h,caller:Yi}),oe=x.useRef(null),K=y?S||!!y.closest("form"):!0,[ce,H]=x.useState(new Set),ve=Array.from(ce).map(ue=>ue.props.value).join(";");return e.jsx(Sg,{...v,children:e.jsxs(_$,{required:w,scope:t,trigger:y,onTriggerChange:b,valueNode:_,onValueNodeChange:k,valueNodeHasChildren:E,onValueNodeHasChildrenChange:P,contentId:rn(),value:V,onValueChange:te,open:D,onOpenChange:U,dir:R,triggerPointerDownPosRef:oe,disabled:j,children:[e.jsx(lf.Provider,{scope:t,children:e.jsx(S$,{scope:s.__scopeSelect,onNativeOptionAdd:x.useCallback(ue=>{H(Y=>new Set(Y).add(ue))},[]),onNativeOptionRemove:x.useCallback(ue=>{H(Y=>{const F=new Set(Y);return F.delete(ue),F})},[]),children:r})}),K?e.jsxs(h2,{"aria-hidden":!0,required:w,tabIndex:-1,name:m,autoComplete:p,value:V,onChange:ue=>te(ue.target.value),disabled:j,form:S,children:[V===void 0?e.jsx("option",{value:""}):null,Array.from(ce)]},ve):null]})})};Bk.displayName=Yi;var qk="SelectTrigger",Vk=x.forwardRef((s,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=s,o=df(r),c=ji(qk,r),d=c.disabled||n,h=ft(t,c.onTriggerChange),f=cf(r),m=x.useRef("touch"),[p,j,w]=m2(v=>{const y=f().filter(k=>!k.disabled),b=y.find(k=>k.value===c.value),_=p2(y,v,b);_!==void 0&&c.onValueChange(_.value)}),S=v=>{d||(c.onOpenChange(!0),w()),v&&(c.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return e.jsx(Jc,{asChild:!0,...o,children:e.jsx(Be.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":f2(c.value)?"":void 0,...a,ref:h,onClick:Se(a.onClick,v=>{v.currentTarget.focus(),m.current!=="mouse"&&S(v)}),onPointerDown:Se(a.onPointerDown,v=>{m.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:Se(a.onKeyDown,v=>{const y=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&j(v.key),!(y&&v.key===" ")&&w$.includes(v.key)&&(S(),v.preventDefault())})})})});Vk.displayName=qk;var Wk="SelectValue",Hk=x.forwardRef((s,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:c="",...d}=s,h=ji(Wk,r),{onValueNodeHasChildrenChange:f}=h,m=o!==void 0,p=ft(t,h.onValueNodeChange);return xs(()=>{f(m)},[f,m]),e.jsx(Be.span,{...d,ref:p,style:{pointerEvents:"none"},children:f2(h.value)?e.jsx(e.Fragment,{children:c}):o})});Hk.displayName=Wk;var C$="SelectIcon",Gk=x.forwardRef((s,t)=>{const{__scopeSelect:r,children:n,...a}=s;return e.jsx(Be.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});Gk.displayName=C$;var E$="SelectPortal",Kk=s=>e.jsx(vl,{asChild:!0,...s});Kk.displayName=E$;var Qi="SelectContent",Yk=x.forwardRef((s,t)=>{const r=ji(Qi,s.__scopeSelect),[n,a]=x.useState();if(xs(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?gl.createPortal(e.jsx(Qk,{scope:s.__scopeSelect,children:e.jsx(lf.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),o):null}return e.jsx(Zk,{...s,ref:t})});Yk.displayName=Qi;var jn=10,[Qk,wi]=_l(Qi),P$="SelectContentImpl",T$=hi("SelectContent.RemoveScroll"),Zk=x.forwardRef((s,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:c,side:d,sideOffset:h,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:j,collisionPadding:w,sticky:S,hideWhenDetached:v,avoidCollisions:y,...b}=s,_=ji(Qi,r),[k,E]=x.useState(null),[P,R]=x.useState(null),D=ft(t,ie=>E(ie)),[U,V]=x.useState(null),[te,oe]=x.useState(null),K=cf(r),[ce,H]=x.useState(!1),ve=x.useRef(!1);x.useEffect(()=>{if(k)return ef(k)},[k]),Xh();const ue=x.useCallback(ie=>{const[Te,...Ve]=K().map(_e=>_e.ref.current),[Ne]=Ve.slice(-1),$e=document.activeElement;for(const _e of ie)if(_e===$e||(_e?.scrollIntoView({block:"nearest"}),_e===Te&&P&&(P.scrollTop=0),_e===Ne&&P&&(P.scrollTop=P.scrollHeight),_e?.focus(),document.activeElement!==$e))return},[K,P]),Y=x.useCallback(()=>ue([U,k]),[ue,U,k]);x.useEffect(()=>{ce&&Y()},[ce,Y]);const{onOpenChange:F,triggerPointerDownPosRef:W}=_;x.useEffect(()=>{if(k){let ie={x:0,y:0};const Te=Ne=>{ie={x:Math.abs(Math.round(Ne.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(Ne.pageY)-(W.current?.y??0))}},Ve=Ne=>{ie.x<=10&&ie.y<=10?Ne.preventDefault():k.contains(Ne.target)||F(!1),document.removeEventListener("pointermove",Te),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[k,F,W]),x.useEffect(()=>{const ie=()=>F(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[F]);const[le,I]=m2(ie=>{const Te=K().filter($e=>!$e.disabled),Ve=Te.find($e=>$e.ref.current===document.activeElement),Ne=p2(Te,ie,Ve);Ne&&setTimeout(()=>Ne.ref.current.focus())}),X=x.useCallback((ie,Te,Ve)=>{const Ne=!ve.current&&!Ve;(_.value!==void 0&&_.value===Te||Ne)&&(V(ie),Ne&&(ve.current=!0))},[_.value]),ye=x.useCallback(()=>k?.focus(),[k]),me=x.useCallback((ie,Te,Ve)=>{const Ne=!ve.current&&!Ve;(_.value!==void 0&&_.value===Te||Ne)&&oe(ie)},[_.value]),Le=n==="popper"?Lx:Xk,qe=Le===Lx?{side:d,sideOffset:h,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:j,collisionPadding:w,sticky:S,hideWhenDetached:v,avoidCollisions:y}:{};return e.jsx(Qk,{scope:r,content:k,viewport:P,onViewportChange:R,itemRefCallback:X,selectedItem:U,onItemLeave:ye,itemTextRefCallback:me,focusSelectedItem:Y,selectedItemText:te,position:n,isPositioned:ce,searchRef:le,children:e.jsx(rd,{as:T$,allowPinchZoom:!0,children:e.jsx(sd,{asChild:!0,trapped:_.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Se(a,ie=>{_.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:e.jsx(ro,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:e.jsx(Le,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:ie=>ie.preventDefault(),...b,...qe,onPlaced:()=>H(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Se(b.onKeyDown,ie=>{const Te=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!Te&&ie.key.length===1&&I(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Ne=K().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const $e=ie.target,_e=Ne.indexOf($e);Ne=Ne.slice(_e+1)}setTimeout(()=>ue(Ne)),ie.preventDefault()}})})})})})})});Zk.displayName=P$;var R$="SelectItemAlignedPosition",Xk=x.forwardRef((s,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=s,o=ji(Qi,r),c=wi(Qi,r),[d,h]=x.useState(null),[f,m]=x.useState(null),p=ft(t,D=>m(D)),j=cf(r),w=x.useRef(!1),S=x.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:b,focusSelectedItem:_}=c,k=x.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&f&&v&&y&&b){const D=o.trigger.getBoundingClientRect(),U=f.getBoundingClientRect(),V=o.valueNode.getBoundingClientRect(),te=b.getBoundingClientRect();if(o.dir!=="rtl"){const $e=te.left-U.left,_e=V.left-$e,Xe=D.left-_e,pt=D.width+Xe,Et=Math.max(pt,U.width),Wt=window.innerWidth-jn,Zt=Ix(_e,[jn,Math.max(jn,Wt-Et)]);d.style.minWidth=pt+"px",d.style.left=Zt+"px"}else{const $e=U.right-te.right,_e=window.innerWidth-V.right-$e,Xe=window.innerWidth-D.right-_e,pt=D.width+Xe,Et=Math.max(pt,U.width),Wt=window.innerWidth-jn,Zt=Ix(_e,[jn,Math.max(jn,Wt-Et)]);d.style.minWidth=pt+"px",d.style.right=Zt+"px"}const oe=j(),K=window.innerHeight-jn*2,ce=v.scrollHeight,H=window.getComputedStyle(f),ve=parseInt(H.borderTopWidth,10),ue=parseInt(H.paddingTop,10),Y=parseInt(H.borderBottomWidth,10),F=parseInt(H.paddingBottom,10),W=ve+ue+ce+F+Y,le=Math.min(y.offsetHeight*5,W),I=window.getComputedStyle(v),X=parseInt(I.paddingTop,10),ye=parseInt(I.paddingBottom,10),me=D.top+D.height/2-jn,Le=K-me,qe=y.offsetHeight/2,ie=y.offsetTop+qe,Te=ve+ue+ie,Ve=W-Te;if(Te<=me){const $e=oe.length>0&&y===oe[oe.length-1].ref.current;d.style.bottom="0px";const _e=f.clientHeight-v.offsetTop-v.offsetHeight,Xe=Math.max(Le,qe+($e?ye:0)+_e+Y),pt=Te+Xe;d.style.height=pt+"px"}else{const $e=oe.length>0&&y===oe[0].ref.current;d.style.top="0px";const Xe=Math.max(me,ve+v.offsetTop+($e?X:0)+qe)+Ve;d.style.height=Xe+"px",v.scrollTop=Te-me+v.offsetTop}d.style.margin=`${jn}px 0`,d.style.minHeight=le+"px",d.style.maxHeight=K+"px",n?.(),requestAnimationFrame(()=>w.current=!0)}},[j,o.trigger,o.valueNode,d,f,v,y,b,o.dir,n]);xs(()=>k(),[k]);const[E,P]=x.useState();xs(()=>{f&&P(window.getComputedStyle(f).zIndex)},[f]);const R=x.useCallback(D=>{D&&S.current===!0&&(k(),_?.(),S.current=!1)},[k,_]);return e.jsx(D$,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:R,children:e.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:e.jsx(Be.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Xk.displayName=R$;var A$="SelectPopperPosition",Lx=x.forwardRef((s,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=jn,...o}=s,c=df(r);return e.jsx(qh,{...c,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lx.displayName=A$;var[D$,ov]=_l(Qi,{}),Fx="SelectViewport",Jk=x.forwardRef((s,t)=>{const{__scopeSelect:r,nonce:n,...a}=s,o=wi(Fx,r),c=ov(Fx,r),d=ft(t,o.onViewportChange),h=x.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(lf.Slot,{scope:r,children:e.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Se(a.onScroll,f=>{const m=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:j}=c;if(j?.current&&p){const w=Math.abs(h.current-m.scrollTop);if(w>0){const S=window.innerHeight-jn*2,v=parseFloat(p.style.minHeight),y=parseFloat(p.style.height),b=Math.max(v,y);if(b<S){const _=b+w,k=Math.min(S,_),E=_-k;p.style.height=k+"px",p.style.bottom==="0px"&&(m.scrollTop=E>0?E:0,p.style.justifyContent="flex-end")}}}h.current=m.scrollTop})})})]})});Jk.displayName=Fx;var e2="SelectGroup",[M$,O$]=_l(e2),I$=x.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=rn();return e.jsx(M$,{scope:r,id:a,children:e.jsx(Be.div,{role:"group","aria-labelledby":a,...n,ref:t})})});I$.displayName=e2;var t2="SelectLabel",s2=x.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=O$(t2,r);return e.jsx(Be.div,{id:a.id,...n,ref:t})});s2.displayName=t2;var mh="SelectItem",[L$,r2]=_l(mh),n2=x.forwardRef((s,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...c}=s,d=ji(mh,r),h=wi(mh,r),f=d.value===n,[m,p]=x.useState(o??""),[j,w]=x.useState(!1),S=ft(t,_=>h.itemRefCallback?.(_,n,a)),v=rn(),y=x.useRef("touch"),b=()=>{a||(d.onValueChange(n),d.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(L$,{scope:r,value:n,disabled:a,textId:v,isSelected:f,onItemTextChange:x.useCallback(_=>{p(k=>k||(_?.textContent??"").trim())},[]),children:e.jsx(lf.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:e.jsx(Be.div,{role:"option","aria-labelledby":v,"data-highlighted":j?"":void 0,"aria-selected":f&&j,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:S,onFocus:Se(c.onFocus,()=>w(!0)),onBlur:Se(c.onBlur,()=>w(!1)),onClick:Se(c.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Se(c.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Se(c.onPointerDown,_=>{y.current=_.pointerType}),onPointerMove:Se(c.onPointerMove,_=>{y.current=_.pointerType,a?h.onItemLeave?.():y.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(c.onPointerLeave,_=>{_.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Se(c.onKeyDown,_=>{h.searchRef?.current!==""&&_.key===" "||(b$.includes(_.key)&&b(),_.key===" "&&_.preventDefault())})})})})});n2.displayName=mh;var xc="SelectItemText",a2=x.forwardRef((s,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=s,c=ji(xc,r),d=wi(xc,r),h=r2(xc,r),f=k$(xc,r),[m,p]=x.useState(null),j=ft(t,b=>p(b),h.onItemTextChange,b=>d.itemTextRefCallback?.(b,h.value,h.disabled)),w=m?.textContent,S=x.useMemo(()=>e.jsx("option",{value:h.value,disabled:h.disabled,children:w},h.value),[h.disabled,h.value,w]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=f;return xs(()=>(v(S),()=>y(S)),[v,y,S]),e.jsxs(e.Fragment,{children:[e.jsx(Be.span,{id:h.textId,...o,ref:j}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?gl.createPortal(o.children,c.valueNode):null]})});a2.displayName=xc;var i2="SelectItemIndicator",o2=x.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s;return r2(i2,r).isSelected?e.jsx(Be.span,{"aria-hidden":!0,...n,ref:t}):null});o2.displayName=i2;var $x="SelectScrollUpButton",l2=x.forwardRef((s,t)=>{const r=wi($x,s.__scopeSelect),n=ov($x,s.__scopeSelect),[a,o]=x.useState(!1),c=ft(t,n.onScrollButtonChange);return xs(()=>{if(r.viewport&&r.isPositioned){let d=function(){const f=h.scrollTop>0;o(f)};const h=r.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),a?e.jsx(d2,{...s,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=r;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});l2.displayName=$x;var zx="SelectScrollDownButton",c2=x.forwardRef((s,t)=>{const r=wi(zx,s.__scopeSelect),n=ov(zx,s.__scopeSelect),[a,o]=x.useState(!1),c=ft(t,n.onScrollButtonChange);return xs(()=>{if(r.viewport&&r.isPositioned){let d=function(){const f=h.scrollHeight-h.clientHeight,m=Math.ceil(h.scrollTop)<f;o(m)};const h=r.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),a?e.jsx(d2,{...s,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=r;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});c2.displayName=zx;var d2=x.forwardRef((s,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=s,o=wi("SelectScrollButton",r),c=x.useRef(null),d=cf(r),h=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>h(),[h]),xs(()=>{d().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),e.jsx(Be.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Se(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Se(a.onPointerMove,()=>{o.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Se(a.onPointerLeave,()=>{h()})})}),F$="SelectSeparator",u2=x.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s;return e.jsx(Be.div,{"aria-hidden":!0,...n,ref:t})});u2.displayName=F$;var Ux="SelectArrow",$$=x.forwardRef((s,t)=>{const{__scopeSelect:r,...n}=s,a=df(r),o=ji(Ux,r),c=wi(Ux,r);return o.open&&c.position==="popper"?e.jsx(Vh,{...a,...n,ref:t}):null});$$.displayName=Ux;var z$="SelectBubbleInput",h2=x.forwardRef(({__scopeSelect:s,value:t,...r},n)=>{const a=x.useRef(null),o=ft(n,a),c=iv(t);return x.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==t&&m){const p=new Event("change",{bubbles:!0});m.call(d,t),d.dispatchEvent(p)}},[c,t]),e.jsx(Be.select,{...r,style:{...QN,...r.style},ref:o,defaultValue:t})});h2.displayName=z$;function f2(s){return s===""||s===void 0}function m2(s){const t=ps(s),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(c=>{const d=r.current+c;t(d),(function h(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>h(""),1e3))})(d)},[t]),o=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function p2(s,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=r?s.indexOf(r):-1;let c=U$(s,Math.max(o,0));a.length===1&&(c=c.filter(f=>f!==r));const h=c.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==r?h:void 0}function U$(s,t){return s.map((r,n)=>s[(t+n)%s.length])}var B$=Bk,x2=Vk,q$=Hk,V$=Gk,W$=Kk,g2=Yk,H$=Jk,v2=s2,y2=n2,G$=a2,K$=o2,j2=l2,w2=c2,b2=u2;const Yt=B$,Qt=q$,qt=x.forwardRef(({className:s,children:t,...r},n)=>e.jsxs(x2,{ref:n,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...r,children:[t,e.jsx(V$,{asChild:!0,children:e.jsx(rg,{className:"h-4 w-4 opacity-50"})})]}));qt.displayName=x2.displayName;const N2=x.forwardRef(({className:s,...t},r)=>e.jsx(j2,{ref:r,className:be("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(VP,{className:"h-4 w-4"})}));N2.displayName=j2.displayName;const _2=x.forwardRef(({className:s,...t},r)=>e.jsx(w2,{ref:r,className:be("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(rg,{className:"h-4 w-4"})}));_2.displayName=w2.displayName;const Vt=x.forwardRef(({className:s,children:t,position:r="popper",...n},a)=>e.jsx(W$,{children:e.jsxs(g2,{ref:a,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...n,children:[e.jsx(N2,{}),e.jsx(H$,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(_2,{})]})}));Vt.displayName=g2.displayName;const Y$=x.forwardRef(({className:s,...t},r)=>e.jsx(v2,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));Y$.displayName=v2.displayName;const Oe=x.forwardRef(({className:s,children:t,...r},n)=>e.jsxs(y2,{ref:n,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(K$,{children:e.jsx(Mh,{className:"h-4 w-4"})})}),e.jsx(G$,{children:t})]}));Oe.displayName=y2.displayName;const Q$=x.forwardRef(({className:s,...t},r)=>e.jsx(b2,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",s),...t}));Q$.displayName=b2.displayName;const oo={getAll:()=>L.from("events").select("*, categories(*)").eq("status","approved").order("created_at",{ascending:!1}),getById:s=>L.from("events").select("*, categories(*)").eq("id",s).single(),getByOrganizer:s=>L.from("events").select("*, categories(*), bookings(*)").eq("organizer_id",s).order("created_at",{ascending:!1}),create:s=>L.from("events").insert(s).select().single(),update:(s,t)=>L.from("events").update(t).eq("id",s).select().single(),delete:s=>L.from("events").delete().eq("id",s),search:s=>L.from("events").select("*, categories(*)").or(`title.ilike.%${s}%, description.ilike.%${s}%`).eq("status","approved").order("created_at",{ascending:!1})},ph={getAll:()=>L.from("services").select("*, categories(*)").eq("status","approved").order("created_at",{ascending:!1}),getById:s=>L.from("services").select("*, categories(*)").eq("id",s).single(),getByProvider:s=>L.from("services").select("*").eq("provider_id",s).order("created_at",{ascending:!1}),getByProviderWithStatus:(s,t)=>L.from("services").select("*").eq("provider_id",s).eq("status",t).order("created_at",{ascending:!1}),getProviderStats:async s=>{const[t,r]=await Promise.all([L.from("services").select("id, status").eq("provider_id",s),L.from("service_requests").select("id, status, negotiated_price").eq("provider_id",s)]);return{services:t,requests:r}},create:s=>L.from("services").insert(s).select().single(),update:(s,t)=>L.from("services").update(t).eq("id",s).select().single(),delete:s=>L.from("services").delete().eq("id",s),search:s=>L.from("services").select("*, categories(*)").or(`name.ilike.%${s}%, description.ilike.%${s}%`).eq("status","approved").order("created_at",{ascending:!1})},lv={getAll:()=>L.from("categories").select("*").order("name"),getById:s=>L.from("categories").select("*").eq("id",s).single(),create:s=>L.from("categories").insert(s).select().single(),update:(s,t)=>L.from("categories").update(t).eq("id",s).select().single(),delete:s=>L.from("categories").delete().eq("id",s)},Z$={getByUser:s=>L.from("bookings").select("*, events!fk_bookings_event_id(*)").eq("user_id",s).order("created_at",{ascending:!1}),getByEvent:s=>L.from("bookings").select("*").eq("event_id",s).order("created_at",{ascending:!1}),create:s=>L.from("bookings").insert(s).select().single(),update:(s,t)=>L.from("bookings").update(t).eq("id",s).select().single(),cancel:s=>L.from("bookings").update({status:"cancelled"}).eq("id",s).select().single()},X$={getByUserId:s=>L.from("profiles").select("*").eq("user_id",s).single(),update:(s,t)=>L.from("profiles").update(t).eq("user_id",s).select().single(),create:s=>L.from("profiles").insert(s).select().single()},J$={getByUserId:s=>L.from("user_wallets").select("*").eq("user_id",s).single(),getTransactions:s=>L.from("wallet_transactions").select("*").eq("user_id",s).order("created_at",{ascending:!1})},e8={getPointsByUserId:s=>L.from("loyalty_ledger").select("*").eq("user_id",s).order("created_at",{ascending:!1}),getTotalPoints:s=>L.from("loyalty_ledger").select("points").eq("user_id",s)},t8={getByEventId:s=>L.from("reviews").select("*").eq("event_id",s).order("created_at",{ascending:!1}),getByServiceId:s=>L.from("reviews").select("*").eq("service_id",s).order("created_at",{ascending:!1}),create:s=>L.from("reviews").insert(s).select().single()},s8={getByOrganizer:async s=>{const{data:t,error:r}=await L.from("events").select("*").eq("organizer_id",s);if(r)throw r;return t||[]},getById:async s=>{const{data:t,error:r}=await L.from("events").select("*, categories(*), profiles!events_organizer_id_fkey(*)").eq("id",s).single();if(r)throw r;return t}},r8={getByOrganizer:async s=>{const{data:t,error:r}=await L.from("bookings").select("*, events!fk_bookings_event_id!inner(*)").eq("events.organizer_id",s);if(r)throw r;return{data:t||[],error:null}},getByEvent:async s=>{const{data:t,error:r}=await L.from("bookings").select("*").eq("event_id",s).order("created_at",{ascending:!1});if(r)throw r;return{data:t||[],error:null}}},n8={},a8={},i8={getRegionGroups:async()=>{const{data:s,error:t}=await L.from("regional_groups").select("*").order("created_at",{ascending:!1});if(t)throw t;return s||[]},getEventGroups:async s=>{const{data:t,error:r}=await L.from("event_groups").select("*").eq("group_type","event");if(r)throw r;return t||[]}},o8=async()=>{const{data:s,error:t}=await L.from("categories").select("*");if(t)throw t;return s||[]},S2={getAll:()=>L.from("cities").select("*").eq("is_active",!0).order("name_ar"),getById:s=>L.from("cities").select("*").eq("id",s).single()},k2={getAll:()=>L.from("site_statistics").select("*").eq("is_active",!0).order("display_order"),updateStat:(s,t)=>L.from("site_statistics").update({stat_value_ar:t,stat_value_en:t,updated_at:new Date().toISOString()}).eq("stat_key",s)},cv={getByEntity:(s,t)=>L.from("rating_summaries").select("*").eq("entity_id",s).eq("entity_type",t).single(),getAllEventRatings:()=>L.from("rating_summaries").select("*").eq("entity_type","event")},qi={events:s8,bookings:r8,profiles:n8,services:a8,groups:i8,getCategories:o8,cities:S2,statistics:k2,ratings:cv,supabase:L},l8="/assets/hero-bg-BVKeMKvA.jpg",c8=()=>{const[s,t]=x.useState(""),[r,n]=x.useState(""),[a,o]=x.useState(""),[c,d]=x.useState([]),[h,f]=x.useState([]),[m,p]=x.useState([]),[j,w]=x.useState(!0);x.useEffect(()=>{(async()=>{try{w(!0);const[y,b,_]=await Promise.all([oo.getAll(),S2.getAll(),lv.getAll()]);if(y.data){const k=y.data.filter(E=>E.featured||E.current_attendees>0).slice(0,3);d(k)}b.data&&f(b.data),_.data&&p(_.data)}catch(y){console.error("Error fetching hero data:",y)}finally{w(!1)}})()},[]);const S=()=>{const v=new URLSearchParams;s&&v.append("city",s),r&&v.append("category",r),a&&v.append("date",a),window.location.href=`/explore?${v.toString()}`};return e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative h-[80vh] bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l8})`},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/60"}),e.jsx("div",{className:"relative container mx-auto px-4 h-full flex flex-col justify-center items-center text-center text-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:["اكتشف مغامرات",e.jsx("span",{className:"bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:" لا تُنسى"})]}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-white/90 max-w-2xl mx-auto",children:"انضم لأفضل الفعاليات والمغامرات في المملكة العربية السعودية واستمتع بتجارب استثنائية"}),e.jsx($,{className:"bg-white/10 dark:bg-primary/20 backdrop-blur-sm border-white/20 dark:border-primary/30 p-6 mb-8",children:e.jsx(B,{className:"p-0",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(Yt,{value:s,onValueChange:t,children:[e.jsx(qt,{className:"bg-white/90 dark:bg-card border-white/30 dark:border-border",children:e.jsx(Qt,{placeholder:"اختر المدينة"})}),e.jsx(Vt,{className:"bg-background z-50",children:h.map(v=>e.jsx(Oe,{value:v.id,children:v.name_ar},v.id))})]}),e.jsxs(Yt,{value:r,onValueChange:n,children:[e.jsx(qt,{className:"bg-white/90 dark:bg-card border-white/30 dark:border-border",children:e.jsx(Qt,{placeholder:"نوع الفعالية"})}),e.jsx(Vt,{className:"bg-background z-50",children:m.map(v=>e.jsx(Oe,{value:v.id,children:v.name_ar},v.id))})]}),e.jsx(Re,{type:"date",value:a,onChange:v=>o(v.target.value),className:"bg-white/90 dark:bg-card border-white/30 dark:border-border"}),e.jsxs(A,{onClick:S,className:"bg-primary hover:bg-primary-glow text-white font-semibold",children:[e.jsx(an,{className:"w-4 h-4 ml-2"}),"بحث"]})]})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(A,{size:"lg",className:"text-lg px-8 bg-primary hover:bg-primary-glow",asChild:!0,children:e.jsx(Fe,{to:"/explore",children:"استكشف الفعاليات"})}),e.jsx(A,{size:"lg",variant:"outline",className:"text-lg px-8 bg-white/10 dark:bg-primary/20 border-white/30 dark:border-primary/40 text-white hover:bg-white/20 dark:hover:bg-primary/30",asChild:!0,children:e.jsx(Fe,{to:"/services",children:"تصفح الخدمات"})})]})]})})]})})},d8=pl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ge({className:s,variant:t,...r}){return e.jsx("div",{className:be(d8({variant:t}),s),...r})}const uf=({title:s,description:t,icon:r=li,actionLabel:n,onAction:a,showRetry:o=!1,onRetry:c})=>e.jsx($,{className:"w-full",children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-16 px-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-6",children:e.jsx(r,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:s}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-md leading-relaxed",children:t}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o&&c&&e.jsxs(A,{variant:"outline",onClick:c,className:"flex items-center gap-2",children:[e.jsx(Wi,{className:"w-4 h-4"}),"إعادة المحاولة"]}),n&&a&&e.jsxs(A,{onClick:a,className:"flex items-center gap-2",children:[e.jsx(Cr,{className:"w-4 h-4"}),n]})]})]})}),u8=({title:s="جاري التحميل...",description:t="يرجى الانتظار بينما نقوم بتحميل البيانات"})=>e.jsx($,{className:"w-full",children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-16 px-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-6",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})}),e.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:s}),e.jsx("p",{className:"text-muted-foreground max-w-md leading-relaxed",children:t})]})}),h8=({title:s="حدث خطأ",description:t="عذراً، حدث خطأ أثناء تحميل البيانات. يرجى المحاولة مرة أخرى.",onRetry:r})=>e.jsx($,{className:"w-full border-destructive/20",children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-16 px-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mb-6",children:e.jsx(li,{className:"w-8 h-8 text-destructive"})}),e.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:s}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-md leading-relaxed",children:t}),r&&e.jsxs(A,{variant:"outline",onClick:r,className:"flex items-center gap-2",children:[e.jsx(Wi,{className:"w-4 h-4"}),"إعادة المحاولة"]})]})}),f8={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function m8(s,t){const r=s.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,s)}function p8(s,t){const r=s.rootNode();return t&&t(r)||r}function dv(s={}){let t,r,n,a,o=null,c=0,d=!1,h=!1,f=!1,m=!1;function p(H,ve){r=H;const{mergeOptions:ue,optionsAtMedia:Y}=ve,F=ue(f8,dv.globalOptions),W=ue(F,s);if(t=Y(W),r.scrollSnapList().length<=1)return;m=t.jump,n=!1,a=m8(r,t.delay);const{eventStore:le,ownerDocument:I}=r.internalEngine(),X=!!r.internalEngine().options.watchDrag,ye=p8(r,t.rootNode);le.add(I,"visibilitychange",b),X&&r.on("pointerDown",k),X&&!t.stopOnInteraction&&r.on("pointerUp",E),t.stopOnMouseEnter&&le.add(ye,"mouseenter",P),t.stopOnMouseEnter&&!t.stopOnInteraction&&le.add(ye,"mouseleave",R),t.stopOnFocusIn&&r.on("slideFocusStart",y),t.stopOnFocusIn&&!t.stopOnInteraction&&le.add(r.containerNode(),"focusout",v),t.playOnInit&&v()}function j(){r.off("pointerDown",k).off("pointerUp",E).off("slideFocusStart",y),y(),n=!0,d=!1}function w(){const{ownerWindow:H}=r.internalEngine();H.clearTimeout(c),c=H.setTimeout(oe,a[r.selectedScrollSnap()]),o=new Date().getTime(),r.emit("autoplay:timerset")}function S(){const{ownerWindow:H}=r.internalEngine();H.clearTimeout(c),c=0,o=null,r.emit("autoplay:timerstopped")}function v(){if(!n){if(_()){f=!0;return}d||r.emit("autoplay:play"),w(),d=!0}}function y(){n||(d&&r.emit("autoplay:stop"),S(),d=!1)}function b(){if(_())return f=d,y();f&&v()}function _(){const{ownerDocument:H}=r.internalEngine();return H.visibilityState==="hidden"}function k(){h||y()}function E(){h||v()}function P(){h=!0,y()}function R(){h=!1,v()}function D(H){typeof H<"u"&&(m=H),v()}function U(){d&&y()}function V(){d&&v()}function te(){return d}function oe(){const{index:H}=r.internalEngine(),ve=H.clone().add(1).get(),ue=r.scrollSnapList().length-1,Y=t.stopOnLastSnap&&ve===ue;if(r.canScrollNext()?r.scrollNext(m):r.scrollTo(0,m),r.emit("autoplay:select"),Y)return y();v()}function K(){if(!o)return null;const H=a[r.selectedScrollSnap()],ve=new Date().getTime()-o;return H-ve}return{name:"autoplay",options:s,init:p,destroy:j,play:D,stop:U,reset:V,isPlaying:te,timeUntilNext:K}}dv.globalOptions=void 0;function x8(s){return Object.prototype.toString.call(s)==="[object Object]"}function ub(s){return x8(s)||Array.isArray(s)}function g8(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function uv(s,t){const r=Object.keys(s),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(s.breakpoints||{})),o=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==o?!1:r.every(c=>{const d=s[c],h=t[c];return typeof d=="function"?`${d}`==`${h}`:!ub(d)||!ub(h)?d===h:uv(d,h)})}function hb(s){return s.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function v8(s,t){if(s.length!==t.length)return!1;const r=hb(s),n=hb(t);return r.every((a,o)=>{const c=n[o];return uv(a,c)})}function hv(s){return typeof s=="number"}function Bx(s){return typeof s=="string"}function hf(s){return typeof s=="boolean"}function fb(s){return Object.prototype.toString.call(s)==="[object Object]"}function us(s){return Math.abs(s)}function fv(s){return Math.sign(s)}function kc(s,t){return us(s-t)}function y8(s,t){if(s===0||t===0||us(s)<=us(t))return 0;const r=kc(us(s),us(t));return us(r/s)}function j8(s){return Math.round(s*100)/100}function Bc(s){return qc(s).map(Number)}function kn(s){return s[fd(s)]}function fd(s){return Math.max(0,s.length-1)}function mv(s,t){return t===fd(s)}function mb(s,t=0){return Array.from(Array(s),(r,n)=>t+n)}function qc(s){return Object.keys(s)}function C2(s,t){return[s,t].reduce((r,n)=>(qc(n).forEach(a=>{const o=r[a],c=n[a],d=fb(o)&&fb(c);r[a]=d?C2(o,c):c}),r),{})}function qx(s,t){return typeof t.MouseEvent<"u"&&s instanceof t.MouseEvent}function w8(s,t){const r={start:n,center:a,end:o};function n(){return 0}function a(h){return o(h)/2}function o(h){return t-h}function c(h,f){return Bx(s)?r[s](h):s(t,h,f)}return{measure:c}}function Vc(){let s=[];function t(a,o,c,d={passive:!0}){let h;if("addEventListener"in a)a.addEventListener(o,c,d),h=()=>a.removeEventListener(o,c,d);else{const f=a;f.addListener(c),h=()=>f.removeListener(c)}return s.push(h),n}function r(){s=s.filter(a=>a())}const n={add:t,clear:r};return n}function b8(s,t,r,n){const a=Vc(),o=1e3/60;let c=null,d=0,h=0;function f(){a.add(s,"visibilitychange",()=>{s.hidden&&S()})}function m(){w(),a.clear()}function p(y){if(!h)return;c||(c=y,r(),r());const b=y-c;for(c=y,d+=b;d>=o;)r(),d-=o;const _=d/o;n(_),h&&(h=t.requestAnimationFrame(p))}function j(){h||(h=t.requestAnimationFrame(p))}function w(){t.cancelAnimationFrame(h),c=null,d=0,h=0}function S(){c=null,d=0}return{init:f,destroy:m,start:j,stop:w,update:r,render:n}}function N8(s,t){const r=t==="rtl",n=s==="y",a=n?"y":"x",o=n?"x":"y",c=!n&&r?-1:1,d=m(),h=p();function f(S){const{height:v,width:y}=S;return n?v:y}function m(){return n?"top":r?"right":"left"}function p(){return n?"bottom":r?"left":"right"}function j(S){return S*c}return{scroll:a,cross:o,startEdge:d,endEdge:h,measureSize:f,direction:j}}function Zi(s=0,t=0){const r=us(s-t);function n(f){return f<s}function a(f){return f>t}function o(f){return n(f)||a(f)}function c(f){return o(f)?n(f)?s:t:f}function d(f){return r?f-r*Math.ceil((f-t)/r):f}return{length:r,max:t,min:s,constrain:c,reachedAny:o,reachedMax:a,reachedMin:n,removeOffset:d}}function E2(s,t,r){const{constrain:n}=Zi(0,s),a=s+1;let o=c(t);function c(j){return r?us((a+j)%a):n(j)}function d(){return o}function h(j){return o=c(j),p}function f(j){return m().set(d()+j)}function m(){return E2(s,d(),r)}const p={get:d,set:h,add:f,clone:m};return p}function _8(s,t,r,n,a,o,c,d,h,f,m,p,j,w,S,v,y,b,_){const{cross:k,direction:E}=s,P=["INPUT","SELECT","TEXTAREA"],R={passive:!1},D=Vc(),U=Vc(),V=Zi(50,225).constrain(w.measure(20)),te={mouse:300,touch:400},oe={mouse:500,touch:600},K=S?43:25;let ce=!1,H=0,ve=0,ue=!1,Y=!1,F=!1,W=!1;function le(_e){if(!_)return;function Xe(Et){(hf(_)||_(_e,Et))&&qe(Et)}const pt=t;D.add(pt,"dragstart",Et=>Et.preventDefault(),R).add(pt,"touchmove",()=>{},R).add(pt,"touchend",()=>{}).add(pt,"touchstart",Xe).add(pt,"mousedown",Xe).add(pt,"touchcancel",Te).add(pt,"contextmenu",Te).add(pt,"click",Ve,!0)}function I(){D.clear(),U.clear()}function X(){const _e=W?r:t;U.add(_e,"touchmove",ie,R).add(_e,"touchend",Te).add(_e,"mousemove",ie,R).add(_e,"mouseup",Te)}function ye(_e){const Xe=_e.nodeName||"";return P.includes(Xe)}function me(){return(S?oe:te)[W?"mouse":"touch"]}function Le(_e,Xe){const pt=p.add(fv(_e)*-1),Et=m.byDistance(_e,!S).distance;return S||us(_e)<V?Et:y&&Xe?Et*.5:m.byIndex(pt.get(),0).distance}function qe(_e){const Xe=qx(_e,n);W=Xe,F=S&&Xe&&!_e.buttons&&ce,ce=kc(a.get(),c.get())>=2,!(Xe&&_e.button!==0)&&(ye(_e.target)||(ue=!0,o.pointerDown(_e),f.useFriction(0).useDuration(0),a.set(c),X(),H=o.readPoint(_e),ve=o.readPoint(_e,k),j.emit("pointerDown")))}function ie(_e){if(!qx(_e,n)&&_e.touches.length>=2)return Te(_e);const pt=o.readPoint(_e),Et=o.readPoint(_e,k),Wt=kc(pt,H),Zt=kc(Et,ve);if(!Y&&!W&&(!_e.cancelable||(Y=Wt>Zt,!Y)))return Te(_e);const Ns=o.pointerMove(_e);Wt>v&&(F=!0),f.useFriction(.3).useDuration(.75),d.start(),a.add(E(Ns)),_e.preventDefault()}function Te(_e){const pt=m.byDistance(0,!1).index!==p.get(),Et=o.pointerUp(_e)*me(),Wt=Le(E(Et),pt),Zt=y8(Et,Wt),Ns=K-10*Zt,ls=b+Zt/50;Y=!1,ue=!1,U.clear(),f.useDuration(Ns).useFriction(ls),h.distance(Wt,!S),W=!1,j.emit("pointerUp")}function Ve(_e){F&&(_e.stopPropagation(),_e.preventDefault(),F=!1)}function Ne(){return ue}return{init:le,destroy:I,pointerDown:Ne}}function S8(s,t){let n,a;function o(p){return p.timeStamp}function c(p,j){const S=`client${(j||s.scroll)==="x"?"X":"Y"}`;return(qx(p,t)?p:p.touches[0])[S]}function d(p){return n=p,a=p,c(p)}function h(p){const j=c(p)-c(a),w=o(p)-o(n)>170;return a=p,w&&(n=p),j}function f(p){if(!n||!a)return 0;const j=c(a)-c(n),w=o(p)-o(n),S=o(p)-o(a)>170,v=j/w;return w&&!S&&us(v)>.1?v:0}return{pointerDown:d,pointerMove:h,pointerUp:f,readPoint:c}}function k8(){function s(r){const{offsetTop:n,offsetLeft:a,offsetWidth:o,offsetHeight:c}=r;return{top:n,right:a+o,bottom:n+c,left:a,width:o,height:c}}return{measure:s}}function C8(s){function t(n){return s*(n/100)}return{measure:t}}function E8(s,t,r,n,a,o,c){const d=[s].concat(n);let h,f,m=[],p=!1;function j(y){return a.measureSize(c.measure(y))}function w(y){if(!o)return;f=j(s),m=n.map(j);function b(_){for(const k of _){if(p)return;const E=k.target===s,P=n.indexOf(k.target),R=E?f:m[P],D=j(E?s:n[P]);if(us(D-R)>=.5){y.reInit(),t.emit("resize");break}}}h=new ResizeObserver(_=>{(hf(o)||o(y,_))&&b(_)}),r.requestAnimationFrame(()=>{d.forEach(_=>h.observe(_))})}function S(){p=!0,h&&h.disconnect()}return{init:w,destroy:S}}function P8(s,t,r,n,a,o){let c=0,d=0,h=a,f=o,m=s.get(),p=0;function j(){const R=n.get()-s.get(),D=!h;let U=0;return D?(c=0,r.set(n),s.set(n),U=R):(r.set(s),c+=R/h,c*=f,m+=c,s.add(c),U=m-p),d=fv(U),p=m,P}function w(){const R=n.get()-t.get();return us(R)<.001}function S(){return h}function v(){return d}function y(){return c}function b(){return k(a)}function _(){return E(o)}function k(R){return h=R,P}function E(R){return f=R,P}const P={direction:v,duration:S,velocity:y,seek:j,settled:w,useBaseFriction:_,useBaseDuration:b,useFriction:E,useDuration:k};return P}function T8(s,t,r,n,a){const o=a.measure(10),c=a.measure(50),d=Zi(.1,.99);let h=!1;function f(){return!(h||!s.reachedAny(r.get())||!s.reachedAny(t.get()))}function m(w){if(!f())return;const S=s.reachedMin(t.get())?"min":"max",v=us(s[S]-t.get()),y=r.get()-t.get(),b=d.constrain(v/c);r.subtract(y*b),!w&&us(y)<o&&(r.set(s.constrain(r.get())),n.useDuration(25).useBaseFriction())}function p(w){h=!w}return{shouldConstrain:f,constrain:m,toggleActive:p}}function R8(s,t,r,n,a){const o=Zi(-t+s,0),c=p(),d=m(),h=j();function f(S,v){return kc(S,v)<=1}function m(){const S=c[0],v=kn(c),y=c.lastIndexOf(S),b=c.indexOf(v)+1;return Zi(y,b)}function p(){return r.map((S,v)=>{const{min:y,max:b}=o,_=o.constrain(S),k=!v,E=mv(r,v);return k?b:E||f(y,_)?y:f(b,_)?b:_}).map(S=>parseFloat(S.toFixed(3)))}function j(){if(t<=s+a)return[o.max];if(n==="keepSnaps")return c;const{min:S,max:v}=d;return c.slice(S,v)}return{snapsContained:h,scrollContainLimit:d}}function A8(s,t,r){const n=t[0],a=r?n-s:kn(t);return{limit:Zi(a,n)}}function D8(s,t,r,n){const o=t.min+.1,c=t.max+.1,{reachedMin:d,reachedMax:h}=Zi(o,c);function f(j){return j===1?h(r.get()):j===-1?d(r.get()):!1}function m(j){if(!f(j))return;const w=s*(j*-1);n.forEach(S=>S.add(w))}return{loop:m}}function M8(s){const{max:t,length:r}=s;function n(o){const c=o-t;return r?c/-r:0}return{get:n}}function O8(s,t,r,n,a){const{startEdge:o,endEdge:c}=s,{groupSlides:d}=a,h=p().map(t.measure),f=j(),m=w();function p(){return d(n).map(v=>kn(v)[c]-v[0][o]).map(us)}function j(){return n.map(v=>r[o]-v[o]).map(v=>-us(v))}function w(){return d(f).map(v=>v[0]).map((v,y)=>v+h[y])}return{snaps:f,snapsAligned:m}}function I8(s,t,r,n,a,o){const{groupSlides:c}=a,{min:d,max:h}=n,f=m();function m(){const j=c(o),w=!s||t==="keepSnaps";return r.length===1?[o]:w?j:j.slice(d,h).map((S,v,y)=>{const b=!v,_=mv(y,v);if(b){const k=kn(y[0])+1;return mb(k)}if(_){const k=fd(o)-kn(y)[0]+1;return mb(k,kn(y)[0])}return S})}return{slideRegistry:f}}function L8(s,t,r,n,a){const{reachedAny:o,removeOffset:c,constrain:d}=n;function h(S){return S.concat().sort((v,y)=>us(v)-us(y))[0]}function f(S){const v=s?c(S):d(S),y=t.map((_,k)=>({diff:m(_-v,0),index:k})).sort((_,k)=>us(_.diff)-us(k.diff)),{index:b}=y[0];return{index:b,distance:v}}function m(S,v){const y=[S,S+r,S-r];if(!s)return S;if(!v)return h(y);const b=y.filter(_=>fv(_)===v);return b.length?h(b):kn(y)-r}function p(S,v){const y=t[S]-a.get(),b=m(y,v);return{index:S,distance:b}}function j(S,v){const y=a.get()+S,{index:b,distance:_}=f(y),k=!s&&o(y);if(!v||k)return{index:b,distance:S};const E=t[b]-_,P=S+m(E,0);return{index:b,distance:P}}return{byDistance:j,byIndex:p,shortcut:m}}function F8(s,t,r,n,a,o,c){function d(p){const j=p.distance,w=p.index!==t.get();o.add(j),j&&(n.duration()?s.start():(s.update(),s.render(1),s.update())),w&&(r.set(t.get()),t.set(p.index),c.emit("select"))}function h(p,j){const w=a.byDistance(p,j);d(w)}function f(p,j){const w=t.clone().set(p),S=a.byIndex(w.get(),j);d(S)}return{distance:h,index:f}}function $8(s,t,r,n,a,o,c,d){const h={passive:!0,capture:!0};let f=0;function m(w){if(!d)return;function S(v){if(new Date().getTime()-f>10)return;c.emit("slideFocusStart"),s.scrollLeft=0;const _=r.findIndex(k=>k.includes(v));hv(_)&&(a.useDuration(0),n.index(_,0),c.emit("slideFocus"))}o.add(document,"keydown",p,!1),t.forEach((v,y)=>{o.add(v,"focus",b=>{(hf(d)||d(w,b))&&S(y)},h)})}function p(w){w.code==="Tab"&&(f=new Date().getTime())}return{init:m}}function gc(s){let t=s;function r(){return t}function n(h){t=c(h)}function a(h){t+=c(h)}function o(h){t-=c(h)}function c(h){return hv(h)?h:h.get()}return{get:r,set:n,add:a,subtract:o}}function P2(s,t){const r=s.scroll==="x"?c:d,n=t.style;let a=null,o=!1;function c(j){return`translate3d(${j}px,0px,0px)`}function d(j){return`translate3d(0px,${j}px,0px)`}function h(j){if(o)return;const w=j8(s.direction(j));w!==a&&(n.transform=r(w),a=w)}function f(j){o=!j}function m(){o||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:m,to:h,toggleActive:f}}function z8(s,t,r,n,a,o,c,d,h){const m=Bc(a),p=Bc(a).reverse(),j=b().concat(_());function w(D,U){return D.reduce((V,te)=>V-a[te],U)}function S(D,U){return D.reduce((V,te)=>w(V,U)>0?V.concat([te]):V,[])}function v(D){return o.map((U,V)=>({start:U-n[V]+.5+D,end:U+t-.5+D}))}function y(D,U,V){const te=v(U);return D.map(oe=>{const K=V?0:-r,ce=V?r:0,H=V?"end":"start",ve=te[oe][H];return{index:oe,loopPoint:ve,slideLocation:gc(-1),translate:P2(s,h[oe]),target:()=>d.get()>ve?K:ce}})}function b(){const D=c[0],U=S(p,D);return y(U,r,!1)}function _(){const D=t-c[0]-1,U=S(m,D);return y(U,-r,!0)}function k(){return j.every(({index:D})=>{const U=m.filter(V=>V!==D);return w(U,t)<=.1})}function E(){j.forEach(D=>{const{target:U,translate:V,slideLocation:te}=D,oe=U();oe!==te.get()&&(V.to(oe),te.set(oe))})}function P(){j.forEach(D=>D.translate.clear())}return{canLoop:k,clear:P,loop:E,loopPoints:j}}function U8(s,t,r){let n,a=!1;function o(h){if(!r)return;function f(m){for(const p of m)if(p.type==="childList"){h.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(m=>{a||(hf(r)||r(h,m))&&f(m)}),n.observe(s,{childList:!0})}function c(){n&&n.disconnect(),a=!0}return{init:o,destroy:c}}function B8(s,t,r,n){const a={};let o=null,c=null,d,h=!1;function f(){d=new IntersectionObserver(S=>{h||(S.forEach(v=>{const y=t.indexOf(v.target);a[y]=v}),o=null,c=null,r.emit("slidesInView"))},{root:s.parentElement,threshold:n}),t.forEach(S=>d.observe(S))}function m(){d&&d.disconnect(),h=!0}function p(S){return qc(a).reduce((v,y)=>{const b=parseInt(y),{isIntersecting:_}=a[b];return(S&&_||!S&&!_)&&v.push(b),v},[])}function j(S=!0){if(S&&o)return o;if(!S&&c)return c;const v=p(S);return S&&(o=v),S||(c=v),v}return{init:f,destroy:m,get:j}}function q8(s,t,r,n,a,o){const{measureSize:c,startEdge:d,endEdge:h}=s,f=r[0]&&a,m=S(),p=v(),j=r.map(c),w=y();function S(){if(!f)return 0;const _=r[0];return us(t[d]-_[d])}function v(){if(!f)return 0;const _=o.getComputedStyle(kn(n));return parseFloat(_.getPropertyValue(`margin-${h}`))}function y(){return r.map((_,k,E)=>{const P=!k,R=mv(E,k);return P?j[k]+m:R?j[k]+p:E[k+1][d]-_[d]}).map(us)}return{slideSizes:j,slideSizesWithGaps:w,startGap:m,endGap:p}}function V8(s,t,r,n,a,o,c,d,h){const{startEdge:f,endEdge:m,direction:p}=s,j=hv(r);function w(b,_){return Bc(b).filter(k=>k%_===0).map(k=>b.slice(k,k+_))}function S(b){return b.length?Bc(b).reduce((_,k,E)=>{const P=kn(_)||0,R=P===0,D=k===fd(b),U=a[f]-o[P][f],V=a[f]-o[k][m],te=!n&&R?p(c):0,oe=!n&&D?p(d):0,K=us(V-oe-(U+te));return E&&K>t+h&&_.push(k),D&&_.push(b.length),_},[]).map((_,k,E)=>{const P=Math.max(E[k-1]||0);return b.slice(P,_)}):[]}function v(b){return j?w(b,r):S(b)}return{groupSlides:v}}function W8(s,t,r,n,a,o,c){const{align:d,axis:h,direction:f,startIndex:m,loop:p,duration:j,dragFree:w,dragThreshold:S,inViewThreshold:v,slidesToScroll:y,skipSnaps:b,containScroll:_,watchResize:k,watchSlides:E,watchDrag:P,watchFocus:R}=o,D=2,U=k8(),V=U.measure(t),te=r.map(U.measure),oe=N8(h,f),K=oe.measureSize(V),ce=C8(K),H=w8(d,K),ve=!p&&!!_,ue=p||!!_,{slideSizes:Y,slideSizesWithGaps:F,startGap:W,endGap:le}=q8(oe,V,te,r,ue,a),I=V8(oe,K,y,p,V,te,W,le,D),{snaps:X,snapsAligned:ye}=O8(oe,H,V,te,I),me=-kn(X)+kn(F),{snapsContained:Le,scrollContainLimit:qe}=R8(K,me,ye,_,D),ie=ve?Le:ye,{limit:Te}=A8(me,ie,p),Ve=E2(fd(ie),m,p),Ne=Ve.clone(),$e=Bc(r),_e=({dragHandler:Ht,scrollBody:Jt,scrollBounds:Gr,options:{loop:Ws}})=>{Ws||Gr.constrain(Ht.pointerDown()),Jt.seek()},Xe=({scrollBody:Ht,translate:Jt,location:Gr,offsetLocation:Ws,previousLocation:Hs,scrollLooper:In,slideLooper:Gs,dragHandler:cn,animation:Kr,eventHandler:dn,scrollBounds:Ln,options:{loop:Mr}},ir)=>{const Zs=Ht.settled(),ee=!Ln.shouldConstrain(),pe=Mr?Zs:Zs&&ee,Ye=pe&&!cn.pointerDown();Ye&&Kr.stop();const at=Gr.get()*ir+Hs.get()*(1-ir);Ws.set(at),Mr&&(In.loop(Ht.direction()),Gs.loop()),Jt.to(Ws.get()),Ye&&dn.emit("settle"),pe||dn.emit("scroll")},pt=b8(n,a,()=>_e(Xt),Ht=>Xe(Xt,Ht)),Et=.68,Wt=ie[Ve.get()],Zt=gc(Wt),Ns=gc(Wt),ls=gc(Wt),O=gc(Wt),G=P8(Zt,ls,Ns,O,j,Et),ae=L8(p,ie,me,Te,O),ke=F8(pt,Ve,Ne,G,ae,O,c),Ce=M8(Te),je=Vc(),ne=B8(t,r,c,v),{slideRegistry:Ie}=I8(ve,_,ie,qe,I,$e),mt=$8(s,r,Ie,ke,G,je,c,R),Xt={ownerDocument:n,ownerWindow:a,eventHandler:c,containerRect:V,slideRects:te,animation:pt,axis:oe,dragHandler:_8(oe,s,n,a,O,S8(oe,a),Zt,pt,ke,G,ae,Ve,c,ce,w,S,b,Et,P),eventStore:je,percentOfView:ce,index:Ve,indexPrevious:Ne,limit:Te,location:Zt,offsetLocation:ls,previousLocation:Ns,options:o,resizeHandler:E8(t,c,a,r,oe,k,U),scrollBody:G,scrollBounds:T8(Te,ls,O,G,ce),scrollLooper:D8(me,Te,ls,[Zt,ls,Ns,O]),scrollProgress:Ce,scrollSnapList:ie.map(Ce.get),scrollSnaps:ie,scrollTarget:ae,scrollTo:ke,slideLooper:z8(oe,K,me,Y,F,X,ie,ls,r),slideFocus:mt,slidesHandler:U8(t,c,E),slidesInView:ne,slideIndexes:$e,slideRegistry:Ie,slidesToScroll:I,target:O,translate:P2(oe,t)};return Xt}function H8(){let s={},t;function r(f){t=f}function n(f){return s[f]||[]}function a(f){return n(f).forEach(m=>m(t,f)),h}function o(f,m){return s[f]=n(f).concat([m]),h}function c(f,m){return s[f]=n(f).filter(p=>p!==m),h}function d(){s={}}const h={init:r,emit:a,off:c,on:o,clear:d};return h}const G8={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function K8(s){function t(o,c){return C2(o,c||{})}function r(o){const c=o.breakpoints||{},d=qc(c).filter(h=>s.matchMedia(h).matches).map(h=>c[h]).reduce((h,f)=>t(h,f),{});return t(o,d)}function n(o){return o.map(c=>qc(c.breakpoints||{})).reduce((c,d)=>c.concat(d),[]).map(s.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function Y8(s){let t=[];function r(o,c){return t=c.filter(({options:d})=>s.optionsAtMedia(d).active!==!1),t.forEach(d=>d.init(o,s)),c.reduce((d,h)=>Object.assign(d,{[h.name]:h}),{})}function n(){t=t.filter(o=>o.destroy())}return{init:r,destroy:n}}function xh(s,t,r){const n=s.ownerDocument,a=n.defaultView,o=K8(a),c=Y8(o),d=Vc(),h=H8(),{mergeOptions:f,optionsAtMedia:m,optionsMediaQueries:p}=o,{on:j,off:w,emit:S}=h,v=oe;let y=!1,b,_=f(G8,xh.globalOptions),k=f(_),E=[],P,R,D;function U(){const{container:$e,slides:_e}=k;R=(Bx($e)?s.querySelector($e):$e)||s.children[0];const pt=Bx(_e)?R.querySelectorAll(_e):_e;D=[].slice.call(pt||R.children)}function V($e){const _e=W8(s,R,D,n,a,$e,h);if($e.loop&&!_e.slideLooper.canLoop()){const Xe=Object.assign({},$e,{loop:!1});return V(Xe)}return _e}function te($e,_e){y||(_=f(_,$e),k=m(_),E=_e||E,U(),b=V(k),p([_,...E.map(({options:Xe})=>Xe)]).forEach(Xe=>d.add(Xe,"change",oe)),k.active&&(b.translate.to(b.location.get()),b.animation.init(),b.slidesInView.init(),b.slideFocus.init(Ne),b.eventHandler.init(Ne),b.resizeHandler.init(Ne),b.slidesHandler.init(Ne),b.options.loop&&b.slideLooper.loop(),R.offsetParent&&D.length&&b.dragHandler.init(Ne),P=c.init(Ne,E)))}function oe($e,_e){const Xe=I();K(),te(f({startIndex:Xe},$e),_e),h.emit("reInit")}function K(){b.dragHandler.destroy(),b.eventStore.clear(),b.translate.clear(),b.slideLooper.clear(),b.resizeHandler.destroy(),b.slidesHandler.destroy(),b.slidesInView.destroy(),b.animation.destroy(),c.destroy(),d.clear()}function ce(){y||(y=!0,d.clear(),K(),h.emit("destroy"),h.clear())}function H($e,_e,Xe){!k.active||y||(b.scrollBody.useBaseFriction().useDuration(_e===!0?0:k.duration),b.scrollTo.index($e,Xe||0))}function ve($e){const _e=b.index.add(1).get();H(_e,$e,-1)}function ue($e){const _e=b.index.add(-1).get();H(_e,$e,1)}function Y(){return b.index.add(1).get()!==I()}function F(){return b.index.add(-1).get()!==I()}function W(){return b.scrollSnapList}function le(){return b.scrollProgress.get(b.offsetLocation.get())}function I(){return b.index.get()}function X(){return b.indexPrevious.get()}function ye(){return b.slidesInView.get()}function me(){return b.slidesInView.get(!1)}function Le(){return P}function qe(){return b}function ie(){return s}function Te(){return R}function Ve(){return D}const Ne={canScrollNext:Y,canScrollPrev:F,containerNode:Te,internalEngine:qe,destroy:ce,off:w,on:j,emit:S,plugins:Le,previousScrollSnap:X,reInit:v,rootNode:ie,scrollNext:ve,scrollPrev:ue,scrollProgress:le,scrollSnapList:W,scrollTo:H,selectedScrollSnap:I,slideNodes:Ve,slidesInView:ye,slidesNotInView:me};return te(t,r),setTimeout(()=>h.emit("init"),0),Ne}xh.globalOptions=void 0;function pv(s={},t=[]){const r=x.useRef(s),n=x.useRef(t),[a,o]=x.useState(),[c,d]=x.useState(),h=x.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return x.useEffect(()=>{uv(r.current,s)||(r.current=s,h())},[s,h]),x.useEffect(()=>{v8(n.current,t)||(n.current=t,h())},[t,h]),x.useEffect(()=>{if(g8()&&c){xh.globalOptions=pv.globalOptions;const f=xh(c,r.current,n.current);return o(f),()=>f.destroy()}else o(void 0)},[c,o]),[d,a]}pv.globalOptions=void 0;const T2=x.createContext(null);function ff(){const s=x.useContext(T2);if(!s)throw new Error("useCarousel must be used within a <Carousel />");return s}const mf=x.forwardRef(({orientation:s="horizontal",opts:t,setApi:r,plugins:n,className:a,children:o,...c},d)=>{const[h,f]=pv({...t,axis:s==="horizontal"?"x":"y"},n),[m,p]=x.useState(!1),[j,w]=x.useState(!1),S=x.useCallback(_=>{_&&(p(_.canScrollPrev()),w(_.canScrollNext()))},[]),v=x.useCallback(()=>{f?.scrollPrev()},[f]),y=x.useCallback(()=>{f?.scrollNext()},[f]),b=x.useCallback(_=>{_.key==="ArrowLeft"?(_.preventDefault(),v()):_.key==="ArrowRight"&&(_.preventDefault(),y())},[v,y]);return x.useEffect(()=>{!f||!r||r(f)},[f,r]),x.useEffect(()=>{if(f)return S(f),f.on("reInit",S),f.on("select",S),()=>{f?.off("select",S)}},[f,S]),e.jsx(T2.Provider,{value:{carouselRef:h,api:f,opts:t,orientation:s||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:y,canScrollPrev:m,canScrollNext:j},children:e.jsx("div",{ref:d,onKeyDownCapture:b,className:be("relative",a),role:"region","aria-roledescription":"carousel",...c,children:o})})});mf.displayName="Carousel";const pf=x.forwardRef(({className:s,...t},r)=>{const{carouselRef:n,orientation:a}=ff();return e.jsx("div",{ref:n,className:"overflow-hidden",children:e.jsx("div",{ref:r,className:be("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",s),...t})})});pf.displayName="CarouselContent";const xf=x.forwardRef(({className:s,...t},r)=>{const{orientation:n}=ff();return e.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:be("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",s),...t})});xf.displayName="CarouselItem";const gf=x.forwardRef(({className:s,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:o,scrollPrev:c,canScrollPrev:d}=ff();return e.jsxs(A,{ref:a,variant:t,size:r,className:be("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!d,onClick:c,...n,children:[e.jsx(Dh,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Previous slide"})]})});gf.displayName="CarouselPrevious";const vf=x.forwardRef(({className:s,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:o,scrollNext:c,canScrollNext:d}=ff();return e.jsxs(A,{ref:a,variant:t,size:r,className:be("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!d,onClick:c,...n,children:[e.jsx(eh,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Next slide"})]})});vf.displayName="CarouselNext";const Q8="/assets/mountain-BFztxZIW.jpg",Z8="/assets/waves-DmylSA0f.jpg",pb="/assets/camping-CQrKNgrw.jpg",X8="/assets/biking-C-yuO0fl.jpg",J8="/assets/desert-sZjqn6tw.jpg",ez="/assets/beach-Dso63Bjj.jpg",tz="/assets/snow-Dp_qdpF_.jpg",sz="/assets/hiking-DPgF5Xwe.jpg",rz="/assets/forest-Bsc1t1h8.jpg",xb="/assets/offroad-V4I4jI6d.jpg",gb="/assets/airsports-C0cX7ju6.jpg",nz="/assets/kayaking-BAl5UUS4.jpg",az="/assets/climbing-C63le-5N.jpg",vb="/assets/safari-DKJncaW1.jpg",iz="/assets/cave-bdpzzHRK.jpg",oz="/assets/archery-LdiFYn0z.jpg",gh={Mountain:og,Waves:DN,Tent:_N,Bike:cN,TreePine:CN,Zap:cg,Car:dN,Wind:MN,Compass:hN,Trophy:jc,Palmtree:kN,Plane:jN,Footprints:xN,Flame:pN,Camera:Vi,Target:NN,Anchor:iN,Snowflake:bN,Sun:th,Leaf:vN},lz=s=>{const t=s.toLowerCase();return t.includes("جبل")||t.includes("تسلق")?og:t.includes("بحر")||t.includes("غوص")||t.includes("سباحة")?DN:t.includes("تخييم")||t.includes("خيمة")?_N:t.includes("دراج")||t.includes("سيكل")?cN:t.includes("غاب")||t.includes("طبيعة")?CN:t.includes("سرع")||t.includes("قيادة")?cg:t.includes("سيارة")||t.includes("طرق")?dN:t.includes("رياح")||t.includes("طيران")?MN:t.includes("استكشاف")||t.includes("مغامرة")?hN:t.includes("صحراء")||t.includes("رمل")?th:t.includes("ثلج")||t.includes("تزلج")?bN:t.includes("شاطئ")||t.includes("نخل")?kN:t.includes("طيران")||t.includes("سفر")?jN:t.includes("مشي")||t.includes("رحلة")?xN:t.includes("نار")||t.includes("شواء")?pN:t.includes("تصوير")||t.includes("صور")?Vi:t.includes("رماية")||t.includes("هدف")?NN:t.includes("قارب")||t.includes("بحرية")?iN:t.includes("زراع")||t.includes("أخضر")?vN:jc},cz=s=>{const t=s.toLowerCase();return t.includes("جبل")||t.includes("تسلق")?"bg-slate-500":t.includes("بحر")||t.includes("غوص")||t.includes("سباحة")?"bg-blue-500":t.includes("تخييم")||t.includes("خيمة")?"bg-green-600":t.includes("دراج")||t.includes("سيكل")?"bg-orange-500":t.includes("غاب")||t.includes("طبيعة")?"bg-emerald-600":t.includes("سرع")||t.includes("قيادة")?"bg-yellow-500":t.includes("سيارة")||t.includes("طرق")?"bg-gray-600":t.includes("رياح")||t.includes("طيران")?"bg-sky-400":t.includes("استكشاف")||t.includes("مغامرة")?"bg-purple-500":t.includes("صحراء")||t.includes("رمل")?"bg-amber-500":t.includes("ثلج")||t.includes("تزلج")?"bg-cyan-400":t.includes("شاطئ")||t.includes("نخل")?"bg-teal-500":t.includes("طيران")||t.includes("سفر")?"bg-indigo-500":t.includes("مشي")||t.includes("رحلة")?"bg-lime-600":t.includes("نار")||t.includes("شواء")?"bg-red-500":t.includes("تصوير")||t.includes("صور")?"bg-pink-500":t.includes("رماية")||t.includes("هدف")?"bg-rose-600":t.includes("قارب")||t.includes("بحرية")?"bg-blue-600":t.includes("زراع")||t.includes("أخضر")?"bg-green-500":"bg-primary"},dz=s=>{const t=s.toLowerCase();return t.includes("جبل")||t.includes("تسلق")||t.includes("صعود")?az:t.includes("بحر")||t.includes("غوص")||t.includes("سباحة")||t.includes("ماء")?Z8:t.includes("قارب")||t.includes("بحرية")||t.includes("تجديف")||t.includes("كاياك")?nz:t.includes("تخييم")||t.includes("خيمة")||t.includes("مخيم")?pb:t.includes("دراج")||t.includes("سيكل")||t.includes("هوائي")?X8:t.includes("صحراء")||t.includes("رمل")||t.includes("كثبان")?J8:t.includes("سفاري")||t.includes("حيوانات")||t.includes("برية")?vb:t.includes("ثلج")||t.includes("تزلج")||t.includes("شتاء")?tz:t.includes("شاطئ")||t.includes("نخل")||t.includes("ساحل")?ez:t.includes("مشي")||t.includes("رحلة")||t.includes("تنزه")||t.includes("سير")?sz:t.includes("غاب")||t.includes("طبيعة")||t.includes("أشجار")||t.includes("حرجي")?rz:t.includes("سرع")||t.includes("قيادة")||t.includes("سباق")||t.includes("رالي")||t.includes("سيارة")||t.includes("طرق")||t.includes("دفع رباعي")?xb:t.includes("رياح")||t.includes("طيران")||t.includes("هواء")||t.includes("شراع")||t.includes("مظل")||t.includes("قفز")||t.includes("طائر")?gb:t.includes("استكشاف")||t.includes("مغامرة")||t.includes("اكتشاف")?vb:t.includes("نار")||t.includes("شواء")||t.includes("طبخ")?pb:t.includes("رماية")||t.includes("هدف")||t.includes("نشاب")||t.includes("قوس")?oz:t.includes("كهف")||t.includes("مغار")||t.includes("كهوف")?iz:Q8},uz=()=>{const[s,t]=x.useState([]),[r,n]=x.useState([]),[a,o]=x.useState(!0),[c,d]=x.useState(null),h=x.useRef(dv({delay:3e3,stopOnInteraction:!1})),f=async()=>{try{o(!0),d(null);const[p,j,w]=await Promise.all([lv.getAll(),k2.getAll(),oo.getAll()]);if(p.error)throw p.error;if(j.error)throw j.error;if(w.error)throw w.error;const S=w.data||[],v=(p.data||[]).map(y=>{const b=S.filter(_=>_.category_id===y.id).length;return{...y,event_count:b}});t(v),n(j.data||[])}catch(p){console.error("Error fetching data:",p),d(p instanceof Error?p.message:"حدث خطأ في تحميل البيانات")}finally{o(!1)}};x.useEffect(()=>{f()},[]);const m=(p,j)=>p&&gh[p]?gh[p]:j?lz(j):jc;return a?e.jsx("div",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"تصنيفات المغامرات"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"اكتشف مجموعة متنوعة من الأنشطة والمغامرات التي تناسب جميع المستويات والاهتمامات"})]}),e.jsx(u8,{title:"جاري تحميل التصنيفات...",description:"يرجى الانتظار بينما نقوم بتحميل جميع تصنيفات المغامرات المتاحة"})]})}):c?e.jsx("div",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"تصنيفات المغامرات"})}),e.jsx(h8,{title:"خطأ في تحميل التصنيفات",description:c,onRetry:f})]})}):s.length===0?e.jsx("div",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"تصنيفات المغامرات"})}),e.jsx(uf,{icon:jc,title:"لا توجد تصنيفات متاحة حالياً",description:"لم نتمكن من العثور على أي تصنيفات للمغامرات في الوقت الحالي. يرجى المحاولة مرة أخرى لاحقاً أو تصفح الفعاليات مباشرة.",actionLabel:"تصفح الفعاليات",onAction:()=>window.location.href="/explore",showRetry:!0,onRetry:f})]})}):e.jsx("div",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"تصنيفات المغامرات"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"اكتشف مجموعة متنوعة من الأنشطة والمغامرات التي تناسب جميع المستويات والاهتمامات"})]}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 mb-12",children:s.map(p=>{const j=m(p.icon_name,p.name_ar),w=cz(p.name_ar);return e.jsx(Fe,{to:`/explore?category=${p.id}`,className:"group",children:e.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg hover:bg-muted/50 smooth-transition",children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${w} flex items-center justify-center group-hover:scale-110 smooth-transition shadow-sm`,children:j&&e.jsx(j,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-medium text-xs text-center group-hover:text-primary smooth-transition line-clamp-2",children:p.name_ar}),e.jsx(ge,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:p.event_count})]})},p.id)})}),e.jsx("div",{className:"text-center mt-12",children:e.jsx(A,{size:"lg",variant:"outline",className:"dark:bg-primary/20 dark:border-primary/40 dark:hover:bg-primary/30 dark:text-white",asChild:!0,children:e.jsxs(Fe,{to:"/explore",children:[e.jsx(jc,{className:"w-4 h-4 ml-2"}),"عرض جميع التصنيفات"]})})}),s.length>0&&e.jsx("div",{className:"mt-16",children:e.jsxs(mf,{opts:{align:"start",loop:!0},plugins:[h.current],className:"w-full",onMouseEnter:()=>h.current.stop(),onMouseLeave:()=>h.current.play(),children:[e.jsx(pf,{children:s.map(p=>{const j=dz(p.name_ar),w=m(p.icon_name,p.name_ar);return e.jsx(xf,{className:"md:basis-1/2 lg:basis-1/4",children:e.jsx(Fe,{to:`/explore?category=${p.id}`,children:e.jsx($,{className:"group overflow-hidden hover:shadow-xl smooth-transition",children:e.jsxs("div",{className:"relative h-64",children:[e.jsx("img",{src:j,alt:p.name_ar,className:"w-full h-full object-cover group-hover:scale-110 smooth-transition"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center border-2 border-white/30 shadow-lg",children:w&&e.jsx(w,{className:"w-8 h-8 text-white drop-shadow-lg"})})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2 drop-shadow-lg",children:p.name_ar}),e.jsx("p",{className:"text-sm opacity-90 line-clamp-2 mb-3 drop-shadow-md",children:p.description_ar||"استكشف أفضل الفعاليات"}),e.jsxs(ge,{variant:"secondary",className:"bg-white/20 backdrop-blur-sm text-white border-white/30",children:[p.event_count," فعالية"]})]})]})})})},p.id)})}),e.jsx(gf,{className:"left-2 z-10 bg-background/80 backdrop-blur-sm hover:bg-background"}),e.jsx(vf,{className:"right-2 z-10 bg-background/80 backdrop-blur-sm hover:bg-background"})]})}),r.length>0&&e.jsx("div",{className:"mt-16 bg-primary dark:bg-primary rounded-2xl p-8 shadow-lg dark:shadow-glow",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:r.map(p=>e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:p.stat_value_ar}),e.jsx("p",{className:"text-sm text-white/90",children:p.description_ar})]},p.id))})})]})})},hz=()=>{const[s,t]=x.useState([]),[r,n]=x.useState({}),[a,o]=x.useState(!0),{t:c}=Ar();x.useEffect(()=>{(async()=>{try{const{data:m,error:p}=await oo.getAll();if(p)throw p;const w=(m?.filter(S=>{const v=!S.max_attendees||(S.current_attendees||0)<S.max_attendees,y=new Date(S.start_date)>new Date;return v&&y})||[]).sort((S,v)=>new Date(v.created_at).getTime()-new Date(S.created_at).getTime()).slice(0,8);if(t(w),w.length>0){const S=w.map(async b=>{try{const{data:_}=await cv.getByEntity(b.id,"event");return{eventId:b.id,rating:_?{averageRating:_.average_rating,totalReviews:_.total_reviews}:{averageRating:0,totalReviews:0}}}catch(_){return console.error(`Error fetching rating for event ${b.id}:`,_),{eventId:b.id,rating:{averageRating:0,totalReviews:0}}}}),y=(await Promise.all(S)).reduce((b,{eventId:_,rating:k})=>(b[_]=k,b),{});n(y)}}catch(m){console.error("Error fetching recent events:",m)}finally{o(!1)}})()},[]);const d=f=>{const m=r[f];return!m||m.totalReviews===0?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Kt,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"لا توجد تقييمات"})]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Kt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsxs("span",{className:"text-sm",children:[m.averageRating.toFixed(1)," (",m.totalReviews,")"]})]})},h=f=>{switch(f){case"سهل":case"easy":return"bg-green-100 text-green-800";case"متوسط":case"medium":return"bg-yellow-100 text-yellow-800";case"صعب":case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:c("home.recentEvents","الفعاليات المضافة حديثاً")}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:c("home.recentEventsDescription","اكتشف أحدث المغامرات التي تم إضافتها")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(f=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-300 h-48 rounded-t-lg"}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},f))})]})}):s.length===0?null:e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:c("home.recentEvents","الفعاليات المضافة حديثاً")}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:c("home.recentEventsDescription","اكتشف أحدث المغامرات التي تم إضافتها")})]}),e.jsxs(mf,{opts:{align:"start",loop:!0,slidesToScroll:1,skipSnaps:!1},className:"w-full",children:[e.jsx(pf,{className:"-ml-4",children:s.map(f=>e.jsx(xf,{className:"pl-4 basis-full sm:basis-1/2 lg:basis-1/3 xl:basis-1/4",children:e.jsxs($,{className:"overflow-hidden group hover:shadow-lg smooth-transition adventure-shadow h-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:f.image_url||"",alt:f.title,className:"w-full h-48 object-cover group-hover:scale-105 smooth-transition",onError:m=>{const p=m.currentTarget,j=p.nextElementSibling;p.style.display="none",j&&(j.style.display="flex")}}),e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-primary/10 to-primary/30 hidden items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(kt,{className:"w-12 h-12 text-primary/50 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"لا توجد صورة"})]})}),e.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:f.difficulty_level&&e.jsx(ge,{className:h(f.difficulty_level),children:f.difficulty_level})}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-bold text-primary",children:f.price>0?`${f.price} ريال`:"مجاني"})})})]}),e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-foreground group-hover:text-primary smooth-transition line-clamp-2",children:f.title_ar||f.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ot,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:f.location_ar||f.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(kt,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:new Date(f.start_date).toLocaleDateString("ar-SA")})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(_t,{className:"w-4 h-4"}),f.current_attendees||0,"/",f.max_attendees||"∞"]}),d(f.id)]})]})}),e.jsx(Qc,{className:"px-6 pb-6",children:e.jsx(A,{asChild:!0,className:"w-full",size:"sm",children:e.jsx(Fe,{to:`/event/${f.id}`,children:"عرض التفاصيل"})})})]})},f.id))}),e.jsx(gf,{className:"hidden md:flex"}),e.jsx(vf,{className:"hidden md:flex"})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(A,{asChild:!0,size:"lg",variant:"outline",children:e.jsx(Fe,{to:"/explore",children:"عرض جميع الفعاليات"})})})]})})},fz=()=>{const[s,t]=x.useState([]),[r,n]=x.useState({}),[a,o]=x.useState(!0),{t:c}=Ar();x.useEffect(()=>{(async()=>{try{const{data:f,error:m}=await L.from("services").select(`
            *,
            categories!services_category_id_fkey(name, name_ar),
            profiles!provider_id(full_name)
          `).eq("status","approved").order("created_at",{ascending:!1}).limit(8);if(m)throw m;if(t(f||[]),f&&f.length>0){const p=f.map(async S=>{try{const{data:v}=await cv.getByEntity(S.id,"service");return{serviceId:S.id,rating:v?{averageRating:v.average_rating,totalReviews:v.total_reviews}:{averageRating:0,totalReviews:0}}}catch(v){return console.error(`Error fetching rating for service ${S.id}:`,v),{serviceId:S.id,rating:{averageRating:0,totalReviews:0}}}}),w=(await Promise.all(p)).reduce((S,{serviceId:v,rating:y})=>(S[v]=y,S),{});n(w)}}catch(f){console.error("Error fetching recent services:",f)}finally{o(!1)}})()},[]);const d=h=>{const f=r[h];return!f||f.totalReviews===0?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Kt,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"لا توجد تقييمات"})]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Kt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsxs("span",{className:"text-sm",children:[f.averageRating.toFixed(1)," (",f.totalReviews,")"]})]})};return a?e.jsx("section",{className:"py-16 bg-background",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:c("home.recentServices","الخدمات المضافة حديثاً")}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl",children:c("home.recentServicesDescription","اكتشف أحدث الخدمات المتاحة للمغامرات")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(h=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-300 h-48 rounded-t-lg"}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},h))})]})}):s.length===0?null:e.jsx("section",{className:"py-16 bg-background",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:c("home.recentServices","الخدمات المضافة حديثاً")}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl",children:c("home.recentServicesDescription","اكتشف أحدث الخدمات المتاحة للمغامرات")})]}),e.jsxs(mf,{opts:{align:"start",loop:!0,slidesToScroll:1,skipSnaps:!1},className:"w-full",children:[e.jsx(pf,{className:"-ml-4",children:s.map(h=>e.jsx(xf,{className:"pl-4 basis-full sm:basis-1/2 lg:basis-1/3 xl:basis-1/4",children:e.jsxs($,{className:"overflow-hidden group hover:shadow-lg smooth-transition adventure-shadow h-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h.image_url||"",alt:h.name,className:"w-full h-48 object-cover group-hover:scale-105 smooth-transition",onError:f=>{const m=f.currentTarget,p=m.nextElementSibling;m.style.display="none",p&&(p.style.display="flex")}}),e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-primary/10 to-primary/30 hidden items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ot,{className:"w-12 h-12 text-primary/50 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"لا توجد صورة"})]})}),h.categories&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(ge,{variant:"secondary",className:"bg-white/90",children:h.categories.name_ar||h.categories.name})}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-bold text-primary",children:h.price>0?`${h.price} ريال`:"السعر حسب الطلب"})})})]}),e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-foreground group-hover:text-primary smooth-transition line-clamp-2",children:h.name_ar||h.name}),h.location&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ot,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:h.location_ar||h.location})]}),h.duration_minutes&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(nr,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{children:[h.duration_minutes," دقيقة"]})]}),e.jsx("div",{className:"flex items-center justify-between",children:d(h.id)}),h.profiles&&e.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["مقدم الخدمة: ",h.profiles.full_name]})]})}),e.jsx(Qc,{className:"px-6 pb-6",children:e.jsx(A,{asChild:!0,className:"w-full",size:"sm",children:e.jsx(Fe,{to:`/service/${h.id}`,children:"عرض التفاصيل"})})})]})},h.id))}),e.jsx(gf,{className:"hidden md:flex"}),e.jsx(vf,{className:"hidden md:flex"})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(A,{asChild:!0,size:"lg",variant:"outline",children:e.jsx(Fe,{to:"/services",children:"عرض جميع الخدمات"})})})]})})},mz=()=>{const{user:s,userRole:t,loading:r}=Ct();return ar(),r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{children:[e.jsx(c8,{}),e.jsx(hz,{}),e.jsx(fz,{}),e.jsx(uz,{})]}),e.jsx(nt,{})]})},pz=()=>{const[s,t]=x.useState("grid"),[r,n]=x.useState(""),[a,o]=x.useState([]),[c,d]=x.useState([]),[h,f]=x.useState([]),[m,p]=x.useState(!0),[j,w]=x.useState("all"),[S,v]=x.useState("all"),[y,b]=x.useState("all"),{t:_}=Ar();x.useEffect(()=>{(async()=>{try{p(!0);const[R,D,U]=await Promise.all([oo.getAll(),lv.getAll(),L.from("cities").select("*").eq("is_active",!0).order("name_ar")]);if(R.error)throw R.error;if(D.error)throw D.error;if(U.error)throw U.error;o(R.data||[]),d(D.data||[]),f(U.data||[])}catch(R){console.error("Error fetching data:",R)}finally{p(!1)}})()},[]);const k=a.filter(P=>{const R=!r||P.title.toLowerCase().includes(r.toLowerCase())||P.title_ar?.toLowerCase().includes(r.toLowerCase())||P.description?.toLowerCase().includes(r.toLowerCase())||P.description_ar?.toLowerCase().includes(r.toLowerCase()),D=j==="all"||P.location?.toLowerCase().includes(j.toLowerCase())||P.location_ar?.toLowerCase().includes(j.toLowerCase()),U=S==="all"||P.category_id===S,V=y==="all"||P.difficulty_level===y;return R&&D&&U&&V}),E=P=>{switch(P){case"سهل":return"bg-green-100 text-green-800";case"متوسط":return"bg-yellow-100 text-yellow-800";case"صعب":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"استكشف الفعاليات"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"اكتشف مغامرات مثيرة في جميع أنحاء المملكة"})]}),e.jsx("div",{className:"bg-card border rounded-xl p-6 mb-8 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(an,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(Re,{placeholder:"ابحث عن فعالية...",value:r,onChange:P=>n(P.target.value),className:"pr-10"})]}),e.jsxs(Yt,{value:j,onValueChange:w,children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"المدينة"})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"all",children:"جميع المدن"}),h.map(P=>e.jsx(Oe,{value:P.name_ar.toLowerCase(),children:P.name_ar},P.id))]})]}),e.jsxs(Yt,{value:S,onValueChange:v,children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"نوع النشاط"})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"all",children:"جميع الأنشطة"}),c.map(P=>e.jsx(Oe,{value:P.id,children:P.name_ar||P.name},P.id))]})]}),e.jsxs(Yt,{children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"الصعوبة"})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"all",children:"جميع المستويات"}),e.jsx(Oe,{value:"easy",children:"سهل"}),e.jsx(Oe,{value:"medium",children:"متوسط"}),e.jsx(Oe,{value:"hard",children:"صعب"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(A,{variant:"outline",className:"flex-1",children:[e.jsx(ag,{className:"w-4 h-4 ml-2"}),"المزيد"]}),e.jsx(A,{variant:s==="grid"?"default":"outline",size:"icon",onClick:()=>t("grid"),children:e.jsxs("div",{className:"w-4 h-4 grid grid-cols-2 gap-1",children:[e.jsx("div",{className:"bg-current w-1 h-1 rounded-sm"}),e.jsx("div",{className:"bg-current w-1 h-1 rounded-sm"}),e.jsx("div",{className:"bg-current w-1 h-1 rounded-sm"}),e.jsx("div",{className:"bg-current w-1 h-1 rounded-sm"})]})}),e.jsx(A,{variant:s==="map"?"default":"outline",size:"icon",onClick:()=>t("map"),children:e.jsx(ZP,{className:"w-4 h-4"})})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-muted-foreground",children:["تم العثور على ",k.length," فعالية"]})}),m?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(P=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-300 h-48 rounded-t-lg"}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-full"})]})]},P))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.length>0?k.map(P=>e.jsxs($,{className:"overflow-hidden group hover:shadow-lg smooth-transition adventure-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:P.image_url||"/api/placeholder/800/400",alt:P.title,className:"w-full h-48 object-cover group-hover:scale-105 smooth-transition"}),e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[P.difficulty_level&&e.jsx(ge,{className:E(P.difficulty_level),children:P.difficulty_level}),P.categories&&e.jsx(ge,{variant:"secondary",className:"bg-white/90",children:P.categories.name_ar||P.categories.name})]}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-1",children:[e.jsx("span",{className:"text-sm font-bold text-primary",children:P.price>0?`${P.price} ريال`:"مجاني"}),e.jsx("span",{className:"text-xs text-muted-foreground block",children:"شامل الضريبة"})]})})]}),e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-foreground group-hover:text-primary smooth-transition",children:P.title_ar||P.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:P.description_ar||P.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-4 h-4"}),(P.location_ar||P.location)?.split(" - ")[0]]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(kt,{className:"w-4 h-4"}),new Date(P.start_date).toLocaleDateString("ar-SA")]})]}),e.jsx("div",{className:"flex items-center justify-between text-sm",children:e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(_t,{className:"w-4 h-4"}),P.current_attendees||0,"/",P.max_attendees||"غير محدود"]})})]})}),e.jsx(Qc,{className:"px-6 pb-6",children:e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx(A,{asChild:!0,variant:"outline",className:"flex-1",children:e.jsx(Fe,{to:`/event/${P.id}`,children:"التفاصيل"})}),e.jsx(A,{asChild:!0,className:"flex-1",children:e.jsx(Fe,{to:"/checkout",state:{eventId:P.id,eventTitle:P.title_ar||P.title,eventPrice:P.price,availableSeats:(P.max_attendees||0)-(P.current_attendees||0)},children:"احجز الآن"})})]})})]},P.id)):e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-muted-foreground text-lg",children:"لا توجد فعاليات تطابق المعايير المحددة"})})})]}),e.jsx(nt,{})]})},rr=({queryKey:s,queryFn:t,enabled:r=!0,onSuccess:n,onError:a})=>{const[o,c]=x.useState(null),[d,h]=x.useState(!0),[f,m]=x.useState(null),{toast:p}=is(),j=x.useCallback(async()=>{if(r){h(!0),m(null);try{const w=await t();if(w?.error)throw new Error(w.error.message||"حدث خطأ في تحميل البيانات");c(w?.data||w),n?.(w?.data||w)}catch(w){const S=w;m(S),a?.(S),p({title:"خطأ في تحميل البيانات",description:S.message,variant:"destructive"})}finally{h(!1)}}},[t,r,n,a,p]);return x.useEffect(()=>{if(!r)return;(async()=>{try{h(!0),m(null);const S=await t();if(S?.error)throw new Error(S.error.message||"حدث خطأ في تحميل البيانات");c(S?.data||S),n?.(S?.data||S)}catch(S){const v=S;m(v),a?.(v),p({title:"خطأ في تحميل البيانات",description:v.message,variant:"destructive"})}finally{h(!1)}})()},[s.join(","),r]),{data:o,isLoading:d,error:f,refetch:j}};function zu(s,t={}){const[r,n]=x.useState(!1),[a,o]=x.useState(null),{toast:c}=is(),{onSuccess:d,onError:h}=t;return{mutate:async m=>{try{n(!0),o(null);const p=await s(m);if(p.error)throw new Error(p.error.message||"حدث خطأ في العملية");return d?.(p.data,m),p.data}catch(p){const j=p;throw o(j),h?.(j,m),c({title:"خطأ في العملية",description:j.message,variant:"destructive"}),j}finally{n(!1)}},isLoading:r,error:a}}const xz=()=>{const[s,t]=x.useState(""),[r,n]=x.useState("all"),[a,o]=x.useState("all"),c=x.useCallback(async()=>{const{data:b,error:_}=await L.from("services").select("*").eq("status","approved").order("created_at",{ascending:!1});if(_)throw console.error("Error fetching services:",_),_;return b||[]},[]),{data:d=[],isLoading:h}=rr({queryKey:["services"],queryFn:c}),f=x.useCallback(async()=>{const{data:b,error:_}=await L.from("service_categories").select("*").is("parent_id",null).eq("is_active",!0).order("display_order");if(_)throw _;return b||[]},[]),{data:m=[]}=rr({queryKey:["categories"],queryFn:f}),p=x.useCallback(async()=>{const{data:b,error:_}=await L.from("cities").select("*").eq("is_active",!0).order("name_ar");if(_)throw _;return b||[]},[]),{data:j=[]}=rr({queryKey:["cities"],queryFn:p}),w=[{value:"all",label:"جميع الخدمات"},...(m||[]).map(b=>({value:b.id,label:b.name_ar||b.name}))],S=[{value:"all",label:"جميع المدن"},...(j||[]).map(b=>({value:b.id,label:b.name_ar||b.name}))],v=(d||[]).filter(b=>{const _=s.toLowerCase(),k=!s||b.name_ar?.toLowerCase().includes(_)||b.name?.toLowerCase().includes(_)||b.description_ar?.toLowerCase().includes(_)||b.description?.toLowerCase().includes(_)||b.location_ar?.toLowerCase().includes(_)||b.location?.toLowerCase().includes(_),E=r==="all"||b.category_id===r,P=S.find(D=>D.value===a)?.label?.toLowerCase(),R=a==="all"||(P?b.location_ar?.toLowerCase().includes(P)||b.location?.toLowerCase().includes(P):!0);return!!(k&&E&&R)}),y=b=>b?b<60?`${b} دقيقة`:`${Math.floor(b/60)} ساعة`:"";return h?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(yN,{className:"w-8 h-8 animate-spin"}),e.jsx("span",{className:"mr-2",children:"جاري تحميل الخدمات..."})]})}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"الخدمات المتاحة"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"اكتشف أفضل الخدمات التي تحتاجها لمغامراتك"})]}),e.jsx("div",{className:"bg-card border rounded-xl p-6 mb-8 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(an,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(Re,{placeholder:"ابحث عن خدمة...",value:s,onChange:b=>t(b.target.value),className:"pr-10"})]}),e.jsxs(Yt,{value:r,onValueChange:n,children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"نوع الخدمة"})}),e.jsx(Vt,{children:w.map(b=>e.jsx(Oe,{value:b.value,children:b.label},b.value))})]}),e.jsxs(Yt,{value:a,onValueChange:o,children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"المدينة"})}),e.jsx(Vt,{children:S.map(b=>e.jsx(Oe,{value:b.value,children:b.label},b.value))})]}),e.jsxs(A,{variant:"outline",children:[e.jsx(ag,{className:"w-4 h-4 ml-2"}),"المزيد من الفلاتر"]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-muted-foreground",children:["تم العثور على ",v.length," خدمة"]})}),v.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🔍"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد خدمات متاحة"}),e.jsx("p",{className:"text-muted-foreground",children:"جرب البحث بكلمات أخرى أو تغيير الفلاتر"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(b=>e.jsxs($,{className:"overflow-hidden group hover:shadow-lg smooth-transition adventure-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:b.image_url||"/placeholder.svg",alt:b.name_ar||b.name,className:"w-full h-48 object-cover group-hover:scale-105 smooth-transition",onError:_=>{_.currentTarget.src="/placeholder.svg"}}),b.featured&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(ge,{className:"bg-yellow-500 text-white",children:"مميز"})}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-1",children:[e.jsxs("span",{className:"text-sm font-bold text-primary",children:[b.price," ريال"]}),b.duration_minutes&&e.jsx("span",{className:"text-xs text-muted-foreground block",children:y(b.duration_minutes)})]})})]}),e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-foreground group-hover:text-primary smooth-transition",children:b.name_ar||b.name}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:b.description_ar||b.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-4 h-4"}),b.location_ar||b.location]}),b.duration_minutes&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(nr,{className:"w-4 h-4"}),y(b.duration_minutes)]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("div",{className:"text-muted-foreground",children:b.provider?.full_name||"مقدم خدمة"}),b.rating_summaries&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Kt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium",children:b.rating_summaries.average_rating?.toFixed(1)||"0.0"}),e.jsxs("span",{className:"text-muted-foreground",children:["(",b.rating_summaries.total_reviews||0,")"]})]})]})]})}),e.jsx(Qc,{className:"px-6 pb-6",children:e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx(A,{asChild:!0,variant:"outline",className:"flex-1",children:e.jsx(Fe,{to:`/service/${b.id}`,children:"التفاصيل"})}),e.jsx(A,{className:"flex-1",children:"احجز الآن"})]})})]},b.id))}),e.jsxs("div",{className:"mt-16 text-center bg-primary/5 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground mb-4",children:"هل تقدم خدمات للمغامرات؟"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl mx-auto",children:"انضم إلى منصتنا وقدم خدماتك لآلاف المغامرين في جميع أنحاء المملكة"}),e.jsx(A,{asChild:!0,size:"lg",children:e.jsx(Fe,{to:"/create-service",children:"سجل كمقدم خدمة"})})]})]}),e.jsx(nt,{})]})};var gz="Separator",yb="horizontal",vz=["horizontal","vertical"],R2=x.forwardRef((s,t)=>{const{decorative:r,orientation:n=yb,...a}=s,o=yz(n)?n:yb,d=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(Be.div,{"data-orientation":o,...d,...a,ref:t})});R2.displayName=gz;function yz(s){return vz.includes(s)}var A2=R2;const Ds=x.forwardRef(({className:s,orientation:t="horizontal",decorative:r=!0,...n},a)=>e.jsx(A2,{ref:a,decorative:r,orientation:t,className:be("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...n}));Ds.displayName=A2.displayName;var Gp={exports:{}},Kp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb;function jz(){if(jb)return Kp;jb=1;var s=Ah();function t(p,j){return p===j&&(p!==0||1/p===1/j)||p!==p&&j!==j}var r=typeof Object.is=="function"?Object.is:t,n=s.useState,a=s.useEffect,o=s.useLayoutEffect,c=s.useDebugValue;function d(p,j){var w=j(),S=n({inst:{value:w,getSnapshot:j}}),v=S[0].inst,y=S[1];return o(function(){v.value=w,v.getSnapshot=j,h(v)&&y({inst:v})},[p,w,j]),a(function(){return h(v)&&y({inst:v}),p(function(){h(v)&&y({inst:v})})},[p]),c(w),w}function h(p){var j=p.getSnapshot;p=p.value;try{var w=j();return!r(p,w)}catch{return!0}}function f(p,j){return j()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return Kp.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:m,Kp}var wb;function wz(){return wb||(wb=1,Gp.exports=jz()),Gp.exports}var bz=wz();function Nz(){return bz.useSyncExternalStore(_z,()=>!0,()=>!1)}function _z(){return()=>{}}var xv="Avatar",[Sz]=Vs(xv),[kz,D2]=Sz(xv),M2=x.forwardRef((s,t)=>{const{__scopeAvatar:r,...n}=s,[a,o]=x.useState("idle");return e.jsx(kz,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:e.jsx(Be.span,{...n,ref:t})})});M2.displayName=xv;var O2="AvatarImage",I2=x.forwardRef((s,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...o}=s,c=D2(O2,r),d=Cz(n,o),h=ps(f=>{a(f),c.onImageLoadingStatusChange(f)});return xs(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?e.jsx(Be.img,{...o,ref:t,src:n}):null});I2.displayName=O2;var L2="AvatarFallback",F2=x.forwardRef((s,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=s,o=D2(L2,r),[c,d]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const h=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(h)}},[n]),c&&o.imageLoadingStatus!=="loaded"?e.jsx(Be.span,{...a,ref:t}):null});F2.displayName=L2;function bb(s,t){return s?t?(s.src!==t&&(s.src=t),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Cz(s,{referrerPolicy:t,crossOrigin:r}){const n=Nz(),a=x.useRef(null),o=n?(a.current||(a.current=new window.Image),a.current):null,[c,d]=x.useState(()=>bb(o,s));return xs(()=>{d(bb(o,s))},[o,s]),xs(()=>{const h=p=>()=>{d(p)};if(!o)return;const f=h("loaded"),m=h("error");return o.addEventListener("load",f),o.addEventListener("error",m),t&&(o.referrerPolicy=t),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",f),o.removeEventListener("error",m)}},[o,r,t]),c}var $2=M2,z2=I2,U2=F2;const Xi=x.forwardRef(({className:s,...t},r)=>e.jsx($2,{ref:r,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));Xi.displayName=$2.displayName;const Ji=x.forwardRef(({className:s,...t},r)=>e.jsx(z2,{ref:r,className:be("aspect-square h-full w-full",s),...t}));Ji.displayName=z2.displayName;const eo=x.forwardRef(({className:s,...t},r)=>e.jsx(U2,{ref:r,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));eo.displayName=U2.displayName;const Ez=()=>{const{id:s}=Qh(),t=ar(),{toast:r}=is(),{user:n}=Ct(),[a,o]=x.useState(!1),[c,d]=x.useState(null),[h,f]=x.useState(!0),[m,p]=x.useState(null),[j,w]=x.useState([]);x.useEffect(()=>{(async()=>{if(s)try{const{data:E,error:P}=await oo.getById(s);if(P)throw P;if(d(E),E?.organizer_id){const{data:D}=await L.from("profiles").select("*").eq("user_id",E.organizer_id).single();p(D)}const{data:R}=await L.from("reviews").select("*, profiles!reviews_user_id_fkey(full_name, avatar_url)").eq("event_id",s).order("created_at",{ascending:!1});if(w(R||[]),n){const{data:D}=await L.from("event_bookmarks").select("id").eq("user_id",n.id).eq("event_id",s).single();o(!!D)}}catch(E){console.error("Error fetching event:",E),t("/explore")}finally{f(!1)}})()},[s,t,n]);const S=async()=>{if(!n){r({title:"تسجيل الدخول مطلوب",description:"يجب تسجيل الدخول لحفظ الفعاليات",variant:"destructive"});return}try{a?(await L.from("event_bookmarks").delete().eq("user_id",n.id).eq("event_id",s),o(!1),r({title:"تم إزالة الفعالية من المحفوظات"})):(await L.from("event_bookmarks").insert({user_id:n.id,event_id:s}),o(!0),r({title:"تم حفظ الفعالية"}))}catch(k){console.error("Bookmark error:",k),r({title:"خطأ",description:"حدث خطأ أثناء حفظ الفعالية",variant:"destructive"})}},v=async()=>{if(navigator.share)try{await navigator.share({title:c.title_ar||c.title,text:c.description_ar||c.description,url:window.location.href})}catch{console.log("Share cancelled")}else navigator.clipboard.writeText(window.location.href),r({title:"تم نسخ الرابط",description:"تم نسخ رابط الفعالية إلى الحافظة"})},y=()=>{m?.phone?window.open(`https://wa.me/${m.phone}?text=مرحباً، أريد الاستفسار عن فعالية ${c.title_ar}`):r({title:"معلومات الاتصال غير متوفرة",description:"لا توجد معلومات اتصال للمنظم",variant:"destructive"})},b=()=>{c.latitude&&c.longitude?window.open(`https://maps.google.com/maps?q=${c.latitude},${c.longitude}`):c.location_ar||c.location?window.open(`https://maps.google.com/maps?q=${encodeURIComponent(c.location_ar||c.location)}`):r({title:"الموقع غير متوفر",description:"معلومات الموقع غير متوفرة",variant:"destructive"})};if(h)return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-96 bg-muted rounded-2xl mb-8"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),e.jsx("div",{className:"h-32 bg-muted rounded"})]})]})}),e.jsx(nt,{})]});if(!c)return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"لم يتم العثور على الفعالية"}),e.jsx(A,{asChild:!0,children:e.jsx(Fe,{to:"/explore",children:"العودة للاستكشاف"})})]})}),e.jsx(nt,{})]});const _=k=>{switch(k){case"سهل":return"bg-green-100 text-green-800";case"متوسط":return"bg-yellow-100 text-yellow-800";case"صعب":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx(A,{asChild:!0,variant:"ghost",className:"text-muted-foreground hover:text-foreground",children:e.jsxs(Fe,{to:"/explore",children:[e.jsx(ng,{className:"w-4 h-4 ml-2"}),"العودة للفعاليات"]})})}),e.jsxs("div",{className:"relative rounded-2xl overflow-hidden mb-8",children:[e.jsx("img",{src:c.image_url||"/api/placeholder/800/400",alt:c.title_ar||c.title,className:"w-full h-96 object-cover"}),e.jsxs("div",{className:"absolute top-6 right-6 flex gap-3",children:[e.jsx(A,{size:"icon",variant:"secondary",className:"bg-white/90 hover:bg-white",onClick:S,children:e.jsx(Bi,{className:`w-5 h-5 ${a?"fill-red-500 text-red-500":""}`})}),e.jsx(A,{size:"icon",variant:"secondary",className:"bg-white/90 hover:bg-white",onClick:v,children:e.jsx(Oh,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[c.difficulty_level&&e.jsx(ge,{className:_(c.difficulty_level),children:c.difficulty_level}),c.categories&&e.jsx(ge,{variant:"secondary",children:c.categories.name_ar}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(Kt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium",children:j.length>0?(j.reduce((k,E)=>k+E.rating,0)/j.length).toFixed(1):"لا توجد تقييمات"}),e.jsxs("span",{className:"text-muted-foreground",children:["(",j.length," تقييم)"]})]})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:c.title_ar||c.title}),e.jsxs("div",{className:"flex flex-wrap gap-6 text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5"}),c.location_ar||c.location]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"w-5 h-5"}),Gt(new Date(c.start_date),"PPP",{locale:Es})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nr,{className:"w-5 h-5"}),Gt(new Date(c.start_date),"p",{locale:Es})," - ",Gt(new Date(c.end_date),"p",{locale:Es})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5"}),c.current_attendees||0,"/",c.max_attendees||0," مشارك"]})]})]}),e.jsx($,{children:e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Xi,{className:"w-12 h-12",children:[e.jsx(Ji,{src:m?.avatar_url}),e.jsx(eo,{children:e.jsx(ui,{className:"w-6 h-6"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold",children:m?.full_name||"المنظم"}),e.jsx(Ms,{className:"w-4 h-4 text-blue-600"})]}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:e.jsx("span",{children:"منظم فعاليات"})})]})]}),e.jsxs(A,{variant:"outline",onClick:y,children:[e.jsx(Cn,{className:"w-4 h-4 ml-2"}),"تواصل"]})]})})}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"وصف الفعالية"})}),e.jsx(B,{className:"space-y-4",children:e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.description_ar||c.description})})]}),j.length>0&&e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{children:["التقييمات (",j.length,")"]})}),e.jsx(B,{className:"space-y-6",children:j.map((k,E)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(Xi,{className:"w-10 h-10",children:[e.jsx(Ji,{src:k.profiles?.avatar_url}),e.jsx(eo,{children:e.jsx(ui,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-medium",children:k.profiles?.full_name||"مستخدم"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(k.rating)].map((P,R)=>e.jsx(Kt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},R))}),e.jsx("span",{className:"text-xs text-muted-foreground",children:Gt(new Date(k.created_at),"PPP",{locale:Es})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:k.comment})]})]}),E<j.length-1&&e.jsx(Ds,{className:"mt-6"})]},k.id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs($,{className:"sticky top-6",children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-primary",children:c.price||0}),e.jsx("span",{className:"text-muted-foreground",children:"ريال"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"/ شخص"})]})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"التاريخ:"}),e.jsx("span",{children:Gt(new Date(c.start_date),"PPP",{locale:Es})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"الوقت:"}),e.jsx("span",{children:Gt(new Date(c.start_date),"p",{locale:Es})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"المقاعد المتبقية:"}),e.jsx("span",{className:"font-medium text-primary",children:(c.max_attendees||0)-(c.current_attendees||0)})]})]}),e.jsx(Ds,{}),e.jsx(A,{className:"w-full",size:"lg",asChild:!0,disabled:c.status!=="active",children:e.jsx(Fe,{to:"/checkout",state:{eventId:c.id,eventTitle:c.title_ar||c.title,eventPrice:c.price||0,availableSeats:(c.max_attendees||0)-(c.current_attendees||0)},children:c.status==="active"?"احجز الآن":c.status==="draft"||c.status==="pending"?"في انتظار الموافقة":"غير متاح للحجز"})}),c.cancellation_policy&&e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:c.cancellation_policy})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{className:"text-lg",children:"الموقع"})}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ot,{className:"w-4 h-4 text-primary mt-1"}),e.jsx("span",{className:"text-sm",children:c.location_ar||c.location})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(nr,{className:"w-4 h-4 text-primary mt-1"}),e.jsx("span",{className:"text-sm",children:Gt(new Date(c.start_date),"PPPp",{locale:Es})})]})]}),e.jsx(A,{variant:"outline",className:"w-full",onClick:b,children:"عرض على الخريطة"})]})]})]})]})]}),e.jsx(nt,{})]})},Qu={create:async s=>L.from("service_bookings").insert({...s,user_id:(await L.auth.getUser()).data.user?.id,status:"pending"}).select().single(),getUserBookings:s=>L.from("service_bookings").select(`
        *,
        services!service_id(
          name_ar,
          name,
          image_url,
          duration_minutes,
          profiles!provider_id(full_name, phone)
        )
      `).eq("user_id",s).order("created_at",{ascending:!1}),getProviderBookings:s=>L.from("service_bookings").select(`
        *,
        services!service_id(name_ar, name),
        profiles!user_id(full_name, phone)
      `).eq("provider_id",s).order("created_at",{ascending:!1}),updateStatus:(s,t)=>L.from("service_bookings").update({status:t}).eq("id",s).select().single(),getProviderRevenue:async s=>{const{data:t,error:r}=await L.from("service_bookings").select("total_amount, status").eq("provider_id",s);if(r)throw r;const n=t?.filter(o=>o.status==="completed")?.reduce((o,c)=>o+Number(c.total_amount),0)||0,a=t?.filter(o=>o.status==="confirmed")?.reduce((o,c)=>o+Number(c.total_amount),0)||0;return{totalRevenue:n,pendingRevenue:a,totalBookings:t?.length||0,completedBookings:t?.filter(o=>o.status==="completed")?.length||0}}},Pz=()=>{const{id:s}=Qh(),{toast:t}=is(),{user:r}=Ct(),[n,a]=x.useState(!1),[o,c]=x.useState(null),[d,h]=x.useState([]),[f,m]=x.useState(!0),[p,j]=x.useState(!1),[w,S]=x.useState(0);x.useEffect(()=>{s&&(v(),y())},[s]);const v=async()=>{if(s)try{const{data:k,error:E}=await L.from("services").select(`
          *,
          provider:profiles!provider_id(full_name, avatar_url, phone),
          category:service_categories(name, name_ar)
        `).eq("id",s).single();if(E)throw E;c(k)}catch(k){console.error("Error fetching service details:",k),t({title:"خطأ",description:"حدث خطأ في جلب تفاصيل الخدمة",variant:"destructive"})}finally{m(!1)}},y=async()=>{if(s)try{const{data:k,error:E}=await t8.getByServiceId(s);if(E)throw E;const P=k||[];if(h(P),P.length>0){const R=P.reduce((D,U)=>D+U.rating,0)/P.length;S(R)}}catch(k){console.error("Error fetching service reviews:",k)}},b=k=>k<60?`${k} دقيقة`:`${Math.floor(k/60)} ساعة`,_=async()=>{if(!r){t({title:"تسجيل الدخول مطلوب",description:"يرجى تسجيل الدخول أولاً لحجز الخدمة",variant:"destructive"});return}if(o){j(!0);try{const k=new Date;k.setDate(k.getDate()+1);const{data:E,error:P}=await Qu.create({service_id:o.id,provider_id:o.provider_id,booking_date:new Date().toISOString(),service_date:k.toISOString(),total_amount:o.price,special_requests:""});if(P)throw P;t({title:"تم إرسال طلب الحجز",description:"سيتواصل معك مقدم الخدمة قريباً لتأكيد الحجز"})}catch(k){console.error("Booking error:",k),t({title:"خطأ في الحجز",description:"حدث خطأ أثناء إرسال طلب الحجز. يرجى المحاولة مرة أخرى",variant:"destructive"})}finally{j(!1)}}};return f?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-xl",children:"جاري التحميل..."})})}),e.jsx(nt,{})]}):o?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx(A,{asChild:!0,variant:"ghost",className:"text-muted-foreground hover:text-foreground",children:e.jsxs(Fe,{to:"/services",children:[e.jsx(ng,{className:"w-4 h-4 ml-2"}),"العودة للخدمات"]})})}),e.jsxs("div",{className:"relative rounded-2xl overflow-hidden mb-8",children:[e.jsx("img",{src:o.image_url||"/placeholder.svg",alt:o.name_ar||o.name,className:"w-full h-96 object-cover"}),e.jsxs("div",{className:"absolute top-6 right-6 flex gap-3",children:[e.jsx(A,{size:"icon",variant:"secondary",className:"bg-white/90 hover:bg-white",onClick:()=>a(!n),children:e.jsx(Bi,{className:`w-5 h-5 ${n?"fill-red-500 text-red-500":""}`})}),e.jsx(A,{size:"icon",variant:"secondary",className:"bg-white/90 hover:bg-white",children:e.jsx(Oh,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"absolute bottom-6 right-6",children:e.jsx(ge,{className:"bg-primary text-white text-lg px-4 py-2",children:"خدمة"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-3 mb-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(Kt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium",children:w>0?w.toFixed(1):"لا توجد تقييمات"}),e.jsxs("span",{className:"text-muted-foreground",children:["(",d.length," تقييم)"]})]})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:o.name_ar||o.name}),e.jsxs("div",{className:"flex flex-wrap gap-6 text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5"}),o.location_ar||o.location||"غير محدد"]}),o.duration_minutes&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nr,{className:"w-5 h-5"}),b(o.duration_minutes)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sr,{className:"w-5 h-5"}),o.price," ريال"]})]})]}),e.jsx($,{children:e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Xi,{className:"w-16 h-16",children:[e.jsx(Ji,{src:o.profiles?.avatar_url}),e.jsx(eo,{children:e.jsx(ui,{className:"w-8 h-8"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-semibold",children:o.profiles?.full_name||"مقدم الخدمة"}),e.jsx(Lt,{className:"w-5 h-5 text-green-600"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Kt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),w>0?w.toFixed(1):"لا يوجد"]}),e.jsx("span",{children:"خدمة متميزة"}),e.jsx("span",{children:"مقدم خدمة معتمد"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.profiles?.phone&&e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(En,{className:"w-3 h-3"}),o.profiles.phone]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(sa,{className:"w-3 h-3"}),"تواصل عبر الواتساب"]})]})]})]}),e.jsxs(A,{variant:"outline",children:[e.jsx(Cn,{className:"w-4 h-4 ml-2"}),"تواصل"]})]})})}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"وصف الخدمة"})}),e.jsxs(B,{children:[e.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:o.description_ar||o.description||"لا يوجد وصف متاح لهذه الخدمة."}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"مميزات الخدمة:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Lt,{className:"w-4 h-4 text-green-500 mt-1 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"خدمة احترافية"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Lt,{className:"w-4 h-4 text-green-500 mt-1 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"جودة عالية"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Lt,{className:"w-4 h-4 text-green-500 mt-1 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"دعم فني"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Lt,{className:"w-4 h-4 text-green-500 mt-1 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"ضمان الخدمة"})]})]})]})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"تفاصيل الخدمة"})}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"معلومات أساسية"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"الحالة:"}),e.jsx("span",{children:o.status==="approved"?"نشط":"غير نشط"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"تاريخ الإنشاء:"}),e.jsx("span",{children:new Date(o.created_at).toLocaleDateString("ar-SA")})]}),o.featured&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"خدمة مميزة:"}),e.jsx(Lt,{className:"w-4 h-4 text-green-500"})]})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"شروط الخدمة"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ms,{className:"w-4 h-4 text-orange-500 mt-1 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"خدمة معتمدة ومضمونة"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ms,{className:"w-4 h-4 text-orange-500 mt-1 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"ضمان رضا العملاء"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ms,{className:"w-4 h-4 text-orange-500 mt-1 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"دعم فني متاح"})]})]})]})]})})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{children:["التقييمات (",d.length,")"]})}),e.jsx(B,{className:"space-y-6",children:d.length>0?d.map((k,E)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(Xi,{className:"w-10 h-10",children:[e.jsx(Ji,{src:k.profiles?.avatar_url}),e.jsx(eo,{children:e.jsx(ui,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-medium",children:k.profiles?.full_name||"مستخدم مجهول"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(k.rating)].map((P,R)=>e.jsx(Kt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},R))}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(k.created_at).toLocaleDateString("ar-SA")})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:k.comment})]})]}),E!==d.length-1&&e.jsx(Ds,{className:"mt-6"})]},k.id)):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"لا توجد تقييمات لهذه الخدمة بعد"})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs($,{className:"sticky top-6",children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-primary",children:o.price}),e.jsx("span",{className:"text-muted-foreground",children:"ريال"}),o.duration_minutes&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",b(o.duration_minutes)]})]})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"الموقع:"}),e.jsx("span",{children:o.location_ar||o.location||"غير محدد"})]}),o.duration_minutes&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"المدة:"}),e.jsx("span",{children:b(o.duration_minutes)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"الفئة:"}),e.jsx("span",{children:"خدمة"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"التقييم:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Kt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:w>0?w.toFixed(1):"لا يوجد"})]})]})]}),e.jsx(Ds,{}),e.jsx(A,{className:"w-full",size:"lg",onClick:_,disabled:p,children:p?"جاري الحجز...":"احجز الآن"}),e.jsxs(A,{variant:"outline",className:"w-full",children:[e.jsx(Cn,{className:"w-4 h-4 ml-2"}),"استفسار"]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"إلغاء مجاني قبل 24 ساعة من الموعد"})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{className:"text-lg",children:"معلومات سريعة"})}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"متاح الآن"}),e.jsx(Lt,{className:"w-4 h-4 text-green-500"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"توصيل مجاني"}),e.jsx(Lt,{className:"w-4 h-4 text-green-500"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"ضمان شامل"}),e.jsx(Lt,{className:"w-4 h-4 text-green-500"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"دعم 24/7"}),e.jsx(Lt,{className:"w-4 h-4 text-green-500"})]})]})]})]})]})]}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-xl text-muted-foreground",children:"الخدمة غير موجودة"}),e.jsx(A,{asChild:!0,className:"mt-4",children:e.jsx(Fe,{to:"/services",children:"العودة للخدمات"})})]})}),e.jsx(nt,{})]})};var Tz="Label",B2=x.forwardRef((s,t)=>e.jsx(Be.label,{...s,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(s.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));B2.displayName=Tz;var q2=B2;const Rz=pl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=x.forwardRef(({className:s,...t},r)=>e.jsx(q2,{ref:r,className:be(Rz(),s),...t}));De.displayName=q2.displayName;var yf="Tabs",[Az]=Vs(yf,[rf]),V2=rf(),[Dz,gv]=Az(yf),W2=x.forwardRef((s,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:c="horizontal",dir:d,activationMode:h="automatic",...f}=s,m=cd(d),[p,j]=Pn({prop:n,onChange:a,defaultProp:o??"",caller:yf});return e.jsx(Dz,{scope:r,baseId:rn(),value:p,onValueChange:j,orientation:c,dir:m,activationMode:h,children:e.jsx(Be.div,{dir:m,"data-orientation":c,...f,ref:t})})});W2.displayName=yf;var H2="TabsList",G2=x.forwardRef((s,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=s,o=gv(H2,r),c=V2(r);return e.jsx(WS,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:n,children:e.jsx(Be.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});G2.displayName=H2;var K2="TabsTrigger",Y2=x.forwardRef((s,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=s,c=gv(K2,r),d=V2(r),h=X2(c.baseId,n),f=J2(c.baseId,n),m=n===c.value;return e.jsx(HS,{asChild:!0,...d,focusable:!a,active:m,children:e.jsx(Be.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...o,ref:t,onMouseDown:Se(s.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?c.onValueChange(n):p.preventDefault()}),onKeyDown:Se(s.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(n)}),onFocus:Se(s.onFocus,()=>{const p=c.activationMode!=="manual";!m&&!a&&p&&c.onValueChange(n)})})})});Y2.displayName=K2;var Q2="TabsContent",Z2=x.forwardRef((s,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...c}=s,d=gv(Q2,r),h=X2(d.baseId,n),f=J2(d.baseId,n),m=n===d.value,p=x.useRef(m);return x.useEffect(()=>{const j=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(j)},[]),e.jsx(Ls,{present:a||m,children:({present:j})=>e.jsx(Be.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!j,id:f,tabIndex:0,...c,ref:t,style:{...s.style,animationDuration:p.current?"0s":void 0},children:j&&o})})});Z2.displayName=Q2;function X2(s,t){return`${s}-trigger-${t}`}function J2(s,t){return`${s}-content-${t}`}var Mz=W2,eC=G2,tC=Y2,sC=Z2;const Hr=Mz,Dr=x.forwardRef(({className:s,...t},r)=>e.jsx(eC,{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));Dr.displayName=eC.displayName;const rt=x.forwardRef(({className:s,...t},r)=>e.jsx(tC,{ref:r,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));rt.displayName=tC.displayName;const jt=x.forwardRef(({className:s,...t},r)=>e.jsx(sC,{ref:r,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));jt.displayName=sC.displayName;const Oz=()=>{const[s]=EO(),t=ar(),{signIn:r,signUp:n,user:a,loading:o}=Ct(),[c,d]=x.useState(s.get("mode")!=="signup"),[h,f]=x.useState(""),[m,p]=x.useState(""),[j,w]=x.useState(""),[S,v]=x.useState(""),[y,b]=x.useState(!1),[_,k]=x.useState(!1),[E,P]=x.useState(""),[R,D]=x.useState("");x.useEffect(()=>{a&&!o&&t("/")},[a,o,t]);const U=async te=>{te.preventDefault(),P(""),D(""),k(!0);try{if(c){const{error:oe}=await r(h,m);oe&&(oe.message.includes("Invalid login credentials")?P("بيانات الدخول غير صحيحة"):P(oe.message))}else{if(m!==j){P("كلمات المرور غير متطابقة");return}if(m.length<6){P("كلمة المرور يجب أن تكون 6 أحرف على الأقل");return}if(!S.trim()){P("الاسم الكامل مطلوب");return}const{error:oe}=await L.auth.signUp({email:h,password:m,options:{emailRedirectTo:`${window.location.origin}/`,data:{full_name:S}}});oe?oe.message.includes("already registered")?P("البريد الإلكتروني مسجل مسبقاً"):P(oe.message):D("تم إنشاء الحساب بنجاح! تم إرسال رسالة تأكيد إلى بريدك الإلكتروني. يرجى التحقق من بريدك الإلكتروني (بما في ذلك مجلد البريد غير الهام) والنقر على الرابط لتفعيل حسابك.")}}catch{P("حدث خطأ غير متوقع")}finally{k(!1)}},V=async()=>{try{P("");const{error:te}=await L.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/account-type`}});te&&P("حدث خطأ في تسجيل الدخول بـ Google")}catch{P("حدث خطأ غير متوقع")}};return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center p-4",children:e.jsxs($,{className:"w-full max-w-md",children:[e.jsxs(Z,{className:"text-center",children:[e.jsx(J,{className:"text-2xl font-bold",children:c?"تسجيل الدخول":"إنشاء حساب جديد"}),e.jsx(Je,{children:c?"ادخل بياناتك للوصول إلى حسابك":"أنشئ حساباً جديداً للبدء في استكشاف الفعاليات"})]}),e.jsx(B,{children:e.jsxs(Hr,{value:c?"login":"signup",onValueChange:te=>d(te==="login"),children:[e.jsxs(Dr,{className:"grid w-full grid-cols-2",children:[e.jsx(rt,{value:"login",children:"تسجيل الدخول"}),e.jsx(rt,{value:"signup",children:"إنشاء حساب"})]}),e.jsx(jt,{value:"login",className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(A,{onClick:V,variant:"outline",className:"w-full",type:"button",children:[e.jsx(sa,{className:"mr-2 h-4 w-4"}),"تسجيل الدخول بـ Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(Ds,{className:"w-full"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"أو"})})]}),e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"email",children:"البريد الإلكتروني"}),e.jsx(Re,{id:"email",type:"email",placeholder:"أدخل بريدك الإلكتروني",value:h,onChange:te=>f(te.target.value),required:!0,dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"password",children:"كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx(Re,{id:"password",type:y?"text":"password",placeholder:"أدخل كلمة المرور",value:m,onChange:te=>p(te.target.value),required:!0,dir:"ltr",className:"pl-10"}),e.jsx("button",{type:"button",className:"absolute left-2 top-1/2 -translate-y-1/2 p-1 hover:bg-accent rounded",onClick:()=>b(!y),children:y?e.jsx(Lw,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(Sr,{className:"h-4 w-4 text-muted-foreground"})})]})]}),E&&e.jsx(Os,{variant:"destructive",children:e.jsx(Is,{children:E})}),e.jsxs(A,{type:"submit",className:"w-full",disabled:_,children:[_?"جاري التحميل...":"تسجيل الدخول",e.jsx(eh,{className:"mr-2 h-4 w-4"})]})]})]})}),e.jsx(jt,{value:"signup",className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(A,{onClick:V,variant:"outline",className:"w-full",type:"button",children:[e.jsx(sa,{className:"mr-2 h-4 w-4"}),"إنشاء حساب بـ Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(Ds,{className:"w-full"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"أو"})})]}),e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"fullName",children:"الاسم الكامل"}),e.jsx(Re,{id:"fullName",type:"text",placeholder:"أدخل اسمك الكامل",value:S,onChange:te=>v(te.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"signupEmail",children:"البريد الإلكتروني"}),e.jsx(Re,{id:"signupEmail",type:"email",placeholder:"أدخل بريدك الإلكتروني",value:h,onChange:te=>f(te.target.value),required:!0,dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"signupPassword",children:"كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx(Re,{id:"signupPassword",type:y?"text":"password",placeholder:"أدخل كلمة المرور (6 أحرف على الأقل)",value:m,onChange:te=>p(te.target.value),required:!0,dir:"ltr",className:"pl-10"}),e.jsx("button",{type:"button",className:"absolute left-2 top-1/2 -translate-y-1/2 p-1 hover:bg-accent rounded",onClick:()=>b(!y),children:y?e.jsx(Lw,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(Sr,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"confirmPassword",children:"تأكيد كلمة المرور"}),e.jsx(Re,{id:"confirmPassword",type:"password",placeholder:"أعد إدخال كلمة المرور",value:j,onChange:te=>w(te.target.value),required:!0,dir:"ltr"})]}),E&&e.jsx(Os,{variant:"destructive",children:e.jsx(Is,{children:E})}),R&&e.jsx(Os,{children:e.jsx(Is,{children:R})}),e.jsxs(A,{type:"submit",className:"w-full",disabled:_,children:[_?"جاري التحميل...":"إنشاء الحساب",e.jsx(eh,{className:"mr-2 h-4 w-4"})]})]})]})})]})})]})})},Iz=()=>{const s=ar(),{user:t,userRole:r,setUserRole:n,loading:a}=Ct(),[o,c]=x.useState(null),[d,h]=x.useState(!1),[f,m]=x.useState("");x.useEffect(()=>{!t&&!a&&s("/auth")},[t,a,s]),x.useEffect(()=>{r&&!a&&s("/")},[r,a,s]);const p=[{role:"attendee",title:"باحث/مشارك",description:"أريد استكشاف والمشاركة في الفعاليات",icon:_t,features:["حجز الفعاليات والمشاركة","نظام النقاط والمكافآت","التقييم والمراجعات","الانضمام لمجموعات الفعاليات","متابعة المنظمين المفضلين"]},{role:"organizer",title:"منظم الفعاليات",description:"أريد إنشاء وتنظيم فعاليات ترفيهية ورياضية",icon:kt,features:["إنشاء وإدارة الفعاليات","إدارة الحجوزات والمشاركين","ربط الخدمات المساندة","استخدام ماسح QR","استلام الأرباح في المحفظة"]},{role:"provider",title:"مقدم خدمة",description:"أريد تقديم خدمات مساندة للفعاليات",icon:yc,features:["إضافة وإدارة الخدمات","استقبال طلبات الربط من المنظمين","إدارة التقييمات والمراجعات","تحديد المدن والأسعار","استلام الأرباح في المحفظة"]}],j=async()=>{if(!o){m("يرجى اختيار نوع الحساب");return}h(!0),m("");try{const{error:w}=await n(o);w?m("حدث خطأ في تحديد نوع الحساب"):s("/")}catch{m("حدث خطأ غير متوقع")}finally{h(!1)}};return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"اختر نوع حسابك"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"اختر نوع الحساب الذي يناسب احتياجاتك. يمكنك تغيير نوع الحساب لاحقاً من الإعدادات"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:p.map(w=>{const S=w.icon,v=o===w.role;return e.jsxs($,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${v?"ring-2 ring-primary shadow-lg":""}`,onClick:()=>c(w.role),children:[e.jsxs(Z,{className:"text-center",children:[e.jsx("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${v?"bg-primary text-primary-foreground":"bg-secondary"}`,children:e.jsx(S,{className:"h-8 w-8"})}),e.jsx(J,{className:"text-xl",children:w.title}),e.jsx(Je,{children:w.description})]}),e.jsx(B,{children:e.jsx("ul",{className:"space-y-2",children:w.features.map((y,b)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(Mh,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:y})]},b))})})]},w.role)})}),f&&e.jsx(Os,{variant:"destructive",className:"mb-6",children:e.jsx(Is,{children:f})}),e.jsxs("div",{className:"text-center",children:[e.jsx(A,{onClick:j,disabled:!o||d,size:"lg",className:"px-8",children:d?"جاري التحميل...":"تأكيد الاختيار والمتابعة"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"يمكنك تغيير نوع الحساب في أي وقت من الإعدادات"})]})]})})},Lz=()=>{const{user:s,userRole:t}=Ct(),{toast:r}=is(),[n,a]=x.useState({totalEvents:0,totalServices:0,totalUsers:0,totalRevenue:0}),[o,c]=x.useState([]),[d,h]=x.useState([]),[f,m]=x.useState([]);x.useEffect(()=>{s&&t&&p()},[s,t]);const p=async()=>{try{if(t==="organizer"){const{data:y,error:b}=await L.from("events").select("*").eq("organizer_id",s.id);if(b)throw b;c(y||[]),a(_=>({..._,totalEvents:y?.length||0}))}if(t==="provider"){const{data:y,error:b}=await L.from("services").select("*").eq("provider_id",s.id);if(b)throw b;h(y||[]),a(_=>({..._,totalServices:y?.length||0}))}if(t==="admin"){const[y,b,_]=await Promise.all([L.from("events").select("count"),L.from("services").select("count"),L.from("profiles").select("count")]);a({totalEvents:y.count||0,totalServices:b.count||0,totalUsers:_.count||0,totalRevenue:0});const{data:k,error:E}=await L.from("profiles").select(`
            *,
            user_roles(role)
          `);if(E)throw E;m(k||[])}}catch(y){console.error("Error loading dashboard data:",y)}},j=async(y,b)=>{try{const{error:_}=await L.from("user_roles").update({role:b}).eq("user_id",y);if(_)throw _;r({title:"تم التغيير بنجاح",description:"تم تغيير دور المستخدم بنجاح"}),p()}catch(_){console.error("Error changing user role:",_),r({title:"خطأ",description:"حدث خطأ أثناء تغيير دور المستخدم",variant:"destructive"})}},w=y=>{switch(y){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=y=>{switch(y){case"admin":return"bg-purple-100 text-purple-800";case"organizer":return"bg-blue-100 text-blue-800";case"service_provider":return"bg-green-100 text-green-800";case"attendee":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},v=y=>{switch(y){case"admin":return"أدمن";case"organizer":return"منظم";case"service_provider":return"مقدم خدمة";case"attendee":return"مشارك";default:return y}};return!s||!t?e.jsx("div",{children:"جاري التحميل..."}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"لوحة التحكم"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"مرحباً بك في لوحة التحكم الخاصة بك"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t==="organizer"&&e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الفعاليات"}),e.jsx(kt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(B,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.totalEvents})})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"المشاركون"}),e.jsx(_t,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(B,{children:e.jsx("div",{className:"text-2xl font-bold",children:o.reduce((y,b)=>y+(b.current_attendees||0),0)})})]})]}),t==="provider"&&e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الخدمات"}),e.jsx(Xn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(B,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.totalServices})})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"الطلبات"}),e.jsx(Ur,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(B,{children:e.jsx("div",{className:"text-2xl font-bold",children:d.length})})]})]}),t==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الفعاليات"}),e.jsx(kt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(B,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.totalEvents})})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الخدمات"}),e.jsx(Xn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(B,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.totalServices})})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"المستخدمون"}),e.jsx(_t,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(B,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.totalUsers})})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"الإيرادات"}),e.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(B,{children:e.jsxs("div",{className:"text-2xl font-bold",children:[n.totalRevenue," ريال"]})})]})]})]}),e.jsxs(Hr,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(Dr,{children:[e.jsx(rt,{value:"overview",children:"نظرة عامة"}),t==="organizer"&&e.jsx(rt,{value:"events",children:"فعالياتي"}),t==="provider"&&e.jsx(rt,{value:"services",children:"خدماتي"}),t==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(rt,{value:"events",children:"الفعاليات"}),e.jsx(rt,{value:"services",children:"الخدمات"}),e.jsx(rt,{value:"users",children:"المستخدمون"})]})]}),e.jsx(jt,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"الأنشطة الأخيرة"})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"تم إنشاء فعالية جديدة"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"منذ ساعتين"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"تم قبول طلب جديد"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"منذ 4 ساعات"})]})]})]})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"الإحصائيات السريعة"})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"معدل القبول"}),e.jsx("span",{className:"text-sm font-medium",children:"85%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"متوسط التقييم"}),e.jsx("span",{className:"text-sm font-medium",children:"4.8"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"الطلبات المعلقة"}),e.jsx("span",{className:"text-sm font-medium",children:"3"})]})]})})]})]})}),t==="organizer"&&e.jsxs(jt,{value:"events",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"فعالياتي"}),e.jsx(A,{asChild:!0,children:e.jsxs(Fe,{to:"/create-event",children:[e.jsx(Cr,{className:"w-4 h-4 ml-2"}),"إنشاء فعالية جديدة"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(y=>e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(J,{className:"text-lg",children:y.title_ar}),e.jsx(ge,{className:w(y.status),children:y.status==="pending"?"معلق":y.status==="approved"?"مقبول":"مرفوض"})]})}),e.jsxs(B,{children:[e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[y.description_ar?.substring(0,100),"..."]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-lg font-bold text-primary",children:[y.price," ريال"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{size:"sm",variant:"outline",children:e.jsx(Sr,{className:"w-4 h-4"})}),e.jsx(A,{size:"sm",variant:"outline",children:e.jsx(el,{className:"w-4 h-4"})}),e.jsx(A,{size:"sm",variant:"outline",children:e.jsx(sn,{className:"w-4 h-4"})})]})]})]})]},y.id))})]}),t==="provider"&&e.jsxs(jt,{value:"services",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"خدماتي"}),e.jsx(A,{asChild:!0,children:e.jsxs(Fe,{to:"/create-service",children:[e.jsx(Cr,{className:"w-4 h-4 ml-2"}),"إضافة خدمة جديدة"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(y=>e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(J,{className:"text-lg",children:y.name_ar}),e.jsx(ge,{className:w(y.status),children:y.status==="pending"?"معلق":y.status==="approved"?"مقبول":"مرفوض"})]})}),e.jsxs(B,{children:[e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[y.description_ar?.substring(0,100),"..."]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-lg font-bold text-primary",children:[y.price," ريال"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{size:"sm",variant:"outline",children:e.jsx(Sr,{className:"w-4 h-4"})}),e.jsx(A,{size:"sm",variant:"outline",children:e.jsx(el,{className:"w-4 h-4"})}),e.jsx(A,{size:"sm",variant:"outline",children:e.jsx(sn,{className:"w-4 h-4"})})]})]})]})]},y.id))})]}),t==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs(jt,{value:"users",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"إدارة المستخدمين"}),e.jsx("div",{className:"space-y-4",children:f.map(y=>e.jsx($,{children:e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(ui,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:y.full_name||"بدون اسم"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:y.bio||"بدون وصف"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ge,{className:S(y.user_roles?.[0]?.role||"attendee"),children:v(y.user_roles?.[0]?.role||"attendee")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{size:"sm",variant:"outline",onClick:()=>j(y.user_id,"admin"),children:e.jsx(Ms,{className:"w-4 h-4"})}),e.jsx(A,{size:"sm",variant:"outline",onClick:()=>j(y.user_id,"organizer"),children:e.jsx(TN,{className:"w-4 h-4"})}),e.jsx(A,{size:"sm",variant:"outline",onClick:()=>j(y.user_id,"provider"),children:e.jsx(Xn,{className:"w-4 h-4"})}),e.jsx(A,{size:"sm",variant:"outline",onClick:()=>j(y.user_id,"attendee"),children:e.jsx(AN,{className:"w-4 h-4"})})]})]})]})})},y.id))})]}),e.jsxs(jt,{value:"events",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"إدارة الفعاليات"}),e.jsx("p",{className:"text-muted-foreground",children:"قريباً - إدارة وموافقة الفعاليات"})]}),e.jsxs(jt,{value:"services",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"إدارة الخدمات"}),e.jsx("p",{className:"text-muted-foreground",children:"قريباً - إدارة وموافقة الخدمات"})]})]})]})]}),e.jsx(nt,{})]})},Er=x.forwardRef(({className:s,...t},r)=>e.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...t}));Er.displayName="Textarea";const Fz=()=>{const{user:s,profile:t,userRole:r,loading:n,updateProfile:a}=Ct(),o=ar(),[c,d]=x.useState(!1),[h,f]=x.useState(!1),[m,p]=x.useState({full_name:"",bio:"",phone:"",city:""}),[j,w]=x.useState({events_attended:0,events_organized:0,services_provided:0,total_earnings:0});x.useEffect(()=>{!s&&!n&&o("/auth")},[s,n,o]),x.useEffect(()=>{t&&p({full_name:t.full_name||"",bio:t.bio||"",phone:t.phone||"",city:t.city||""})},[t]);const S=x.useCallback(async()=>{try{const{data:k}=await L.from("events").select("*").eq(r==="organizer"?"organizer_id":"id",s?.id),{data:E}=await L.from("services").select("*").eq("provider_id",s?.id),{data:P}=await L.from("profiles").select("points_balance").eq("user_id",s?.id).single(),{data:R}=await L.from("user_wallets").select("balance, total_earned").eq("user_id",s?.id).single(),{data:D}=await L.from("reviews").select("rating").eq("user_id",s?.id),U=D&&D.length>0?D.reduce((V,te)=>V+te.rating,0)/D.length:0;w({events_attended:0,events_organized:r==="organizer"&&k?.length||0,services_provided:r==="provider"&&E?.length||0,total_earnings:R?.total_earned||0})}catch(k){console.error("Error loading stats:",k),w({events_attended:0,events_organized:0,services_provided:0,total_earnings:0})}},[s?.id,r]);x.useEffect(()=>{s&&S()},[s,S]);const v=async k=>{k.preventDefault();try{const{error:E}=await a(m);E?Me.error("حدث خطأ في تحديث الملف الشخصي"):(Me.success("تم تحديث الملف الشخصي بنجاح"),d(!1))}catch{Me.error("حدث خطأ غير متوقع")}},y=async k=>{const E=k.target.files?.[0];if(E){if(!E.type.startsWith("image/")){Me.error("يرجى اختيار ملف صورة صالح");return}if(E.size>5*1024*1024){Me.error("حجم الصورة يجب أن يكون أقل من 5 ميجابايت");return}f(!0);try{Me.success("سيتم تفعيل رفع الصور قريباً")}catch{Me.error("حدث خطأ في رفع الصورة")}finally{f(!1)}}},b=()=>{switch(r){case"attendee":return"باحث عن فعالية";case"organizer":return"منظم فعاليات";case"provider":return"مقدم خدمة";default:return"غير محدد"}},_=()=>{switch(r){case"attendee":return"bg-blue-100 text-blue-800";case"organizer":return"bg-green-100 text-green-800";case"provider":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx($,{className:"mb-8",children:e.jsx(B,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Xi,{className:"h-32 w-32",children:[e.jsx(Ji,{src:t?.avatar_url||""}),e.jsx(eo,{className:"text-2xl",children:t?.full_name?.charAt(0)||s.email?.charAt(0)||"U"})]}),e.jsxs("label",{className:"absolute bottom-0 right-0 cursor-pointer",children:[e.jsx("div",{className:"bg-primary text-primary-foreground rounded-full p-2 hover:bg-primary/90 transition-colors",children:e.jsx(Vi,{className:"h-4 w-4"})}),e.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden",disabled:h})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:t?.full_name||"اسم المستخدم"}),e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx(ge,{className:_(),children:b()})}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(sa,{className:"h-4 w-4"}),s.email]}),t?.phone&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(En,{className:"h-4 w-4"}),t.phone]}),t?.city&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-4 w-4"}),t.city]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 md:mt-0",children:[e.jsxs(A,{variant:"outline",onClick:()=>d(!c),children:[e.jsx(eT,{className:"h-4 w-4 mr-2"}),c?"إلغاء":"تعديل"]}),e.jsxs(A,{variant:"outline",onClick:()=>o("/settings"),children:[e.jsx(Xn,{className:"h-4 w-4 mr-2"}),"الإعدادات"]})]})]}),t?.bio&&e.jsx("p",{className:"text-muted-foreground mb-4",children:t.bio}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r==="attendee"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:j.events_attended}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"فعالية حضرتها"})]})}),r==="organizer"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:j.events_organized}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"فعالية نظمتها"})]})}),r==="provider"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:j.services_provided}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"خدمة قدمتها"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[j.total_earnings," ر.س"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"إجمالي الأرباح"})]})]})]})]})]})})}),e.jsxs(Hr,{defaultValue:"info",className:"space-y-6",children:[e.jsxs(Dr,{className:"grid w-full grid-cols-2",children:[e.jsx(rt,{value:"info",children:"المعلومات"}),e.jsx(rt,{value:"reviews",children:"التقييمات"})]}),e.jsx(jt,{value:"info",children:e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"المعلومات الشخصية"}),e.jsx(Je,{children:"إدارة معلوماتك الأساسية والملف الشخصي"})]}),e.jsx(B,{children:c?e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"full_name",children:"الاسم الكامل"}),e.jsx(Re,{id:"full_name",value:m.full_name,onChange:k=>p({...m,full_name:k.target.value}),placeholder:"أدخل اسمك الكامل"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"phone",children:"رقم الجوال"}),e.jsx(Re,{id:"phone",value:m.phone,onChange:k=>p({...m,phone:k.target.value}),placeholder:"05xxxxxxxx",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"city",children:"المدينة"}),e.jsx(Re,{id:"city",value:m.city,onChange:k=>p({...m,city:k.target.value}),placeholder:"اختر مدينتك"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"bio",children:"نبذة شخصية"}),e.jsx(Er,{id:"bio",value:m.bio,onChange:k=>p({...m,bio:k.target.value}),placeholder:"اكتب نبذة مختصرة عن نفسك (250 حرف كحد أقصى)",maxLength:250,className:"min-h-[100px]"}),e.jsxs("div",{className:"text-xs text-muted-foreground text-left",children:[m.bio.length,"/250"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{type:"submit",children:"حفظ التغييرات"}),e.jsx(A,{type:"button",variant:"outline",onClick:()=>d(!1),children:"إلغاء"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"الاسم الكامل"}),e.jsx("p",{className:"text-lg",children:t?.full_name||"غير محدد"})]}),e.jsxs("div",{children:[e.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"البريد الإلكتروني"}),e.jsx("p",{className:"text-lg",dir:"ltr",children:s.email})]}),e.jsxs("div",{children:[e.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"رقم الجوال"}),e.jsx("p",{className:"text-lg",dir:"ltr",children:t?.phone||"غير محدد"})]}),e.jsxs("div",{children:[e.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"المدينة"}),e.jsx("p",{className:"text-lg",children:t?.city||"غير محدد"})]}),e.jsxs("div",{children:[e.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"نوع الحساب"}),e.jsx("p",{className:"text-lg",children:b()})]}),e.jsxs("div",{children:[e.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"تاريخ الانضمام"}),e.jsx("p",{className:"text-lg",children:new Date(s.created_at).toLocaleDateString("ar-SA")})]})]}),t?.bio&&e.jsxs("div",{children:[e.jsx(De,{className:"text-sm font-medium text-muted-foreground",children:"النبذة الشخصية"}),e.jsx("p",{className:"text-lg mt-1",children:t.bio})]})]})})]})}),e.jsx(jt,{value:"reviews",children:e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"التقييمات والمراجعات"}),e.jsx(Je,{children:"التقييمات التي تلقيتها من المستخدمين"})]}),e.jsx(B,{children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx(Kt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد تقييمات بعد"}),e.jsx("p",{className:"text-muted-foreground",children:"لم تتلق أي تقييمات من المستخدمين حتى الآن"})]})})]})})]})]})})]}):null};var jf="Switch",[$z]=Vs(jf),[zz,Uz]=$z(jf),rC=x.forwardRef((s,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:c,disabled:d,value:h="on",onCheckedChange:f,form:m,...p}=s,[j,w]=x.useState(null),S=ft(t,k=>w(k)),v=x.useRef(!1),y=j?m||!!j.closest("form"):!0,[b,_]=Pn({prop:a,defaultProp:o??!1,onChange:f,caller:jf});return e.jsxs(zz,{scope:r,checked:b,disabled:d,children:[e.jsx(Be.button,{type:"button",role:"switch","aria-checked":b,"aria-required":c,"data-state":oC(b),"data-disabled":d?"":void 0,disabled:d,value:h,...p,ref:S,onClick:Se(s.onClick,k=>{_(E=>!E),y&&(v.current=k.isPropagationStopped(),v.current||k.stopPropagation())})}),y&&e.jsx(iC,{control:j,bubbles:!v.current,name:n,value:h,checked:b,required:c,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});rC.displayName=jf;var nC="SwitchThumb",aC=x.forwardRef((s,t)=>{const{__scopeSwitch:r,...n}=s,a=Uz(nC,r);return e.jsx(Be.span,{"data-state":oC(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});aC.displayName=nC;var Bz="SwitchBubbleInput",iC=x.forwardRef(({__scopeSwitch:s,control:t,checked:r,bubbles:n=!0,...a},o)=>{const c=x.useRef(null),d=ft(c,o),h=iv(r),f=bg(t);return x.useEffect(()=>{const m=c.current;if(!m)return;const p=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(p,"checked").set;if(h!==r&&w){const S=new Event("click",{bubbles:n});w.call(m,r),m.dispatchEvent(S)}},[h,r,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:d,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});iC.displayName=Bz;function oC(s){return s?"checked":"unchecked"}var lC=rC,qz=aC;const wr=x.forwardRef(({className:s,...t},r)=>e.jsx(lC,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:r,children:e.jsx(qz,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wr.displayName=lC.displayName;const Vz=()=>{const{user:s,signOut:t,loading:r}=Ct(),n=ar(),[a,o]=x.useState("account"),[c,d]=x.useState(!1),[h,f]=x.useState(!1),[m,p]=x.useState({email:"",phone:"",currentPassword:"",newPassword:"",confirmPassword:""}),[j,w]=x.useState({emailNotifications:!0,smsNotifications:!1,appNotifications:!0,marketingEmails:!1,eventReminders:!0,bookingUpdates:!0}),[S,v]=x.useState({profileVisible:!0,showPhone:!1,showEmail:!1,allowMessages:!0,showActivity:!0});x.useEffect(()=>{!s&&!r&&n("/auth")},[s,r,n]),x.useEffect(()=>{s&&p(E=>({...E,email:s.email||""}))},[s]);const y=async E=>{if(E.preventDefault(),m.newPassword!==m.confirmPassword){Me.error("كلمات المرور الجديدة غير متطابقة");return}if(m.newPassword.length<6){Me.error("كلمة المرور يجب أن تكون 6 أحرف على الأقل");return}try{Me.success("تم تغيير كلمة المرور بنجاح"),p(P=>({...P,currentPassword:"",newPassword:"",confirmPassword:""})),f(!1)}catch{Me.error("حدث خطأ في تغيير كلمة المرور")}},b=async()=>{try{await t(),Me.success("تم حذف الحساب بنجاح"),n("/")}catch{Me.error("حدث خطأ في حذف الحساب")}},_=()=>{Me.success("تم حفظ إعدادات الإشعارات")},k=()=>{Me.success("تم حفظ إعدادات الخصوصية")};return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("div",{className:"bg-gradient-to-br from-background to-secondary/20 py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"الإعدادات"}),e.jsx("p",{className:"text-muted-foreground",children:"إدارة حسابك وتفضيلاتك الشخصية"})]}),e.jsxs(Hr,{value:a,onValueChange:o,className:"space-y-6",children:[e.jsxs(Dr,{className:"grid w-full grid-cols-4",children:[e.jsxs(rt,{value:"account",className:"flex items-center gap-2",children:[e.jsx(ui,{className:"h-4 w-4"}),"الحساب"]}),e.jsxs(rt,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(Sn,{className:"h-4 w-4"}),"الإشعارات"]}),e.jsxs(rt,{value:"privacy",className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-4 w-4"}),"الخصوصية"]}),e.jsxs(rt,{value:"advanced",className:"flex items-center gap-2",children:[e.jsx(Xn,{className:"h-4 w-4"}),"متقدم"]})]}),e.jsx(jt,{value:"account",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(sa,{className:"h-5 w-5"}),"إعدادات البريد الإلكتروني"]}),e.jsx(Je,{children:"إدارة بريدك الإلكتروني وتأكيد الهوية"})]}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"text-sm font-medium",children:"البريد الإلكتروني الحالي"}),e.jsx("p",{className:"text-sm text-muted-foreground",dir:"ltr",children:s.email})]}),e.jsx(A,{variant:"outline",size:"sm",children:"تغيير البريد"})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(De,{className:"text-sm font-medium",children:"حالة التحقق"}),e.jsx("p",{className:"text-sm text-green-600",children:"مؤكد ✓"})]})})]})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(tT,{className:"h-5 w-5"}),"إعدادات رقم الجوال"]}),e.jsx(Je,{children:"إدارة رقم جوالك للتحقق والأمان"})]}),e.jsx(B,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"phone",children:"رقم الجوال"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Re,{id:"phone",value:m.phone,onChange:E=>p(P=>({...P,phone:E.target.value})),placeholder:"05xxxxxxxx",dir:"ltr"}),e.jsx(A,{variant:"outline",children:"تحديث"})]})]})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(KP,{className:"h-5 w-5"}),"كلمة المرور"]}),e.jsx(Je,{children:"تغيير كلمة المرور الخاصة بك"})]}),e.jsx(B,{children:h?e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"currentPassword",children:"كلمة المرور الحالية"}),e.jsx(Re,{id:"currentPassword",type:"password",value:m.currentPassword,onChange:E=>p(P=>({...P,currentPassword:E.target.value})),required:!0,dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"newPassword",children:"كلمة المرور الجديدة"}),e.jsx(Re,{id:"newPassword",type:"password",value:m.newPassword,onChange:E=>p(P=>({...P,newPassword:E.target.value})),required:!0,dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"confirmPassword",children:"تأكيد كلمة المرور الجديدة"}),e.jsx(Re,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:E=>p(P=>({...P,confirmPassword:E.target.value})),required:!0,dir:"ltr"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{type:"submit",children:"حفظ كلمة المرور"}),e.jsx(A,{type:"button",variant:"outline",onClick:()=>f(!1),children:"إلغاء"})]})]}):e.jsx(A,{onClick:()=>f(!0),variant:"outline",children:"تغيير كلمة المرور"})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(YP,{className:"h-5 w-5"}),"ربط الحسابات"]}),e.jsx(Je,{children:"ربط حسابك مع وسائل التواصل الاجتماعي"})]}),e.jsx(B,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(sa,{className:"h-4 w-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Google"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"غير مربوط"})]})]}),e.jsx(A,{variant:"outline",size:"sm",children:"ربط"})]})})]})]})}),e.jsx(jt,{value:"notifications",children:e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Sn,{className:"h-5 w-5"}),"إعدادات الإشعارات"]}),e.jsx(Je,{children:"تحكم في الإشعارات التي تتلقاها"})]}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"font-medium",children:"إشعارات البريد الإلكتروني"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"تلقي الإشعارات عبر البريد الإلكتروني"})]}),e.jsx(wr,{checked:j.emailNotifications,onCheckedChange:E=>w(P=>({...P,emailNotifications:E}))})]}),e.jsx(Ds,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"font-medium",children:"رسائل SMS"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"تلقي الإشعارات عبر رسائل نصية"})]}),e.jsx(wr,{checked:j.smsNotifications,onCheckedChange:E=>w(P=>({...P,smsNotifications:E}))})]}),e.jsx(Ds,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"font-medium",children:"إشعارات التطبيق"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"الإشعارات داخل التطبيق (لا يمكن تعطيلها)"})]}),e.jsx(wr,{checked:j.appNotifications,disabled:!0})]}),e.jsx(Ds,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"font-medium",children:"تذكير الفعاليات"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"تذكير قبل بدء الفعاليات المحجوزة"})]}),e.jsx(wr,{checked:j.eventReminders,onCheckedChange:E=>w(P=>({...P,eventReminders:E}))})]}),e.jsx(Ds,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"font-medium",children:"تحديثات الحجوزات"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"إشعارات عند تغيير حالة الحجز"})]}),e.jsx(wr,{checked:j.bookingUpdates,onCheckedChange:E=>w(P=>({...P,bookingUpdates:E}))})]}),e.jsx(Ds,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"font-medium",children:"رسائل تسويقية"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"عروض وأخبار المنصة"})]}),e.jsx(wr,{checked:j.marketingEmails,onCheckedChange:E=>w(P=>({...P,marketingEmails:E}))})]})]}),e.jsx(A,{onClick:_,className:"w-full",children:"حفظ إعدادات الإشعارات"})]})]})}),e.jsx(jt,{value:"privacy",children:e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-5 w-5"}),"إعدادات الخصوصية"]}),e.jsx(Je,{children:"تحكم في من يمكنه رؤية معلوماتك"})]}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"font-medium",children:"إظهار الملف الشخصي"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"السماح للآخرين برؤية ملفك الشخصي"})]}),e.jsx(wr,{checked:S.profileVisible,onCheckedChange:E=>v(P=>({...P,profileVisible:E}))})]}),e.jsx(Ds,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"font-medium",children:"إظهار رقم الجوال"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"السماح للآخرين برؤية رقم جوالك"})]}),e.jsx(wr,{checked:S.showPhone,onCheckedChange:E=>v(P=>({...P,showPhone:E}))})]}),e.jsx(Ds,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"font-medium",children:"إظهار البريد الإلكتروني"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"السماح للآخرين برؤية بريدك الإلكتروني"})]}),e.jsx(wr,{checked:S.showEmail,onCheckedChange:E=>v(P=>({...P,showEmail:E}))})]}),e.jsx(Ds,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"font-medium",children:"السماح بالرسائل"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"السماح للمستخدمين الآخرين بمراسلتك"})]}),e.jsx(wr,{checked:S.allowMessages,onCheckedChange:E=>v(P=>({...P,allowMessages:E}))})]}),e.jsx(Ds,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(De,{className:"font-medium",children:"إظهار النشاط"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"إظهار آخر نشاط لك في المنصة"})]}),e.jsx(wr,{checked:S.showActivity,onCheckedChange:E=>v(P=>({...P,showActivity:E}))})]})]}),e.jsx(A,{onClick:k,className:"w-full",children:"حفظ إعدادات الخصوصية"})]})]})}),e.jsx(jt,{value:"advanced",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(sx,{className:"h-5 w-5"}),"اللغة والمنطقة"]}),e.jsx(Je,{children:"تحديد اللغة المفضلة والمنطقة الزمنية"})]}),e.jsx(B,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"اللغة المفضلة"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{variant:"default",size:"sm",children:"العربية"}),e.jsx(A,{variant:"outline",size:"sm",children:"English"})]})]})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"إدارة البيانات"}),e.jsx(Je,{children:"تصدير أو حذف بياناتك"})]}),e.jsxs(B,{className:"space-y-4",children:[e.jsx(A,{variant:"outline",className:"w-full",onClick:async()=>{try{const E={email:s?.email,exportDate:new Date().toISOString()},P=JSON.stringify(E,null,2),R=new Blob([P],{type:"application/json"}),D=URL.createObjectURL(R),U=document.createElement("a");U.href=D,U.download=`user-data-${new Date().toISOString().split("T")[0]}.json`,U.click(),URL.revokeObjectURL(D),Me.success("تم تصدير البيانات بنجاح")}catch{Me.error("حدث خطأ في تصدير البيانات")}},children:"تصدير بياناتي"}),e.jsx(A,{variant:"outline",className:"w-full",onClick:async()=>{if(confirm("هل أنت متأكد من إيقاف حسابك مؤقتاً؟ لن تتمكن من الوصول إلى حسابك حتى تقوم بإعادة تفعيله."))try{Me.success("تم إيقاف الحساب مؤقتاً بنجاح"),await t()}catch{Me.error("حدث خطأ في إيقاف الحساب")}},children:"إيقاف الحساب مؤقتاً"})]})]}),e.jsxs($,{className:"border-destructive",children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2 text-destructive",children:[e.jsx(hr,{className:"h-5 w-5"}),"منطقة الخطر"]}),e.jsx(Je,{children:"إجراءات لا يمكن التراجع عنها"})]}),e.jsx(B,{children:c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Os,{variant:"destructive",children:[e.jsx(hr,{className:"h-4 w-4"}),e.jsx(Is,{children:"هذا الإجراء لا يمكن التراجع عنه. سيتم حذف جميع بياناتك نهائياً."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{variant:"destructive",onClick:b,className:"flex-1",children:"تأكيد الحذف"}),e.jsx(A,{variant:"outline",onClick:()=>d(!1),className:"flex-1",children:"إلغاء"})]})]}):e.jsxs(A,{variant:"destructive",onClick:()=>d(!0),className:"w-full",children:[e.jsx(sn,{className:"h-4 w-4 mr-2"}),"حذف الحساب نهائياً"]})})]})]})})]})]})})]}):null};var md=s=>s.type==="checkbox",Ui=s=>s instanceof Date,dr=s=>s==null;const cC=s=>typeof s=="object";var bs=s=>!dr(s)&&!Array.isArray(s)&&cC(s)&&!Ui(s),dC=s=>bs(s)&&s.target?md(s.target)?s.target.checked:s.target.value:s,Wz=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,uC=(s,t)=>s.has(Wz(t)),Hz=s=>{const t=s.constructor&&s.constructor.prototype;return bs(t)&&t.hasOwnProperty("isPrototypeOf")},vv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function As(s){let t;const r=Array.isArray(s),n=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)t=new Date(s);else if(!(vv&&(s instanceof Blob||n))&&(r||bs(s)))if(t=r?[]:{},!r&&!Hz(s))t=s;else for(const a in s)s.hasOwnProperty(a)&&(t[a]=As(s[a]));else return s;return t}var wf=s=>/^\w*$/.test(s),js=s=>s===void 0,yv=s=>Array.isArray(s)?s.filter(Boolean):[],jv=s=>yv(s.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(s,t,r)=>{if(!t||!bs(s))return r;const n=(wf(t)?[t]:jv(t)).reduce((a,o)=>dr(a)?a:a[o],s);return js(n)||n===s?js(s[t])?r:s[t]:n},$r=s=>typeof s=="boolean",Ut=(s,t,r)=>{let n=-1;const a=wf(t)?[t]:jv(t),o=a.length,c=o-1;for(;++n<o;){const d=a[n];let h=r;if(n!==c){const f=s[d];h=bs(f)||Array.isArray(f)?f:isNaN(+a[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;s[d]=h,s=s[d]}};const vh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Nn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ga={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wv=de.createContext(null);wv.displayName="HookFormContext";const bf=()=>de.useContext(wv),Gz=s=>{const{children:t,...r}=s;return de.createElement(wv.Provider,{value:r},t)};var hC=(s,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const o in s)Object.defineProperty(a,o,{get:()=>{const c=o;return t._proxyFormState[c]!==Nn.all&&(t._proxyFormState[c]=!n||Nn.all),r&&(r[c]=!0),s[c]}});return a};const bv=typeof window<"u"?de.useLayoutEffect:de.useEffect;function Kz(s){const t=bf(),{control:r=t.control,disabled:n,name:a,exact:o}=s||{},[c,d]=de.useState(r._formState),h=de.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return bv(()=>r._subscribe({name:a,formState:h.current,exact:o,callback:f=>{!n&&d({...r._formState,...f})}}),[a,n,o]),de.useEffect(()=>{h.current.isValid&&r._setValid(!0)},[r]),de.useMemo(()=>hC(c,r,h.current,!1),[c,r])}var Zn=s=>typeof s=="string",fC=(s,t,r,n,a)=>Zn(s)?(n&&t.watch.add(s),Ae(r,s,a)):Array.isArray(s)?s.map(o=>(n&&t.watch.add(o),Ae(r,o))):(n&&(t.watchAll=!0),r),Vx=s=>dr(s)||!cC(s);function ja(s,t,r=new WeakSet){if(Vx(s)||Vx(t))return s===t;if(Ui(s)&&Ui(t))return s.getTime()===t.getTime();const n=Object.keys(s),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(s)||r.has(t))return!0;r.add(s),r.add(t);for(const o of n){const c=s[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=t[o];if(Ui(c)&&Ui(d)||bs(c)&&bs(d)||Array.isArray(c)&&Array.isArray(d)?!ja(c,d,r):c!==d)return!1}}return!0}function Yz(s){const t=bf(),{control:r=t.control,name:n,defaultValue:a,disabled:o,exact:c,compute:d}=s||{},h=de.useRef(a),f=de.useRef(d),m=de.useRef(void 0);f.current=d;const p=de.useMemo(()=>r._getWatch(n,h.current),[r,n]),[j,w]=de.useState(f.current?f.current(p):p);return bv(()=>r._subscribe({name:n,formState:{values:!0},exact:c,callback:S=>{if(!o){const v=fC(n,r._names,S.values||r._formValues,!1,h.current);if(f.current){const y=f.current(v);ja(y,m.current)||(w(y),m.current=y)}else w(v)}}}),[r,o,n,c]),de.useEffect(()=>r._removeUnmounted()),j}function Qz(s){const t=bf(),{name:r,disabled:n,control:a=t.control,shouldUnregister:o,defaultValue:c}=s,d=uC(a._names.array,r),h=de.useMemo(()=>Ae(a._formValues,r,Ae(a._defaultValues,r,c)),[a,r,c]),f=Yz({control:a,name:r,defaultValue:h,exact:!0}),m=Kz({control:a,name:r,exact:!0}),p=de.useRef(s),j=de.useRef(a.register(r,{...s.rules,value:f,...$r(s.disabled)?{disabled:s.disabled}:{}}));p.current=s;const w=de.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ae(m.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ae(m.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ae(m.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ae(m.validatingFields,r)},error:{enumerable:!0,get:()=>Ae(m.errors,r)}}),[m,r]),S=de.useCallback(_=>j.current.onChange({target:{value:dC(_),name:r},type:vh.CHANGE}),[r]),v=de.useCallback(()=>j.current.onBlur({target:{value:Ae(a._formValues,r),name:r},type:vh.BLUR}),[r,a._formValues]),y=de.useCallback(_=>{const k=Ae(a._fields,r);k&&_&&(k._f.ref={focus:()=>_.focus&&_.focus(),select:()=>_.select&&_.select(),setCustomValidity:E=>_.setCustomValidity(E),reportValidity:()=>_.reportValidity()})},[a._fields,r]),b=de.useMemo(()=>({name:r,value:f,...$r(n)||m.disabled?{disabled:m.disabled||n}:{},onChange:S,onBlur:v,ref:y}),[r,n,m.disabled,S,v,y,f]);return de.useEffect(()=>{const _=a._options.shouldUnregister||o;a.register(r,{...p.current.rules,...$r(p.current.disabled)?{disabled:p.current.disabled}:{}});const k=(E,P)=>{const R=Ae(a._fields,E);R&&R._f&&(R._f.mount=P)};if(k(r,!0),_){const E=As(Ae(a._options.defaultValues,r));Ut(a._defaultValues,r,E),js(Ae(a._formValues,r))&&Ut(a._formValues,r,E)}return!d&&a.register(r),()=>{(d?_&&!a._state.action:_)?a.unregister(r):k(r,!1)}},[r,a,d,o]),de.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),de.useMemo(()=>({field:b,formState:m,fieldState:w}),[b,m,w])}const Zz=s=>s.render(Qz(s));var mC=(s,t,r,n,a)=>t?{...r[s],types:{...r[s]&&r[s].types?r[s].types:{},[n]:a||!0}}:{},Cc=s=>Array.isArray(s)?s:[s],Nb=()=>{let s=[];return{get observers(){return s},next:a=>{for(const o of s)o.next&&o.next(a)},subscribe:a=>(s.push(a),{unsubscribe:()=>{s=s.filter(o=>o!==a)}}),unsubscribe:()=>{s=[]}}},br=s=>bs(s)&&!Object.keys(s).length,Nv=s=>s.type==="file",_n=s=>typeof s=="function",yh=s=>{if(!vv)return!1;const t=s?s.ownerDocument:0;return s instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},pC=s=>s.type==="select-multiple",_v=s=>s.type==="radio",Xz=s=>_v(s)||md(s),Yp=s=>yh(s)&&s.isConnected;function Jz(s,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)s=js(s)?n++:s[t[n++]];return s}function eU(s){for(const t in s)if(s.hasOwnProperty(t)&&!js(s[t]))return!1;return!0}function Ss(s,t){const r=Array.isArray(t)?t:wf(t)?[t]:jv(t),n=r.length===1?s:Jz(s,r),a=r.length-1,o=r[a];return n&&delete n[o],a!==0&&(bs(n)&&br(n)||Array.isArray(n)&&eU(n))&&Ss(s,r.slice(0,-1)),s}var xC=s=>{for(const t in s)if(_n(s[t]))return!0;return!1};function jh(s,t={}){const r=Array.isArray(s);if(bs(s)||r)for(const n in s)Array.isArray(s[n])||bs(s[n])&&!xC(s[n])?(t[n]=Array.isArray(s[n])?[]:{},jh(s[n],t[n])):dr(s[n])||(t[n]=!0);return t}function gC(s,t,r){const n=Array.isArray(s);if(bs(s)||n)for(const a in s)Array.isArray(s[a])||bs(s[a])&&!xC(s[a])?js(t)||Vx(r[a])?r[a]=Array.isArray(s[a])?jh(s[a],[]):{...jh(s[a])}:gC(s[a],dr(t)?{}:t[a],r[a]):r[a]=!ja(s[a],t[a]);return r}var hc=(s,t)=>gC(s,t,jh(t));const _b={value:!1,isValid:!1},Sb={value:!0,isValid:!0};var vC=s=>{if(Array.isArray(s)){if(s.length>1){const t=s.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!js(s[0].attributes.value)?js(s[0].value)||s[0].value===""?Sb:{value:s[0].value,isValid:!0}:Sb:_b}return _b},yC=(s,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>js(s)?s:t?s===""?NaN:s&&+s:r&&Zn(s)?new Date(s):n?n(s):s;const kb={isValid:!1,value:null};var jC=s=>Array.isArray(s)?s.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,kb):kb;function Cb(s){const t=s.ref;return Nv(t)?t.files:_v(t)?jC(s.refs).value:pC(t)?[...t.selectedOptions].map(({value:r})=>r):md(t)?vC(s.refs).value:yC(js(t.value)?s.ref.value:t.value,s)}var tU=(s,t,r,n)=>{const a={};for(const o of s){const c=Ae(t,o);c&&Ut(a,o,c._f)}return{criteriaMode:r,names:[...s],fields:a,shouldUseNativeValidation:n}},wh=s=>s instanceof RegExp,fc=s=>js(s)?s:wh(s)?s.source:bs(s)?wh(s.value)?s.value.source:s.value:s,Eb=s=>({isOnSubmit:!s||s===Nn.onSubmit,isOnBlur:s===Nn.onBlur,isOnChange:s===Nn.onChange,isOnAll:s===Nn.all,isOnTouch:s===Nn.onTouched});const Pb="AsyncFunction";var sU=s=>!!s&&!!s.validate&&!!(_n(s.validate)&&s.validate.constructor.name===Pb||bs(s.validate)&&Object.values(s.validate).find(t=>t.constructor.name===Pb)),rU=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),Tb=(s,t,r)=>!r&&(t.watchAll||t.watch.has(s)||[...t.watch].some(n=>s.startsWith(n)&&/^\.\w+/.test(s.slice(n.length))));const Ec=(s,t,r,n)=>{for(const a of r||Object.keys(s)){const o=Ae(s,a);if(o){const{_f:c,...d}=o;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],a)&&!n)return!0;if(c.ref&&t(c.ref,c.name)&&!n)return!0;if(Ec(d,t))break}else if(bs(d)&&Ec(d,t))break}}};function Rb(s,t,r){const n=Ae(s,r);if(n||wf(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const o=a.join("."),c=Ae(t,o),d=Ae(s,o);if(c&&!Array.isArray(c)&&r!==o)return{name:r};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};a.pop()}return{name:r}}var nU=(s,t,r,n)=>{r(s);const{name:a,...o}=s;return br(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(c=>t[c]===(!n||Nn.all))},aU=(s,t,r)=>!s||!t||s===t||Cc(s).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),iU=(s,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||s):(r?n.isOnBlur:a.isOnBlur)?!s:(r?n.isOnChange:a.isOnChange)?s:!0,oU=(s,t)=>!yv(Ae(s,t)).length&&Ss(s,t),lU=(s,t,r)=>{const n=Cc(Ae(s,r));return Ut(n,"root",t[r]),Ut(s,r,n),s},Zu=s=>Zn(s);function Ab(s,t,r="validate"){if(Zu(s)||Array.isArray(s)&&s.every(Zu)||$r(s)&&!s)return{type:r,message:Zu(s)?s:"",ref:t}}var Wo=s=>bs(s)&&!wh(s)?s:{value:s,message:""},Db=async(s,t,r,n,a,o)=>{const{ref:c,refs:d,required:h,maxLength:f,minLength:m,min:p,max:j,pattern:w,validate:S,name:v,valueAsNumber:y,mount:b}=s._f,_=Ae(r,v);if(!b||t.has(v))return{};const k=d?d[0]:c,E=K=>{a&&k.reportValidity&&(k.setCustomValidity($r(K)?"":K||""),k.reportValidity())},P={},R=_v(c),D=md(c),U=R||D,V=(y||Nv(c))&&js(c.value)&&js(_)||yh(c)&&c.value===""||_===""||Array.isArray(_)&&!_.length,te=mC.bind(null,v,n,P),oe=(K,ce,H,ve=ga.maxLength,ue=ga.minLength)=>{const Y=K?ce:H;P[v]={type:K?ve:ue,message:Y,ref:c,...te(K?ve:ue,Y)}};if(o?!Array.isArray(_)||!_.length:h&&(!U&&(V||dr(_))||$r(_)&&!_||D&&!vC(d).isValid||R&&!jC(d).isValid)){const{value:K,message:ce}=Zu(h)?{value:!!h,message:h}:Wo(h);if(K&&(P[v]={type:ga.required,message:ce,ref:k,...te(ga.required,ce)},!n))return E(ce),P}if(!V&&(!dr(p)||!dr(j))){let K,ce;const H=Wo(j),ve=Wo(p);if(!dr(_)&&!isNaN(_)){const ue=c.valueAsNumber||_&&+_;dr(H.value)||(K=ue>H.value),dr(ve.value)||(ce=ue<ve.value)}else{const ue=c.valueAsDate||new Date(_),Y=le=>new Date(new Date().toDateString()+" "+le),F=c.type=="time",W=c.type=="week";Zn(H.value)&&_&&(K=F?Y(_)>Y(H.value):W?_>H.value:ue>new Date(H.value)),Zn(ve.value)&&_&&(ce=F?Y(_)<Y(ve.value):W?_<ve.value:ue<new Date(ve.value))}if((K||ce)&&(oe(!!K,H.message,ve.message,ga.max,ga.min),!n))return E(P[v].message),P}if((f||m)&&!V&&(Zn(_)||o&&Array.isArray(_))){const K=Wo(f),ce=Wo(m),H=!dr(K.value)&&_.length>+K.value,ve=!dr(ce.value)&&_.length<+ce.value;if((H||ve)&&(oe(H,K.message,ce.message),!n))return E(P[v].message),P}if(w&&!V&&Zn(_)){const{value:K,message:ce}=Wo(w);if(wh(K)&&!_.match(K)&&(P[v]={type:ga.pattern,message:ce,ref:c,...te(ga.pattern,ce)},!n))return E(ce),P}if(S){if(_n(S)){const K=await S(_,r),ce=Ab(K,k);if(ce&&(P[v]={...ce,...te(ga.validate,ce.message)},!n))return E(ce.message),P}else if(bs(S)){let K={};for(const ce in S){if(!br(K)&&!n)break;const H=Ab(await S[ce](_,r),k,ce);H&&(K={...H,...te(ce,H.message)},E(H.message),n&&(P[v]=K))}if(!br(K)&&(P[v]={ref:k,...K},!n))return P}}return E(!0),P};const cU={mode:Nn.onSubmit,reValidateMode:Nn.onChange,shouldFocusError:!0};function dU(s={}){let t={...cU,...s},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:_n(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=bs(t.defaultValues)||bs(t.values)?As(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:As(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,f=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...m};const j={array:Nb(),state:Nb()},w=t.criteriaMode===Nn.all,S=O=>G=>{clearTimeout(f),f=setTimeout(O,G)},v=async O=>{if(!t.disabled&&(m.isValid||p.isValid||O)){const G=t.resolver?br((await D()).errors):await V(n,!0);G!==r.isValid&&j.state.next({isValid:G})}},y=(O,G)=>{!t.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((O||Array.from(d.mount)).forEach(ae=>{ae&&(G?Ut(r.validatingFields,ae,G):Ss(r.validatingFields,ae))}),j.state.next({validatingFields:r.validatingFields,isValidating:!br(r.validatingFields)}))},b=(O,G=[],ae,ke,Ce=!0,je=!0)=>{if(ke&&ae&&!t.disabled){if(c.action=!0,je&&Array.isArray(Ae(n,O))){const ne=ae(Ae(n,O),ke.argA,ke.argB);Ce&&Ut(n,O,ne)}if(je&&Array.isArray(Ae(r.errors,O))){const ne=ae(Ae(r.errors,O),ke.argA,ke.argB);Ce&&Ut(r.errors,O,ne),oU(r.errors,O)}if((m.touchedFields||p.touchedFields)&&je&&Array.isArray(Ae(r.touchedFields,O))){const ne=ae(Ae(r.touchedFields,O),ke.argA,ke.argB);Ce&&Ut(r.touchedFields,O,ne)}(m.dirtyFields||p.dirtyFields)&&(r.dirtyFields=hc(a,o)),j.state.next({name:O,isDirty:oe(O,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ut(o,O,G)},_=(O,G)=>{Ut(r.errors,O,G),j.state.next({errors:r.errors})},k=O=>{r.errors=O,j.state.next({errors:r.errors,isValid:!1})},E=(O,G,ae,ke)=>{const Ce=Ae(n,O);if(Ce){const je=Ae(o,O,js(ae)?Ae(a,O):ae);js(je)||ke&&ke.defaultChecked||G?Ut(o,O,G?je:Cb(Ce._f)):H(O,je),c.mount&&v()}},P=(O,G,ae,ke,Ce)=>{let je=!1,ne=!1;const Ie={name:O};if(!t.disabled){if(!ae||ke){(m.isDirty||p.isDirty)&&(ne=r.isDirty,r.isDirty=Ie.isDirty=oe(),je=ne!==Ie.isDirty);const mt=ja(Ae(a,O),G);ne=!!Ae(r.dirtyFields,O),mt?Ss(r.dirtyFields,O):Ut(r.dirtyFields,O,!0),Ie.dirtyFields=r.dirtyFields,je=je||(m.dirtyFields||p.dirtyFields)&&ne!==!mt}if(ae){const mt=Ae(r.touchedFields,O);mt||(Ut(r.touchedFields,O,ae),Ie.touchedFields=r.touchedFields,je=je||(m.touchedFields||p.touchedFields)&&mt!==ae)}je&&Ce&&j.state.next(Ie)}return je?Ie:{}},R=(O,G,ae,ke)=>{const Ce=Ae(r.errors,O),je=(m.isValid||p.isValid)&&$r(G)&&r.isValid!==G;if(t.delayError&&ae?(h=S(()=>_(O,ae)),h(t.delayError)):(clearTimeout(f),h=null,ae?Ut(r.errors,O,ae):Ss(r.errors,O)),(ae?!ja(Ce,ae):Ce)||!br(ke)||je){const ne={...ke,...je&&$r(G)?{isValid:G}:{},errors:r.errors,name:O};r={...r,...ne},j.state.next(ne)}},D=async O=>{y(O,!0);const G=await t.resolver(o,t.context,tU(O||d.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(O),G},U=async O=>{const{errors:G}=await D(O);if(O)for(const ae of O){const ke=Ae(G,ae);ke?Ut(r.errors,ae,ke):Ss(r.errors,ae)}else r.errors=G;return G},V=async(O,G,ae={valid:!0})=>{for(const ke in O){const Ce=O[ke];if(Ce){const{_f:je,...ne}=Ce;if(je){const Ie=d.array.has(je.name),mt=Ce._f&&sU(Ce._f);mt&&m.validatingFields&&y([ke],!0);const Xt=await Db(Ce,d.disabled,o,w,t.shouldUseNativeValidation&&!G,Ie);if(mt&&m.validatingFields&&y([ke]),Xt[je.name]&&(ae.valid=!1,G))break;!G&&(Ae(Xt,je.name)?Ie?lU(r.errors,Xt,je.name):Ut(r.errors,je.name,Xt[je.name]):Ss(r.errors,je.name))}!br(ne)&&await V(ne,G,ae)}}return ae.valid},te=()=>{for(const O of d.unMount){const G=Ae(n,O);G&&(G._f.refs?G._f.refs.every(ae=>!Yp(ae)):!Yp(G._f.ref))&&ie(O)}d.unMount=new Set},oe=(O,G)=>!t.disabled&&(O&&G&&Ut(o,O,G),!ja(le(),a)),K=(O,G,ae)=>fC(O,d,{...c.mount?o:js(G)?a:Zn(O)?{[O]:G}:G},ae,G),ce=O=>yv(Ae(c.mount?o:a,O,t.shouldUnregister?Ae(a,O,[]):[])),H=(O,G,ae={})=>{const ke=Ae(n,O);let Ce=G;if(ke){const je=ke._f;je&&(!je.disabled&&Ut(o,O,yC(G,je)),Ce=yh(je.ref)&&dr(G)?"":G,pC(je.ref)?[...je.ref.options].forEach(ne=>ne.selected=Ce.includes(ne.value)):je.refs?md(je.ref)?je.refs.forEach(ne=>{(!ne.defaultChecked||!ne.disabled)&&(Array.isArray(Ce)?ne.checked=!!Ce.find(Ie=>Ie===ne.value):ne.checked=Ce===ne.value||!!Ce)}):je.refs.forEach(ne=>ne.checked=ne.value===Ce):Nv(je.ref)?je.ref.value="":(je.ref.value=Ce,je.ref.type||j.state.next({name:O,values:As(o)})))}(ae.shouldDirty||ae.shouldTouch)&&P(O,Ce,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&W(O)},ve=(O,G,ae)=>{for(const ke in G){if(!G.hasOwnProperty(ke))return;const Ce=G[ke],je=O+"."+ke,ne=Ae(n,je);(d.array.has(O)||bs(Ce)||ne&&!ne._f)&&!Ui(Ce)?ve(je,Ce,ae):H(je,Ce,ae)}},ue=(O,G,ae={})=>{const ke=Ae(n,O),Ce=d.array.has(O),je=As(G);Ut(o,O,je),Ce?(j.array.next({name:O,values:As(o)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&ae.shouldDirty&&j.state.next({name:O,dirtyFields:hc(a,o),isDirty:oe(O,je)})):ke&&!ke._f&&!dr(je)?ve(O,je,ae):H(O,je,ae),Tb(O,d)&&j.state.next({...r,name:O}),j.state.next({name:c.mount?O:void 0,values:As(o)})},Y=async O=>{c.mount=!0;const G=O.target;let ae=G.name,ke=!0;const Ce=Ae(n,ae),je=mt=>{ke=Number.isNaN(mt)||Ui(mt)&&isNaN(mt.getTime())||ja(mt,Ae(o,ae,mt))},ne=Eb(t.mode),Ie=Eb(t.reValidateMode);if(Ce){let mt,Xt;const Ht=G.type?Cb(Ce._f):dC(O),Jt=O.type===vh.BLUR||O.type===vh.FOCUS_OUT,Gr=!rU(Ce._f)&&!t.resolver&&!Ae(r.errors,ae)&&!Ce._f.deps||iU(Jt,Ae(r.touchedFields,ae),r.isSubmitted,Ie,ne),Ws=Tb(ae,d,Jt);Ut(o,ae,Ht),Jt?(Ce._f.onBlur&&Ce._f.onBlur(O),h&&h(0)):Ce._f.onChange&&Ce._f.onChange(O);const Hs=P(ae,Ht,Jt),In=!br(Hs)||Ws;if(!Jt&&j.state.next({name:ae,type:O.type,values:As(o)}),Gr)return(m.isValid||p.isValid)&&(t.mode==="onBlur"?Jt&&v():Jt||v()),In&&j.state.next({name:ae,...Ws?{}:Hs});if(!Jt&&Ws&&j.state.next({...r}),t.resolver){const{errors:Gs}=await D([ae]);if(je(Ht),ke){const cn=Rb(r.errors,n,ae),Kr=Rb(Gs,n,cn.name||ae);mt=Kr.error,ae=Kr.name,Xt=br(Gs)}}else y([ae],!0),mt=(await Db(Ce,d.disabled,o,w,t.shouldUseNativeValidation))[ae],y([ae]),je(Ht),ke&&(mt?Xt=!1:(m.isValid||p.isValid)&&(Xt=await V(n,!0)));ke&&(Ce._f.deps&&W(Ce._f.deps),R(ae,Xt,mt,Hs))}},F=(O,G)=>{if(Ae(r.errors,G)&&O.focus)return O.focus(),1},W=async(O,G={})=>{let ae,ke;const Ce=Cc(O);if(t.resolver){const je=await U(js(O)?O:Ce);ae=br(je),ke=O?!Ce.some(ne=>Ae(je,ne)):ae}else O?(ke=(await Promise.all(Ce.map(async je=>{const ne=Ae(n,je);return await V(ne&&ne._f?{[je]:ne}:ne)}))).every(Boolean),!(!ke&&!r.isValid)&&v()):ke=ae=await V(n);return j.state.next({...!Zn(O)||(m.isValid||p.isValid)&&ae!==r.isValid?{}:{name:O},...t.resolver||!O?{isValid:ae}:{},errors:r.errors}),G.shouldFocus&&!ke&&Ec(n,F,O?Ce:d.mount),ke},le=O=>{const G={...c.mount?o:a};return js(O)?G:Zn(O)?Ae(G,O):O.map(ae=>Ae(G,ae))},I=(O,G)=>({invalid:!!Ae((G||r).errors,O),isDirty:!!Ae((G||r).dirtyFields,O),error:Ae((G||r).errors,O),isValidating:!!Ae(r.validatingFields,O),isTouched:!!Ae((G||r).touchedFields,O)}),X=O=>{O&&Cc(O).forEach(G=>Ss(r.errors,G)),j.state.next({errors:O?r.errors:{}})},ye=(O,G,ae)=>{const ke=(Ae(n,O,{_f:{}})._f||{}).ref,Ce=Ae(r.errors,O)||{},{ref:je,message:ne,type:Ie,...mt}=Ce;Ut(r.errors,O,{...mt,...G,ref:ke}),j.state.next({name:O,errors:r.errors,isValid:!1}),ae&&ae.shouldFocus&&ke&&ke.focus&&ke.focus()},me=(O,G)=>_n(O)?j.state.subscribe({next:ae=>"values"in ae&&O(K(void 0,G),ae)}):K(O,G,!0),Le=O=>j.state.subscribe({next:G=>{aU(O.name,G.name,O.exact)&&nU(G,O.formState||m,Zt,O.reRenderRoot)&&O.callback({values:{...o},...r,...G,defaultValues:a})}}).unsubscribe,qe=O=>(c.mount=!0,p={...p,...O.formState},Le({...O,formState:p})),ie=(O,G={})=>{for(const ae of O?Cc(O):d.mount)d.mount.delete(ae),d.array.delete(ae),G.keepValue||(Ss(n,ae),Ss(o,ae)),!G.keepError&&Ss(r.errors,ae),!G.keepDirty&&Ss(r.dirtyFields,ae),!G.keepTouched&&Ss(r.touchedFields,ae),!G.keepIsValidating&&Ss(r.validatingFields,ae),!t.shouldUnregister&&!G.keepDefaultValue&&Ss(a,ae);j.state.next({values:As(o)}),j.state.next({...r,...G.keepDirty?{isDirty:oe()}:{}}),!G.keepIsValid&&v()},Te=({disabled:O,name:G})=>{($r(O)&&c.mount||O||d.disabled.has(G))&&(O?d.disabled.add(G):d.disabled.delete(G))},Ve=(O,G={})=>{let ae=Ae(n,O);const ke=$r(G.disabled)||$r(t.disabled);return Ut(n,O,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:O}},name:O,mount:!0,...G}}),d.mount.add(O),ae?Te({disabled:$r(G.disabled)?G.disabled:t.disabled,name:O}):E(O,!0,G.value),{...ke?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:fc(G.min),max:fc(G.max),minLength:fc(G.minLength),maxLength:fc(G.maxLength),pattern:fc(G.pattern)}:{},name:O,onChange:Y,onBlur:Y,ref:Ce=>{if(Ce){Ve(O,G),ae=Ae(n,O);const je=js(Ce.value)&&Ce.querySelectorAll&&Ce.querySelectorAll("input,select,textarea")[0]||Ce,ne=Xz(je),Ie=ae._f.refs||[];if(ne?Ie.find(mt=>mt===je):je===ae._f.ref)return;Ut(n,O,{_f:{...ae._f,...ne?{refs:[...Ie.filter(Yp),je,...Array.isArray(Ae(a,O))?[{}]:[]],ref:{type:je.type,name:O}}:{ref:je}}}),E(O,!1,void 0,je)}else ae=Ae(n,O,{}),ae._f&&(ae._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(uC(d.array,O)&&c.action)&&d.unMount.add(O)}}},Ne=()=>t.shouldFocusError&&Ec(n,F,d.mount),$e=O=>{$r(O)&&(j.state.next({disabled:O}),Ec(n,(G,ae)=>{const ke=Ae(n,ae);ke&&(G.disabled=ke._f.disabled||O,Array.isArray(ke._f.refs)&&ke._f.refs.forEach(Ce=>{Ce.disabled=ke._f.disabled||O}))},0,!1))},_e=(O,G)=>async ae=>{let ke;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let Ce=As(o);if(j.state.next({isSubmitting:!0}),t.resolver){const{errors:je,values:ne}=await D();r.errors=je,Ce=As(ne)}else await V(n);if(d.disabled.size)for(const je of d.disabled)Ss(Ce,je);if(Ss(r.errors,"root"),br(r.errors)){j.state.next({errors:{}});try{await O(Ce,ae)}catch(je){ke=je}}else G&&await G({...r.errors},ae),Ne(),setTimeout(Ne);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:br(r.errors)&&!ke,submitCount:r.submitCount+1,errors:r.errors}),ke)throw ke},Xe=(O,G={})=>{Ae(n,O)&&(js(G.defaultValue)?ue(O,As(Ae(a,O))):(ue(O,G.defaultValue),Ut(a,O,As(G.defaultValue))),G.keepTouched||Ss(r.touchedFields,O),G.keepDirty||(Ss(r.dirtyFields,O),r.isDirty=G.defaultValue?oe(O,As(Ae(a,O))):oe()),G.keepError||(Ss(r.errors,O),m.isValid&&v()),j.state.next({...r}))},pt=(O,G={})=>{const ae=O?As(O):a,ke=As(ae),Ce=br(O),je=Ce?a:ke;if(G.keepDefaultValues||(a=ae),!G.keepValues){if(G.keepDirtyValues){const ne=new Set([...d.mount,...Object.keys(hc(a,o))]);for(const Ie of Array.from(ne))Ae(r.dirtyFields,Ie)?Ut(je,Ie,Ae(o,Ie)):ue(Ie,Ae(je,Ie))}else{if(vv&&js(O))for(const ne of d.mount){const Ie=Ae(n,ne);if(Ie&&Ie._f){const mt=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(yh(mt)){const Xt=mt.closest("form");if(Xt){Xt.reset();break}}}}if(G.keepFieldsRef)for(const ne of d.mount)ue(ne,Ae(je,ne));else n={}}o=t.shouldUnregister?G.keepDefaultValues?As(a):{}:As(je),j.array.next({values:{...je}}),j.state.next({values:{...je}})}d={mount:G.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!m.isValid||!!G.keepIsValid||!!G.keepDirtyValues,c.watch=!!t.shouldUnregister,j.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:Ce?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!ja(O,a)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ce?{}:G.keepDirtyValues?G.keepDefaultValues&&o?hc(a,o):r.dirtyFields:G.keepDefaultValues&&O?hc(a,O):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Et=(O,G)=>pt(_n(O)?O(o):O,G),Wt=(O,G={})=>{const ae=Ae(n,O),ke=ae&&ae._f;if(ke){const Ce=ke.refs?ke.refs[0]:ke.ref;Ce.focus&&(Ce.focus(),G.shouldSelect&&_n(Ce.select)&&Ce.select())}},Zt=O=>{r={...r,...O}},ls={control:{register:Ve,unregister:ie,getFieldState:I,handleSubmit:_e,setError:ye,_subscribe:Le,_runSchema:D,_focusError:Ne,_getWatch:K,_getDirty:oe,_setValid:v,_setFieldArray:b,_setDisabledField:Te,_setErrors:k,_getFieldArray:ce,_reset:pt,_resetDefaultValues:()=>_n(t.defaultValues)&&t.defaultValues().then(O=>{Et(O,t.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:te,_disableForm:$e,_subjects:j,_proxyFormState:m,get _fields(){return n},get _formValues(){return o},get _state(){return c},set _state(O){c=O},get _defaultValues(){return a},get _names(){return d},set _names(O){d=O},get _formState(){return r},get _options(){return t},set _options(O){t={...t,...O}}},subscribe:qe,trigger:W,register:Ve,handleSubmit:_e,watch:me,setValue:ue,getValues:le,reset:Et,resetField:Xe,clearErrors:X,unregister:ie,setError:ye,setFocus:Wt,getFieldState:I};return{...ls,formControl:ls}}function Nf(s={}){const t=de.useRef(void 0),r=de.useRef(void 0),[n,a]=de.useState({isDirty:!1,isValidating:!1,isLoading:_n(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:_n(s.defaultValues)?void 0:s.defaultValues});if(!t.current)if(s.formControl)t.current={...s.formControl,formState:n},s.defaultValues&&!_n(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:c,...d}=dU(s);t.current={...d,formState:n}}const o=t.current.control;return o._options=s,bv(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),o._formState.isReady=!0,c},[o]),de.useEffect(()=>o._disableForm(s.disabled),[o,s.disabled]),de.useEffect(()=>{s.mode&&(o._options.mode=s.mode),s.reValidateMode&&(o._options.reValidateMode=s.reValidateMode)},[o,s.mode,s.reValidateMode]),de.useEffect(()=>{s.errors&&(o._setErrors(s.errors),o._focusError())},[o,s.errors]),de.useEffect(()=>{s.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,s.shouldUnregister]),de.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==n.isDirty&&o._subjects.state.next({isDirty:c})}},[o,n.isDirty]),de.useEffect(()=>{s.values&&!ja(s.values,r.current)?(o._reset(s.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=s.values,a(c=>({...c}))):o._resetDefaultValues()},[o,s.values]),de.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=hC(n,o),t.current}const Mb=(s,t,r)=>{if(s&&"reportValidity"in s){const n=Ae(r,t);s.setCustomValidity(n&&n.message||""),s.reportValidity()}},wC=(s,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Mb(n.ref,r,s):n.refs&&n.refs.forEach(a=>Mb(a,r,s))}},uU=(s,t)=>{t.shouldUseNativeValidation&&wC(s,t);const r={};for(const n in s){const a=Ae(t.fields,n),o=Object.assign(s[n]||{},{ref:a&&a.ref});if(hU(t.names||Object.keys(s),n)){const c=Object.assign({},Ae(r,n));Ut(c,"root",o),Ut(r,n,c)}else Ut(r,n,o)}return r},hU=(s,t)=>s.some(r=>r.startsWith(t+"."));var fU=function(s,t){for(var r={};s.length;){var n=s[0],a=n.code,o=n.message,c=n.path.join(".");if(!r[c])if("unionErrors"in n){var d=n.unionErrors[0].errors[0];r[c]={message:d.message,type:d.code}}else r[c]={message:o,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(m){return m.errors.forEach(function(p){return s.push(p)})}),t){var h=r[c].types,f=h&&h[n.code];r[c]=mC(c,t,r,a,f?[].concat(f,n.message):n.message)}s.shift()}return r},_f=function(s,t,r){return r===void 0&&(r={}),function(n,a,o){try{return Promise.resolve((function(c,d){try{var h=Promise.resolve(s[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(f){return o.shouldUseNativeValidation&&wC({},o),{errors:{},values:r.raw?n:f}})}catch(f){return d(f)}return h&&h.then?h.then(void 0,d):h})(0,function(c){if((function(d){return Array.isArray(d?.errors)})(c))return{values:{},errors:uU(fU(c.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw c}))}catch(c){return Promise.reject(c)}}},Mt;(function(s){s.assertEqual=a=>{};function t(a){}s.assertIs=t;function r(a){throw new Error}s.assertNever=r,s.arrayToEnum=a=>{const o={};for(const c of a)o[c]=c;return o},s.getValidEnumValues=a=>{const o=s.objectKeys(a).filter(d=>typeof a[a[d]]!="number"),c={};for(const d of o)c[d]=a[d];return s.objectValues(c)},s.objectValues=a=>s.objectKeys(a).map(function(o){return a[o]}),s.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&o.push(c);return o},s.find=(a,o)=>{for(const c of a)if(o(c))return c},s.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,o=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(o)}s.joinValues=n,s.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(Mt||(Mt={}));var Ob;(function(s){s.mergeShapes=(t,r)=>({...t,...r})})(Ob||(Ob={}));const Ke=Mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ei=s=>{switch(typeof s){case"undefined":return Ke.undefined;case"string":return Ke.string;case"number":return Number.isNaN(s)?Ke.nan:Ke.number;case"boolean":return Ke.boolean;case"function":return Ke.function;case"bigint":return Ke.bigint;case"symbol":return Ke.symbol;case"object":return Array.isArray(s)?Ke.array:s===null?Ke.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?Ke.promise:typeof Map<"u"&&s instanceof Map?Ke.map:typeof Set<"u"&&s instanceof Set?Ke.set:typeof Date<"u"&&s instanceof Date?Ke.date:Ke.object;default:return Ke.unknown}},Pe=Mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class _a extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(o){return o.message},n={_errors:[]},a=o=>{for(const c of o.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let d=n,h=0;for(;h<c.path.length;){const f=c.path[h];h===c.path.length-1?(d[f]=d[f]||{_errors:[]},d[f]._errors.push(r(c))):d[f]=d[f]||{_errors:[]},d=d[f],h++}}};return a(this),n}static assert(t){if(!(t instanceof _a))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const o=a.path[0];r[o]=r[o]||[],r[o].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}_a.create=s=>new _a(s);const Wx=(s,t)=>{let r;switch(s.code){case Pe.invalid_type:s.received===Ke.undefined?r="Required":r=`Expected ${s.expected}, received ${s.received}`;break;case Pe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(s.expected,Mt.jsonStringifyReplacer)}`;break;case Pe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Mt.joinValues(s.keys,", ")}`;break;case Pe.invalid_union:r="Invalid input";break;case Pe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Mt.joinValues(s.options)}`;break;case Pe.invalid_enum_value:r=`Invalid enum value. Expected ${Mt.joinValues(s.options)}, received '${s.received}'`;break;case Pe.invalid_arguments:r="Invalid function arguments";break;case Pe.invalid_return_type:r="Invalid function return type";break;case Pe.invalid_date:r="Invalid date";break;case Pe.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(r=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?r=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?r=`Invalid input: must end with "${s.validation.endsWith}"`:Mt.assertNever(s.validation):s.validation!=="regex"?r=`Invalid ${s.validation}`:r="Invalid";break;case Pe.too_small:s.type==="array"?r=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?r=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?r=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?r=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?r=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:r="Invalid input";break;case Pe.too_big:s.type==="array"?r=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?r=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?r=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?r=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?r=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:r="Invalid input";break;case Pe.custom:r="Invalid input";break;case Pe.invalid_intersection_types:r="Intersection results could not be merged";break;case Pe.not_multiple_of:r=`Number must be a multiple of ${s.multipleOf}`;break;case Pe.not_finite:r="Number must be finite";break;default:r=t.defaultError,Mt.assertNever(s)}return{message:r}};let mU=Wx;function pU(){return mU}const xU=s=>{const{data:t,path:r,errorMaps:n,issueData:a}=s,o=[...r,...a.path||[]],c={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let d="";const h=n.filter(f=>!!f).slice().reverse();for(const f of h)d=f(c,{data:t,defaultError:d}).message;return{...a,path:o,message:d}};function Ue(s,t){const r=pU(),n=xU({issueData:t,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,r,r===Wx?void 0:Wx].filter(a=>!!a)});s.common.issues.push(n)}class Vr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return xt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const o=await a.key,c=await a.value;n.push({key:o,value:c})}return Vr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:o,value:c}=a;if(o.status==="aborted"||c.status==="aborted")return xt;o.status==="dirty"&&t.dirty(),c.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(n[o.value]=c.value)}return{status:t.value,value:n}}}const xt=Object.freeze({status:"aborted"}),vc=s=>({status:"dirty",value:s}),on=s=>({status:"valid",value:s}),Ib=s=>s.status==="aborted",Lb=s=>s.status==="dirty",al=s=>s.status==="valid",bh=s=>typeof Promise<"u"&&s instanceof Promise;var Ze;(function(s){s.errToObj=t=>typeof t=="string"?{message:t}:t||{},s.toString=t=>typeof t=="string"?t:t?.message})(Ze||(Ze={}));class pi{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Fb=(s,t)=>{if(al(t))return{success:!0,data:t.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new _a(s.common.issues);return this._error=r,this._error}}};function St(s){if(!s)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=s;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(c,d)=>{const{message:h}=s;return c.code==="invalid_enum_value"?{message:h??d.defaultError}:typeof d.data>"u"?{message:h??n??d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:h??r??d.defaultError}},description:a}}class Rt{get description(){return this._def.description}_getType(t){return ei(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ei(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Vr,ctx:{common:t.parent.common,data:t.data,parsedType:ei(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(bh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)},a=this._parseSync({data:t,path:n.path,parent:n});return Fb(n,a)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return al(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>al(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)},a=this._parse({data:t,path:n.path,parent:n}),o=await(bh(a)?a:Promise.resolve(a));return Fb(n,o)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,o)=>{const c=t(a),d=()=>o.addIssue({code:Pe.custom,...n(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new ll({schema:this,typeName:gt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ii.create(this,this._def)}nullable(){return cl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ta.create(this)}promise(){return Sh.create(this,this._def)}or(t){return Nh.create([this,t],this._def)}and(t){return _h.create(this,t,this._def)}transform(t){return new ll({...St(this._def),schema:this,typeName:gt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Yx({...St(this._def),innerType:this,defaultValue:r,typeName:gt.ZodDefault})}brand(){return new $U({typeName:gt.ZodBranded,type:this,...St(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Qx({...St(this._def),innerType:this,catchValue:r,typeName:gt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Sv.create(this,t)}readonly(){return Zx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gU=/^c[^\s-]{8,}$/i,vU=/^[0-9a-z]+$/,yU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,wU=/^[a-z0-9_-]{21}$/i,bU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,NU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_U=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,SU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qp;const kU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,EU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,PU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,TU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,RU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,bC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",AU=new RegExp(`^${bC}$`);function NC(s){let t="[0-5]\\d";s.precision?t=`${t}\\.\\d{${s.precision}}`:s.precision==null&&(t=`${t}(\\.\\d+)?`);const r=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function DU(s){return new RegExp(`^${NC(s)}$`)}function MU(s){let t=`${bC}T${NC(s)}`;const r=[];return r.push(s.local?"Z?":"Z"),s.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function OU(s,t){return!!((t==="v4"||!t)&&kU.test(s)||(t==="v6"||!t)&&EU.test(s))}function IU(s,t){if(!bU.test(s))return!1;try{const[r]=s.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function LU(s,t){return!!((t==="v4"||!t)&&CU.test(s)||(t==="v6"||!t)&&PU.test(s))}class ri extends Rt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ke.string){const o=this._getOrReturnCtx(t);return Ue(o,{code:Pe.invalid_type,expected:Ke.string,received:o.parsedType}),xt}const n=new Vr;let a;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(a=this._getOrReturnCtx(t,a),Ue(a,{code:Pe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(a=this._getOrReturnCtx(t,a),Ue(a,{code:Pe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const c=t.data.length>o.value,d=t.data.length<o.value;(c||d)&&(a=this._getOrReturnCtx(t,a),c?Ue(a,{code:Pe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&Ue(a,{code:Pe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")_U.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"email",code:Pe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Qp||(Qp=new RegExp(SU,"u")),Qp.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"emoji",code:Pe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")jU.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"uuid",code:Pe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")wU.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"nanoid",code:Pe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")gU.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"cuid",code:Pe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")vU.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"cuid2",code:Pe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")yU.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"ulid",code:Pe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ue(a,{validation:"url",code:Pe.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"regex",code:Pe.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(t,a),Ue(a,{code:Pe.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(a=this._getOrReturnCtx(t,a),Ue(a,{code:Pe.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(a=this._getOrReturnCtx(t,a),Ue(a,{code:Pe.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?MU(o).test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{code:Pe.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?AU.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{code:Pe.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?DU(o).test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{code:Pe.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?NU.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"duration",code:Pe.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?OU(t.data,o.version)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"ip",code:Pe.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?IU(t.data,o.alg)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"jwt",code:Pe.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?LU(t.data,o.version)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"cidr",code:Pe.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?TU.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"base64",code:Pe.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?RU.test(t.data)||(a=this._getOrReturnCtx(t,a),Ue(a,{validation:"base64url",code:Pe.invalid_string,message:o.message}),n.dirty()):Mt.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Pe.invalid_string,...Ze.errToObj(n)})}_addCheck(t){return new ri({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ze.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ze.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ze.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ze.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ze.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ze.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ze.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ze.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ze.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ze.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ze.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ze.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ze.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Ze.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Ze.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Ze.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ze.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Ze.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ze.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ze.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ze.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ze.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ze.errToObj(r)})}nonempty(t){return this.min(1,Ze.errToObj(t))}trim(){return new ri({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ri({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ri({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ri.create=s=>new ri({checks:[],typeName:gt.ZodString,coerce:s?.coerce??!1,...St(s)});function FU(s,t){const r=(s.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,o=Number.parseInt(s.toFixed(a).replace(".","")),c=Number.parseInt(t.toFixed(a).replace(".",""));return o%c/10**a}class il extends Rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ke.number){const o=this._getOrReturnCtx(t);return Ue(o,{code:Pe.invalid_type,expected:Ke.number,received:o.parsedType}),xt}let n;const a=new Vr;for(const o of this._def.checks)o.kind==="int"?Mt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ue(n,{code:Pe.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),Ue(n,{code:Pe.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),Ue(n,{code:Pe.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?FU(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),Ue(n,{code:Pe.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ue(n,{code:Pe.not_finite,message:o.message}),a.dirty()):Mt.assertNever(o);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ze.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ze.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ze.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ze.toString(r))}setLimit(t,r,n,a){return new il({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ze.toString(a)}]})}_addCheck(t){return new il({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ze.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ze.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ze.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ze.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ze.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ze.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Mt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}il.create=s=>new il({checks:[],typeName:gt.ZodNumber,coerce:s?.coerce||!1,...St(s)});class Wc extends Rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ke.bigint)return this._getInvalidInput(t);let n;const a=new Vr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),Ue(n,{code:Pe.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),Ue(n,{code:Pe.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ue(n,{code:Pe.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):Mt.assertNever(o);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ue(r,{code:Pe.invalid_type,expected:Ke.bigint,received:r.parsedType}),xt}gte(t,r){return this.setLimit("min",t,!0,Ze.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ze.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ze.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ze.toString(r))}setLimit(t,r,n,a){return new Wc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ze.toString(a)}]})}_addCheck(t){return new Wc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ze.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ze.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Wc.create=s=>new Wc({checks:[],typeName:gt.ZodBigInt,coerce:s?.coerce??!1,...St(s)});class Hx extends Rt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ke.boolean){const n=this._getOrReturnCtx(t);return Ue(n,{code:Pe.invalid_type,expected:Ke.boolean,received:n.parsedType}),xt}return on(t.data)}}Hx.create=s=>new Hx({typeName:gt.ZodBoolean,coerce:s?.coerce||!1,...St(s)});class Hc extends Rt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ke.date){const o=this._getOrReturnCtx(t);return Ue(o,{code:Pe.invalid_type,expected:Ke.date,received:o.parsedType}),xt}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return Ue(o,{code:Pe.invalid_date}),xt}const n=new Vr;let a;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(a=this._getOrReturnCtx(t,a),Ue(a,{code:Pe.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(a=this._getOrReturnCtx(t,a),Ue(a,{code:Pe.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Mt.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Hc({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ze.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ze.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Hc.create=s=>new Hc({checks:[],coerce:s?.coerce||!1,typeName:gt.ZodDate,...St(s)});class $b extends Rt{_parse(t){if(this._getType(t)!==Ke.symbol){const n=this._getOrReturnCtx(t);return Ue(n,{code:Pe.invalid_type,expected:Ke.symbol,received:n.parsedType}),xt}return on(t.data)}}$b.create=s=>new $b({typeName:gt.ZodSymbol,...St(s)});class zb extends Rt{_parse(t){if(this._getType(t)!==Ke.undefined){const n=this._getOrReturnCtx(t);return Ue(n,{code:Pe.invalid_type,expected:Ke.undefined,received:n.parsedType}),xt}return on(t.data)}}zb.create=s=>new zb({typeName:gt.ZodUndefined,...St(s)});class Ub extends Rt{_parse(t){if(this._getType(t)!==Ke.null){const n=this._getOrReturnCtx(t);return Ue(n,{code:Pe.invalid_type,expected:Ke.null,received:n.parsedType}),xt}return on(t.data)}}Ub.create=s=>new Ub({typeName:gt.ZodNull,...St(s)});class Bb extends Rt{constructor(){super(...arguments),this._any=!0}_parse(t){return on(t.data)}}Bb.create=s=>new Bb({typeName:gt.ZodAny,...St(s)});class qb extends Rt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return on(t.data)}}qb.create=s=>new qb({typeName:gt.ZodUnknown,...St(s)});class xi extends Rt{_parse(t){const r=this._getOrReturnCtx(t);return Ue(r,{code:Pe.invalid_type,expected:Ke.never,received:r.parsedType}),xt}}xi.create=s=>new xi({typeName:gt.ZodNever,...St(s)});class Vb extends Rt{_parse(t){if(this._getType(t)!==Ke.undefined){const n=this._getOrReturnCtx(t);return Ue(n,{code:Pe.invalid_type,expected:Ke.void,received:n.parsedType}),xt}return on(t.data)}}Vb.create=s=>new Vb({typeName:gt.ZodVoid,...St(s)});class ta extends Rt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ke.array)return Ue(r,{code:Pe.invalid_type,expected:Ke.array,received:r.parsedType}),xt;if(a.exactLength!==null){const c=r.data.length>a.exactLength.value,d=r.data.length<a.exactLength.value;(c||d)&&(Ue(r,{code:c?Pe.too_big:Pe.too_small,minimum:d?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ue(r,{code:Pe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ue(r,{code:Pe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,d)=>a.type._parseAsync(new pi(r,c,r.path,d)))).then(c=>Vr.mergeArray(n,c));const o=[...r.data].map((c,d)=>a.type._parseSync(new pi(r,c,r.path,d)));return Vr.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new ta({...this._def,minLength:{value:t,message:Ze.toString(r)}})}max(t,r){return new ta({...this._def,maxLength:{value:t,message:Ze.toString(r)}})}length(t,r){return new ta({...this._def,exactLength:{value:t,message:Ze.toString(r)}})}nonempty(t){return this.min(1,t)}}ta.create=(s,t)=>new ta({type:s,minLength:null,maxLength:null,exactLength:null,typeName:gt.ZodArray,...St(t)});function Ko(s){if(s instanceof Cs){const t={};for(const r in s.shape){const n=s.shape[r];t[r]=ii.create(Ko(n))}return new Cs({...s._def,shape:()=>t})}else return s instanceof ta?new ta({...s._def,type:Ko(s.element)}):s instanceof ii?ii.create(Ko(s.unwrap())):s instanceof cl?cl.create(Ko(s.unwrap())):s instanceof to?to.create(s.items.map(t=>Ko(t))):s}class Cs extends Rt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Mt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ke.object){const f=this._getOrReturnCtx(t);return Ue(f,{code:Pe.invalid_type,expected:Ke.object,received:f.parsedType}),xt}const{status:n,ctx:a}=this._processInputParams(t),{shape:o,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof xi&&this._def.unknownKeys==="strip"))for(const f in a.data)c.includes(f)||d.push(f);const h=[];for(const f of c){const m=o[f],p=a.data[f];h.push({key:{status:"valid",value:f},value:m._parse(new pi(a,p,a.path,f)),alwaysSet:f in a.data})}if(this._def.catchall instanceof xi){const f=this._def.unknownKeys;if(f==="passthrough")for(const m of d)h.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(f==="strict")d.length>0&&(Ue(a,{code:Pe.unrecognized_keys,keys:d}),n.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const m of d){const p=a.data[m];h.push({key:{status:"valid",value:m},value:f._parse(new pi(a,p,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const f=[];for(const m of h){const p=await m.key,j=await m.value;f.push({key:p,value:j,alwaysSet:m.alwaysSet})}return f}).then(f=>Vr.mergeObjectSync(n,f)):Vr.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(t){return Ze.errToObj,new Cs({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const a=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ze.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Cs({...this._def,unknownKeys:"strip"})}passthrough(){return new Cs({...this._def,unknownKeys:"passthrough"})}extend(t){return new Cs({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Cs({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:gt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Cs({...this._def,catchall:t})}pick(t){const r={};for(const n of Mt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Cs({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Mt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Cs({...this._def,shape:()=>r})}deepPartial(){return Ko(this)}partial(t){const r={};for(const n of Mt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Cs({...this._def,shape:()=>r})}required(t){const r={};for(const n of Mt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof ii;)o=o._def.innerType;r[n]=o}return new Cs({...this._def,shape:()=>r})}keyof(){return _C(Mt.objectKeys(this.shape))}}Cs.create=(s,t)=>new Cs({shape:()=>s,unknownKeys:"strip",catchall:xi.create(),typeName:gt.ZodObject,...St(t)});Cs.strictCreate=(s,t)=>new Cs({shape:()=>s,unknownKeys:"strict",catchall:xi.create(),typeName:gt.ZodObject,...St(t)});Cs.lazycreate=(s,t)=>new Cs({shape:s,unknownKeys:"strip",catchall:xi.create(),typeName:gt.ZodObject,...St(t)});class Nh extends Rt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const c=o.map(d=>new _a(d.ctx.common.issues));return Ue(r,{code:Pe.invalid_union,unionErrors:c}),xt}if(r.common.async)return Promise.all(n.map(async o=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(a);{let o;const c=[];for(const h of n){const f={...r,common:{...r.common,issues:[]},parent:null},m=h._parseSync({data:r.data,path:r.path,parent:f});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:f}),f.common.issues.length&&c.push(f.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const d=c.map(h=>new _a(h));return Ue(r,{code:Pe.invalid_union,unionErrors:d}),xt}}get options(){return this._def.options}}Nh.create=(s,t)=>new Nh({options:s,typeName:gt.ZodUnion,...St(t)});function Gx(s,t){const r=ei(s),n=ei(t);if(s===t)return{valid:!0,data:s};if(r===Ke.object&&n===Ke.object){const a=Mt.objectKeys(t),o=Mt.objectKeys(s).filter(d=>a.indexOf(d)!==-1),c={...s,...t};for(const d of o){const h=Gx(s[d],t[d]);if(!h.valid)return{valid:!1};c[d]=h.data}return{valid:!0,data:c}}else if(r===Ke.array&&n===Ke.array){if(s.length!==t.length)return{valid:!1};const a=[];for(let o=0;o<s.length;o++){const c=s[o],d=t[o],h=Gx(c,d);if(!h.valid)return{valid:!1};a.push(h.data)}return{valid:!0,data:a}}else return r===Ke.date&&n===Ke.date&&+s==+t?{valid:!0,data:s}:{valid:!1}}class _h extends Rt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(o,c)=>{if(Ib(o)||Ib(c))return xt;const d=Gx(o.value,c.value);return d.valid?((Lb(o)||Lb(c))&&r.dirty(),{status:r.value,value:d.data}):(Ue(n,{code:Pe.invalid_intersection_types}),xt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,c])=>a(o,c)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}_h.create=(s,t,r)=>new _h({left:s,right:t,typeName:gt.ZodIntersection,...St(r)});class to extends Rt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.array)return Ue(n,{code:Pe.invalid_type,expected:Ke.array,received:n.parsedType}),xt;if(n.data.length<this._def.items.length)return Ue(n,{code:Pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xt;!this._def.rest&&n.data.length>this._def.items.length&&(Ue(n,{code:Pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((c,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new pi(n,c,n.path,d)):null}).filter(c=>!!c);return n.common.async?Promise.all(o).then(c=>Vr.mergeArray(r,c)):Vr.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new to({...this._def,rest:t})}}to.create=(s,t)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new to({items:s,typeName:gt.ZodTuple,rest:null,...St(t)})};class Wb extends Rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.map)return Ue(n,{code:Pe.invalid_type,expected:Ke.map,received:n.parsedType}),xt;const a=this._def.keyType,o=this._def.valueType,c=[...n.data.entries()].map(([d,h],f)=>({key:a._parse(new pi(n,d,n.path,[f,"key"])),value:o._parse(new pi(n,h,n.path,[f,"value"]))}));if(n.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of c){const f=await h.key,m=await h.value;if(f.status==="aborted"||m.status==="aborted")return xt;(f.status==="dirty"||m.status==="dirty")&&r.dirty(),d.set(f.value,m.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const h of c){const f=h.key,m=h.value;if(f.status==="aborted"||m.status==="aborted")return xt;(f.status==="dirty"||m.status==="dirty")&&r.dirty(),d.set(f.value,m.value)}return{status:r.value,value:d}}}}Wb.create=(s,t,r)=>new Wb({valueType:t,keyType:s,typeName:gt.ZodMap,...St(r)});class Gc extends Rt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.set)return Ue(n,{code:Pe.invalid_type,expected:Ke.set,received:n.parsedType}),xt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ue(n,{code:Pe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ue(n,{code:Pe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const o=this._def.valueType;function c(h){const f=new Set;for(const m of h){if(m.status==="aborted")return xt;m.status==="dirty"&&r.dirty(),f.add(m.value)}return{status:r.value,value:f}}const d=[...n.data.values()].map((h,f)=>o._parse(new pi(n,h,n.path,f)));return n.common.async?Promise.all(d).then(h=>c(h)):c(d)}min(t,r){return new Gc({...this._def,minSize:{value:t,message:Ze.toString(r)}})}max(t,r){return new Gc({...this._def,maxSize:{value:t,message:Ze.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Gc.create=(s,t)=>new Gc({valueType:s,minSize:null,maxSize:null,typeName:gt.ZodSet,...St(t)});class Hb extends Rt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Hb.create=(s,t)=>new Hb({getter:s,typeName:gt.ZodLazy,...St(t)});class Kx extends Rt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ue(r,{received:r.data,code:Pe.invalid_literal,expected:this._def.value}),xt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Kx.create=(s,t)=>new Kx({value:s,typeName:gt.ZodLiteral,...St(t)});function _C(s,t){return new ol({values:s,typeName:gt.ZodEnum,...St(t)})}class ol extends Rt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ue(r,{expected:Mt.joinValues(n),received:r.parsedType,code:Pe.invalid_type}),xt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ue(r,{received:r.data,code:Pe.invalid_enum_value,options:n}),xt}return on(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ol.create(t,{...this._def,...r})}exclude(t,r=this._def){return ol.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ol.create=_C;class Gb extends Rt{_parse(t){const r=Mt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ke.string&&n.parsedType!==Ke.number){const a=Mt.objectValues(r);return Ue(n,{expected:Mt.joinValues(a),received:n.parsedType,code:Pe.invalid_type}),xt}if(this._cache||(this._cache=new Set(Mt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Mt.objectValues(r);return Ue(n,{received:n.data,code:Pe.invalid_enum_value,options:a}),xt}return on(t.data)}get enum(){return this._def.values}}Gb.create=(s,t)=>new Gb({values:s,typeName:gt.ZodNativeEnum,...St(t)});class Sh extends Rt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ke.promise&&r.common.async===!1)return Ue(r,{code:Pe.invalid_type,expected:Ke.promise,received:r.parsedType}),xt;const n=r.parsedType===Ke.promise?r.data:Promise.resolve(r.data);return on(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Sh.create=(s,t)=>new Sh({type:s,typeName:gt.ZodPromise,...St(t)});class ll extends Rt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===gt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,o={addIssue:c=>{Ue(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const c=a.transform(n.data,o);if(n.common.async)return Promise.resolve(c).then(async d=>{if(r.value==="aborted")return xt;const h=await this._def.schema._parseAsync({data:d,path:n.path,parent:n});return h.status==="aborted"?xt:h.status==="dirty"||r.value==="dirty"?vc(h.value):h});{if(r.value==="aborted")return xt;const d=this._def.schema._parseSync({data:c,path:n.path,parent:n});return d.status==="aborted"?xt:d.status==="dirty"||r.value==="dirty"?vc(d.value):d}}if(a.type==="refinement"){const c=d=>{const h=a.refinement(d,o);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(n.common.async===!1){const d=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return d.status==="aborted"?xt:(d.status==="dirty"&&r.dirty(),c(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(d=>d.status==="aborted"?xt:(d.status==="dirty"&&r.dirty(),c(d.value).then(()=>({status:r.value,value:d.value}))))}if(a.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!al(c))return xt;const d=a.transform(c.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>al(c)?Promise.resolve(a.transform(c.value,o)).then(d=>({status:r.value,value:d})):xt);Mt.assertNever(a)}}ll.create=(s,t,r)=>new ll({schema:s,typeName:gt.ZodEffects,effect:t,...St(r)});ll.createWithPreprocess=(s,t,r)=>new ll({schema:t,effect:{type:"preprocess",transform:s},typeName:gt.ZodEffects,...St(r)});class ii extends Rt{_parse(t){return this._getType(t)===Ke.undefined?on(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ii.create=(s,t)=>new ii({innerType:s,typeName:gt.ZodOptional,...St(t)});class cl extends Rt{_parse(t){return this._getType(t)===Ke.null?on(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}cl.create=(s,t)=>new cl({innerType:s,typeName:gt.ZodNullable,...St(t)});class Yx extends Rt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Yx.create=(s,t)=>new Yx({innerType:s,typeName:gt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...St(t)});class Qx extends Rt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return bh(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new _a(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new _a(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Qx.create=(s,t)=>new Qx({innerType:s,typeName:gt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...St(t)});class Kb extends Rt{_parse(t){if(this._getType(t)!==Ke.nan){const n=this._getOrReturnCtx(t);return Ue(n,{code:Pe.invalid_type,expected:Ke.nan,received:n.parsedType}),xt}return{status:"valid",value:t.data}}}Kb.create=s=>new Kb({typeName:gt.ZodNaN,...St(s)});class $U extends Rt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Sv extends Rt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?xt:o.status==="dirty"?(r.dirty(),vc(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?xt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Sv({in:t,out:r,typeName:gt.ZodPipeline})}}class Zx extends Rt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(al(a)&&(a.value=Object.freeze(a.value)),a);return bh(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Zx.create=(s,t)=>new Zx({innerType:s,typeName:gt.ZodReadonly,...St(t)});var gt;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(gt||(gt={}));const Dt=ri.create,wa=il.create,SC=Hx.create,kh=Hc.create;xi.create;ta.create;const Sf=Cs.create;Nh.create;_h.create;to.create;const zU=Kx.create,kv=ol.create;Sh.create;ii.create;cl.create;const kf=Gz,kC=x.createContext({}),ut=({...s})=>e.jsx(kC.Provider,{value:{name:s.name},children:e.jsx(Zz,{...s})}),Cf=()=>{const s=x.useContext(kC),t=x.useContext(CC),{getFieldState:r,formState:n}=bf(),a=r(s.name,n);if(!s)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:s.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...a}},CC=x.createContext({}),it=x.forwardRef(({className:s,...t},r)=>{const n=x.useId();return e.jsx(CC.Provider,{value:{id:n},children:e.jsx("div",{ref:r,className:be("space-y-2",s),...t})})});it.displayName="FormItem";const ot=x.forwardRef(({className:s,...t},r)=>{const{error:n,formItemId:a}=Cf();return e.jsx(De,{ref:r,className:be(n&&"text-destructive",s),htmlFor:a,...t})});ot.displayName="FormLabel";const lt=x.forwardRef(({...s},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:o}=Cf();return e.jsx(ON,{ref:t,id:n,"aria-describedby":r?`${a} ${o}`:`${a}`,"aria-invalid":!!r,...s})});lt.displayName="FormControl";const UU=x.forwardRef(({className:s,...t},r)=>{const{formDescriptionId:n}=Cf();return e.jsx("p",{ref:r,id:n,className:be("text-sm text-muted-foreground",s),...t})});UU.displayName="FormDescription";const ht=x.forwardRef(({className:s,children:t,...r},n)=>{const{error:a,formMessageId:o}=Cf(),c=a?String(a?.message):t;return c?e.jsx("p",{ref:n,id:o,className:be("text-sm font-medium text-destructive",s),...r,children:c}):null});ht.displayName="FormMessage";var ct=function(){return ct=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ct.apply(this,arguments)};function BU(s,t){var r={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(r[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(s);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(s,n[a])&&(r[n[a]]=s[n[a]]);return r}function EC(s,t,r){for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return s.concat(o||Array.prototype.slice.call(t))}function pd(s){return s.mode==="multiple"}function xd(s){return s.mode==="range"}function Ef(s){return s.mode==="single"}var qU={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function VU(s,t){return Gt(s,"LLLL y",t)}function WU(s,t){return Gt(s,"d",t)}function HU(s,t){return Gt(s,"LLLL",t)}function GU(s){return"".concat(s)}function KU(s,t){return Gt(s,"cccccc",t)}function YU(s,t){return Gt(s,"yyyy",t)}var QU=Object.freeze({__proto__:null,formatCaption:VU,formatDay:WU,formatMonthCaption:HU,formatWeekNumber:GU,formatWeekdayName:KU,formatYearCaption:YU}),ZU=function(s,t,r){return Gt(s,"do MMMM (EEEE)",r)},XU=function(){return"Month: "},JU=function(){return"Go to next month"},e9=function(){return"Go to previous month"},t9=function(s,t){return Gt(s,"cccc",t)},s9=function(s){return"Week n. ".concat(s)},r9=function(){return"Year: "},n9=Object.freeze({__proto__:null,labelDay:ZU,labelMonthDropdown:XU,labelNext:JU,labelPrevious:e9,labelWeekNumber:s9,labelWeekday:t9,labelYearDropdown:r9});function a9(){var s="buttons",t=qU,r=AS,n={},a={},o=1,c={},d=new Date;return{captionLayout:s,classNames:t,formatters:QU,labels:n9,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:o,styles:c,today:d,mode:"default"}}function i9(s){var t=s.fromYear,r=s.toYear,n=s.fromMonth,a=s.toMonth,o=s.fromDate,c=s.toDate;return n?o=kr(n):t&&(o=new Date(t,0,1)),a?c=Qg(a):r&&(c=new Date(r,11,31)),{fromDate:o?nl(o):void 0,toDate:c?nl(c):void 0}}var PC=x.createContext(void 0);function o9(s){var t,r=s.initialProps,n=a9(),a=i9(r),o=a.fromDate,c=a.toDate,d=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;d!=="buttons"&&(!o||!c)&&(d="buttons");var h;(Ef(r)||pd(r)||xd(r))&&(h=r.onSelect);var f=ct(ct(ct({},n),r),{captionLayout:d,classNames:ct(ct({},n.classNames),r.classNames),components:ct({},r.components),formatters:ct(ct({},n.formatters),r.formatters),fromDate:o,labels:ct(ct({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ct(ct({},n.modifiers),r.modifiers),modifiersClassNames:ct(ct({},n.modifiersClassNames),r.modifiersClassNames),onSelect:h,styles:ct(ct({},n.styles),r.styles),toDate:c});return e.jsx(PC.Provider,{value:f,children:s.children})}function ss(){var s=x.useContext(PC);if(!s)throw new Error("useDayPicker must be used within a DayPickerProvider.");return s}function TC(s){var t=ss(),r=t.locale,n=t.classNames,a=t.styles,o=t.formatters.formatCaption;return e.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:s.id,children:o(s.displayMonth,{locale:r})})}function l9(s){return e.jsx("svg",ct({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},s,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function RC(s){var t,r,n=s.onChange,a=s.value,o=s.children,c=s.caption,d=s.className,h=s.style,f=ss(),m=(r=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:l9;return e.jsxs("div",{className:d,style:h,children:[e.jsx("span",{className:f.classNames.vhidden,children:s["aria-label"]}),e.jsx("select",{name:s.name,"aria-label":s["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:a,onChange:n,children:o}),e.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[c,e.jsx(m,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function c9(s){var t,r=ss(),n=r.fromDate,a=r.toDate,o=r.styles,c=r.locale,d=r.formatters.formatMonthCaption,h=r.classNames,f=r.components,m=r.labels.labelMonthDropdown;if(!n)return e.jsx(e.Fragment,{});if(!a)return e.jsx(e.Fragment,{});var p=[];if(h6(n,a))for(var j=kr(n),w=n.getMonth();w<=a.getMonth();w++)p.push(Wp(j,w));else for(var j=kr(new Date),w=0;w<=11;w++)p.push(Wp(j,w));var S=function(y){var b=Number(y.target.value),_=Wp(kr(s.displayMonth),b);s.onChange(_)},v=(t=f?.Dropdown)!==null&&t!==void 0?t:RC;return e.jsx(v,{name:"months","aria-label":m(),className:h.dropdown_month,style:o.dropdown_month,onChange:S,value:s.displayMonth.getMonth(),caption:d(s.displayMonth,{locale:c}),children:p.map(function(y){return e.jsx("option",{value:y.getMonth(),children:d(y,{locale:c})},y.getMonth())})})}function d9(s){var t,r=s.displayMonth,n=ss(),a=n.fromDate,o=n.toDate,c=n.locale,d=n.styles,h=n.classNames,f=n.components,m=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,j=[];if(!a)return e.jsx(e.Fragment,{});if(!o)return e.jsx(e.Fragment,{});for(var w=a.getFullYear(),S=o.getFullYear(),v=w;v<=S;v++)j.push(lb(PS(new Date),v));var y=function(_){var k=lb(kr(r),Number(_.target.value));s.onChange(k)},b=(t=f?.Dropdown)!==null&&t!==void 0?t:RC;return e.jsx(b,{name:"years","aria-label":p(),className:h.dropdown_year,style:d.dropdown_year,onChange:y,value:r.getFullYear(),caption:m(r,{locale:c}),children:j.map(function(_){return e.jsx("option",{value:_.getFullYear(),children:m(_,{locale:c})},_.getFullYear())})})}function u9(s,t){var r=x.useState(s),n=r[0],a=r[1],o=t===void 0?n:t;return[o,a]}function h9(s){var t=s.month,r=s.defaultMonth,n=s.today,a=t||r||n||new Date,o=s.toDate,c=s.fromDate,d=s.numberOfMonths,h=d===void 0?1:d;if(o&&$c(o,a)<0){var f=-1*(h-1);a=An(o,f)}return c&&$c(a,c)<0&&(a=c),kr(a)}function f9(){var s=ss(),t=h9(s),r=u9(t,s.month),n=r[0],a=r[1],o=function(c){var d;if(!s.disableNavigation){var h=kr(c);a(h),(d=s.onMonthChange)===null||d===void 0||d.call(s,h)}};return[n,o]}function m9(s,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=kr(s),o=kr(An(a,n)),c=$c(o,a),d=[],h=0;h<c;h++){var f=An(a,h);d.push(f)}return r&&(d=d.reverse()),d}function p9(s,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,c=n?o:1,d=kr(s);if(!r)return An(d,c);var h=$c(r,s);if(!(h<o))return An(d,c)}}function x9(s,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,c=n?o:1,d=kr(s);if(!r)return An(d,-c);var h=$c(d,r);if(!(h<=0))return An(d,-c)}}var AC=x.createContext(void 0);function g9(s){var t=ss(),r=f9(),n=r[0],a=r[1],o=m9(n,t),c=p9(n,t),d=x9(n,t),h=function(p){return o.some(function(j){return Xg(p,j)})},f=function(p,j){h(p)||(j&&LS(p,j)?a(An(p,1+t.numberOfMonths*-1)):a(p))},m={currentMonth:n,displayMonths:o,goToMonth:a,goToDate:f,previousMonth:d,nextMonth:c,isDateDisplayed:h};return e.jsx(AC.Provider,{value:m,children:s.children})}function gd(){var s=x.useContext(AC);if(!s)throw new Error("useNavigation must be used within a NavigationProvider");return s}function Yb(s){var t,r=ss(),n=r.classNames,a=r.styles,o=r.components,c=gd().goToMonth,d=function(m){c(An(m,s.displayIndex?-s.displayIndex:0))},h=(t=o?.CaptionLabel)!==null&&t!==void 0?t:TC,f=e.jsx(h,{id:s.id,displayMonth:s.displayMonth});return e.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[e.jsx("div",{className:n.vhidden,children:f}),e.jsx(c9,{onChange:d,displayMonth:s.displayMonth}),e.jsx(d9,{onChange:d,displayMonth:s.displayMonth})]})}function v9(s){return e.jsx("svg",ct({width:"16px",height:"16px",viewBox:"0 0 120 120"},s,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function y9(s){return e.jsx("svg",ct({width:"16px",height:"16px",viewBox:"0 0 120 120"},s,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ch=x.forwardRef(function(s,t){var r=ss(),n=r.classNames,a=r.styles,o=[n.button_reset,n.button];s.className&&o.push(s.className);var c=o.join(" "),d=ct(ct({},a.button_reset),a.button);return s.style&&Object.assign(d,s.style),e.jsx("button",ct({},s,{ref:t,type:"button",className:c,style:d}))});function j9(s){var t,r,n=ss(),a=n.dir,o=n.locale,c=n.classNames,d=n.styles,h=n.labels,f=h.labelPrevious,m=h.labelNext,p=n.components;if(!s.nextMonth&&!s.previousMonth)return e.jsx(e.Fragment,{});var j=f(s.previousMonth,{locale:o}),w=[c.nav_button,c.nav_button_previous].join(" "),S=m(s.nextMonth,{locale:o}),v=[c.nav_button,c.nav_button_next].join(" "),y=(t=p?.IconRight)!==null&&t!==void 0?t:y9,b=(r=p?.IconLeft)!==null&&r!==void 0?r:v9;return e.jsxs("div",{className:c.nav,style:d.nav,children:[!s.hidePrevious&&e.jsx(Ch,{name:"previous-month","aria-label":j,className:w,style:d.nav_button_previous,disabled:!s.previousMonth,onClick:s.onPreviousClick,children:a==="rtl"?e.jsx(y,{className:c.nav_icon,style:d.nav_icon}):e.jsx(b,{className:c.nav_icon,style:d.nav_icon})}),!s.hideNext&&e.jsx(Ch,{name:"next-month","aria-label":S,className:v,style:d.nav_button_next,disabled:!s.nextMonth,onClick:s.onNextClick,children:a==="rtl"?e.jsx(b,{className:c.nav_icon,style:d.nav_icon}):e.jsx(y,{className:c.nav_icon,style:d.nav_icon})})]})}function Qb(s){var t=ss().numberOfMonths,r=gd(),n=r.previousMonth,a=r.nextMonth,o=r.goToMonth,c=r.displayMonths,d=c.findIndex(function(S){return Xg(s.displayMonth,S)}),h=d===0,f=d===c.length-1,m=t>1&&(h||!f),p=t>1&&(f||!h),j=function(){n&&o(n)},w=function(){a&&o(a)};return e.jsx(j9,{displayMonth:s.displayMonth,hideNext:m,hidePrevious:p,nextMonth:a,previousMonth:n,onPreviousClick:j,onNextClick:w})}function w9(s){var t,r=ss(),n=r.classNames,a=r.disableNavigation,o=r.styles,c=r.captionLayout,d=r.components,h=(t=d?.CaptionLabel)!==null&&t!==void 0?t:TC,f;return a?f=e.jsx(h,{id:s.id,displayMonth:s.displayMonth}):c==="dropdown"?f=e.jsx(Yb,{displayMonth:s.displayMonth,id:s.id}):c==="dropdown-buttons"?f=e.jsxs(e.Fragment,{children:[e.jsx(Yb,{displayMonth:s.displayMonth,displayIndex:s.displayIndex,id:s.id}),e.jsx(Qb,{displayMonth:s.displayMonth,displayIndex:s.displayIndex,id:s.id})]}):f=e.jsxs(e.Fragment,{children:[e.jsx(h,{id:s.id,displayMonth:s.displayMonth,displayIndex:s.displayIndex}),e.jsx(Qb,{displayMonth:s.displayMonth,id:s.id})]}),e.jsx("div",{className:n.caption,style:o.caption,children:f})}function b9(s){var t=ss(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?e.jsx("tfoot",{className:a,style:n.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:r})})}):e.jsx(e.Fragment,{})}function N9(s,t,r){for(var n=r?Ki(new Date):na(new Date,{locale:s,weekStartsOn:t}),a=[],o=0;o<7;o++){var c=cr(n,o);a.push(c)}return a}function _9(){var s=ss(),t=s.classNames,r=s.styles,n=s.showWeekNumber,a=s.locale,o=s.weekStartsOn,c=s.ISOWeek,d=s.formatters.formatWeekdayName,h=s.labels.labelWeekday,f=N9(a,o,c);return e.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&e.jsx("td",{style:r.head_cell,className:t.head_cell}),f.map(function(m,p){return e.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":h(m,{locale:a}),children:d(m,{locale:a})},p)})]})}function S9(){var s,t=ss(),r=t.classNames,n=t.styles,a=t.components,o=(s=a?.HeadRow)!==null&&s!==void 0?s:_9;return e.jsx("thead",{style:n.head,className:r.head,children:e.jsx(o,{})})}function k9(s){var t=ss(),r=t.locale,n=t.formatters.formatDay;return e.jsx(e.Fragment,{children:n(s.date,{locale:r})})}var Cv=x.createContext(void 0);function C9(s){if(!pd(s.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return e.jsx(Cv.Provider,{value:t,children:s.children})}return e.jsx(E9,{initialProps:s.initialProps,children:s.children})}function E9(s){var t=s.initialProps,r=s.children,n=t.selected,a=t.min,o=t.max,c=function(f,m,p){var j,w;(j=t.onDayClick)===null||j===void 0||j.call(t,f,m,p);var S=!!(m.selected&&a&&n?.length===a);if(!S){var v=!!(!m.selected&&o&&n?.length===o);if(!v){var y=n?EC([],n):[];if(m.selected){var b=y.findIndex(function(_){return _r(f,_)});y.splice(b,1)}else y.push(f);(w=t.onSelect)===null||w===void 0||w.call(t,y,f,m,p)}}},d={disabled:[]};n&&d.disabled.push(function(f){var m=o&&n.length>o-1,p=n.some(function(j){return _r(j,f)});return!!(m&&!p)});var h={selected:n,onDayClick:c,modifiers:d};return e.jsx(Cv.Provider,{value:h,children:r})}function Ev(){var s=x.useContext(Cv);if(!s)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return s}function P9(s,t){var r=t||{},n=r.from,a=r.to;return n&&a?_r(a,s)&&_r(n,s)?void 0:_r(a,s)?{from:a,to:void 0}:_r(n,s)?void 0:Dx(n,s)?{from:s,to:a}:{from:n,to:s}:a?Dx(s,a)?{from:a,to:s}:{from:s,to:a}:n?LS(s,n)?{from:s,to:n}:{from:n,to:s}:{from:s,to:void 0}}var Pv=x.createContext(void 0);function T9(s){if(!xd(s.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(Pv.Provider,{value:t,children:s.children})}return e.jsx(R9,{initialProps:s.initialProps,children:s.children})}function R9(s){var t=s.initialProps,r=s.children,n=t.selected,a=n||{},o=a.from,c=a.to,d=t.min,h=t.max,f=function(w,S,v){var y,b;(y=t.onDayClick)===null||y===void 0||y.call(t,w,S,v);var _=P9(w,n);(b=t.onSelect)===null||b===void 0||b.call(t,_,w,S,v)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(m.range_start=[o],c?(m.range_end=[c],_r(o,c)||(m.range_middle=[{after:o,before:c}])):m.range_end=[o]):c&&(m.range_start=[c],m.range_end=[c]),d&&(o&&!c&&m.disabled.push({after:Vp(o,d-1),before:cr(o,d-1)}),o&&c&&m.disabled.push({after:o,before:cr(o,d-1)}),!o&&c&&m.disabled.push({after:Vp(c,d-1),before:cr(c,d-1)})),h){if(o&&!c&&(m.disabled.push({before:cr(o,-h+1)}),m.disabled.push({after:cr(o,h-1)})),o&&c){var p=Qn(c,o)+1,j=h-p;m.disabled.push({before:Vp(o,j)}),m.disabled.push({after:cr(c,j)})}!o&&c&&(m.disabled.push({before:cr(c,-h+1)}),m.disabled.push({after:cr(c,h-1)}))}return e.jsx(Pv.Provider,{value:{selected:n,onDayClick:f,modifiers:m},children:r})}function Tv(){var s=x.useContext(Pv);if(!s)throw new Error("useSelectRange must be used within a SelectRangeProvider");return s}function Xu(s){return Array.isArray(s)?EC([],s):s!==void 0?[s]:[]}function A9(s){var t={};return Object.entries(s).forEach(function(r){var n=r[0],a=r[1];t[n]=Xu(a)}),t}var Dn;(function(s){s.Outside="outside",s.Disabled="disabled",s.Selected="selected",s.Hidden="hidden",s.Today="today",s.RangeStart="range_start",s.RangeEnd="range_end",s.RangeMiddle="range_middle"})(Dn||(Dn={}));var D9=Dn.Selected,va=Dn.Disabled,M9=Dn.Hidden,O9=Dn.Today,Zp=Dn.RangeEnd,Xp=Dn.RangeMiddle,Jp=Dn.RangeStart,I9=Dn.Outside;function L9(s,t,r){var n,a=(n={},n[D9]=Xu(s.selected),n[va]=Xu(s.disabled),n[M9]=Xu(s.hidden),n[O9]=[s.today],n[Zp]=[],n[Xp]=[],n[Jp]=[],n[I9]=[],n);return s.fromDate&&a[va].push({before:s.fromDate}),s.toDate&&a[va].push({after:s.toDate}),pd(s)?a[va]=a[va].concat(t.modifiers[va]):xd(s)&&(a[va]=a[va].concat(r.modifiers[va]),a[Jp]=r.modifiers[Jp],a[Xp]=r.modifiers[Xp],a[Zp]=r.modifiers[Zp]),a}var DC=x.createContext(void 0);function F9(s){var t=ss(),r=Ev(),n=Tv(),a=L9(t,r,n),o=A9(t.modifiers),c=ct(ct({},a),o);return e.jsx(DC.Provider,{value:c,children:s.children})}function MC(){var s=x.useContext(DC);if(!s)throw new Error("useModifiers must be used within a ModifiersProvider");return s}function $9(s){return!!(s&&typeof s=="object"&&"before"in s&&"after"in s)}function z9(s){return!!(s&&typeof s=="object"&&"from"in s)}function U9(s){return!!(s&&typeof s=="object"&&"after"in s)}function B9(s){return!!(s&&typeof s=="object"&&"before"in s)}function q9(s){return!!(s&&typeof s=="object"&&"dayOfWeek"in s)}function V9(s,t){var r,n=t.from,a=t.to;if(n&&a){var o=Qn(a,n)<0;o&&(r=[a,n],n=r[0],a=r[1]);var c=Qn(s,n)>=0&&Qn(a,s)>=0;return c}return a?_r(a,s):n?_r(n,s):!1}function W9(s){return Yg(s)}function H9(s){return Array.isArray(s)&&s.every(Yg)}function G9(s,t){return t.some(function(r){if(typeof r=="boolean")return r;if(W9(r))return _r(s,r);if(H9(r))return r.includes(s);if(z9(r))return V9(s,r);if(q9(r))return r.dayOfWeek.includes(s.getDay());if($9(r)){var n=Qn(r.before,s),a=Qn(r.after,s),o=n>0,c=a<0,d=Dx(r.before,r.after);return d?c&&o:o||c}return U9(r)?Qn(s,r.after)>0:B9(r)?Qn(r.before,s)>0:typeof r=="function"?r(s):!1})}function Rv(s,t,r){var n=Object.keys(t).reduce(function(o,c){var d=t[c];return G9(s,d)&&o.push(c),o},[]),a={};return n.forEach(function(o){return a[o]=!0}),r&&!Xg(s,r)&&(a.outside=!0),a}function K9(s,t){for(var r=kr(s[0]),n=Qg(s[s.length-1]),a,o,c=r;c<=n;){var d=Rv(c,t),h=!d.disabled&&!d.hidden;if(!h){c=cr(c,1);continue}if(d.selected)return c;d.today&&!o&&(o=c),a||(a=c),c=cr(c,1)}return o||a}var Y9=365;function OC(s,t){var r=t.moveBy,n=t.direction,a=t.context,o=t.modifiers,c=t.retry,d=c===void 0?{count:0,lastFocused:s}:c,h=a.weekStartsOn,f=a.fromDate,m=a.toDate,p=a.locale,j={day:cr,week:Ax,month:An,year:cL,startOfWeek:function(y){return a.ISOWeek?Ki(y):na(y,{locale:p,weekStartsOn:h})},endOfWeek:function(y){return a.ISOWeek?TS(y):Zg(y,{locale:p,weekStartsOn:h})}},w=j[r](s,n==="after"?1:-1);n==="before"&&f?w=dL([f,w]):n==="after"&&m&&(w=uL([m,w]));var S=!0;if(o){var v=Rv(w,o);S=!v.disabled&&!v.hidden}return S?w:d.count>Y9?d.lastFocused:OC(w,{moveBy:r,direction:n,context:a,modifiers:o,retry:ct(ct({},d),{count:d.count+1})})}var IC=x.createContext(void 0);function Q9(s){var t=gd(),r=MC(),n=x.useState(),a=n[0],o=n[1],c=x.useState(),d=c[0],h=c[1],f=K9(t.displayMonths,r),m=a??(d&&t.isDateDisplayed(d))?d:f,p=function(){h(a),o(void 0)},j=function(y){o(y)},w=ss(),S=function(y,b){if(a){var _=OC(a,{moveBy:y,direction:b,context:w,modifiers:r});_r(a,_)||(t.goToDate(_,a),j(_))}},v={focusedDay:a,focusTarget:m,blur:p,focus:j,focusDayAfter:function(){return S("day","after")},focusDayBefore:function(){return S("day","before")},focusWeekAfter:function(){return S("week","after")},focusWeekBefore:function(){return S("week","before")},focusMonthBefore:function(){return S("month","before")},focusMonthAfter:function(){return S("month","after")},focusYearBefore:function(){return S("year","before")},focusYearAfter:function(){return S("year","after")},focusStartOfWeek:function(){return S("startOfWeek","before")},focusEndOfWeek:function(){return S("endOfWeek","after")}};return e.jsx(IC.Provider,{value:v,children:s.children})}function Av(){var s=x.useContext(IC);if(!s)throw new Error("useFocusContext must be used within a FocusProvider");return s}function Z9(s,t){var r=MC(),n=Rv(s,r,t);return n}var Dv=x.createContext(void 0);function X9(s){if(!Ef(s.initialProps)){var t={selected:void 0};return e.jsx(Dv.Provider,{value:t,children:s.children})}return e.jsx(J9,{initialProps:s.initialProps,children:s.children})}function J9(s){var t=s.initialProps,r=s.children,n=function(o,c,d){var h,f,m;if((h=t.onDayClick)===null||h===void 0||h.call(t,o,c,d),c.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,o,c,d);return}(m=t.onSelect)===null||m===void 0||m.call(t,o,o,c,d)},a={selected:t.selected,onDayClick:n};return e.jsx(Dv.Provider,{value:a,children:r})}function LC(){var s=x.useContext(Dv);if(!s)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return s}function eB(s,t){var r=ss(),n=LC(),a=Ev(),o=Tv(),c=Av(),d=c.focusDayAfter,h=c.focusDayBefore,f=c.focusWeekAfter,m=c.focusWeekBefore,p=c.blur,j=c.focus,w=c.focusMonthBefore,S=c.focusMonthAfter,v=c.focusYearBefore,y=c.focusYearAfter,b=c.focusStartOfWeek,_=c.focusEndOfWeek,k=function(Y){var F,W,le,I;Ef(r)?(F=n.onDayClick)===null||F===void 0||F.call(n,s,t,Y):pd(r)?(W=a.onDayClick)===null||W===void 0||W.call(a,s,t,Y):xd(r)?(le=o.onDayClick)===null||le===void 0||le.call(o,s,t,Y):(I=r.onDayClick)===null||I===void 0||I.call(r,s,t,Y)},E=function(Y){var F;j(s),(F=r.onDayFocus)===null||F===void 0||F.call(r,s,t,Y)},P=function(Y){var F;p(),(F=r.onDayBlur)===null||F===void 0||F.call(r,s,t,Y)},R=function(Y){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,s,t,Y)},D=function(Y){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,s,t,Y)},U=function(Y){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,s,t,Y)},V=function(Y){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,s,t,Y)},te=function(Y){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,s,t,Y)},oe=function(Y){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,s,t,Y)},K=function(Y){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,s,t,Y)},ce=function(Y){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,s,t,Y)},H=function(Y){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,s,t,Y)},ve=function(Y){var F;switch(Y.key){case"ArrowLeft":Y.preventDefault(),Y.stopPropagation(),r.dir==="rtl"?d():h();break;case"ArrowRight":Y.preventDefault(),Y.stopPropagation(),r.dir==="rtl"?h():d();break;case"ArrowDown":Y.preventDefault(),Y.stopPropagation(),f();break;case"ArrowUp":Y.preventDefault(),Y.stopPropagation(),m();break;case"PageUp":Y.preventDefault(),Y.stopPropagation(),Y.shiftKey?v():w();break;case"PageDown":Y.preventDefault(),Y.stopPropagation(),Y.shiftKey?y():S();break;case"Home":Y.preventDefault(),Y.stopPropagation(),b();break;case"End":Y.preventDefault(),Y.stopPropagation(),_();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,s,t,Y)},ue={onClick:k,onFocus:E,onBlur:P,onKeyDown:ve,onKeyUp:H,onMouseEnter:R,onMouseLeave:D,onPointerEnter:U,onPointerLeave:V,onTouchCancel:te,onTouchEnd:oe,onTouchMove:K,onTouchStart:ce};return ue}function tB(){var s=ss(),t=LC(),r=Ev(),n=Tv(),a=Ef(s)?t.selected:pd(s)?r.selected:xd(s)?n.selected:void 0;return a}function sB(s){return Object.values(Dn).includes(s)}function rB(s,t){var r=[s.classNames.day];return Object.keys(t).forEach(function(n){var a=s.modifiersClassNames[n];if(a)r.push(a);else if(sB(n)){var o=s.classNames["day_".concat(n)];o&&r.push(o)}}),r}function nB(s,t){var r=ct({},s.styles.day);return Object.keys(t).forEach(function(n){var a;r=ct(ct({},r),(a=s.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function aB(s,t,r){var n,a,o,c=ss(),d=Av(),h=Z9(s,t),f=eB(s,h),m=tB(),p=!!(c.onDayClick||c.mode!=="default");x.useEffect(function(){var R;h.outside||d.focusedDay&&p&&_r(d.focusedDay,s)&&((R=r.current)===null||R===void 0||R.focus())},[d.focusedDay,s,r,p,h.outside]);var j=rB(c,h).join(" "),w=nB(c,h),S=!!(h.outside&&!c.showOutsideDays||h.hidden),v=(o=(a=c.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:k9,y=e.jsx(v,{date:s,displayMonth:t,activeModifiers:h}),b={style:w,className:j,children:y,role:"gridcell"},_=d.focusTarget&&_r(d.focusTarget,s)&&!h.outside,k=d.focusedDay&&_r(d.focusedDay,s),E=ct(ct(ct({},b),(n={disabled:h.disabled,role:"gridcell"},n["aria-selected"]=h.selected,n.tabIndex=k||_?0:-1,n)),f),P={isButton:p,isHidden:S,activeModifiers:h,selectedDays:m,buttonProps:E,divProps:b};return P}function iB(s){var t=x.useRef(null),r=aB(s.date,s.displayMonth,t);return r.isHidden?e.jsx("div",{role:"gridcell"}):r.isButton?e.jsx(Ch,ct({name:"day",ref:t},r.buttonProps)):e.jsx("div",ct({},r.divProps))}function oB(s){var t=s.number,r=s.dates,n=ss(),a=n.onWeekNumberClick,o=n.styles,c=n.classNames,d=n.locale,h=n.labels.labelWeekNumber,f=n.formatters.formatWeekNumber,m=f(Number(t),{locale:d});if(!a)return e.jsx("span",{className:c.weeknumber,style:o.weeknumber,children:m});var p=h(Number(t),{locale:d}),j=function(w){a(t,r,w)};return e.jsx(Ch,{name:"week-number","aria-label":p,className:c.weeknumber,style:o.weeknumber,onClick:j,children:m})}function lB(s){var t,r,n=ss(),a=n.styles,o=n.classNames,c=n.showWeekNumber,d=n.components,h=(t=d?.Day)!==null&&t!==void 0?t:iB,f=(r=d?.WeekNumber)!==null&&r!==void 0?r:oB,m;return c&&(m=e.jsx("td",{className:o.cell,style:a.cell,children:e.jsx(f,{number:s.weekNumber,dates:s.dates})})),e.jsxs("tr",{className:o.row,style:a.row,children:[m,s.dates.map(function(p){return e.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:e.jsx(h,{displayMonth:s.displayMonth,date:p})},c6(p))})]})}function Zb(s,t,r){for(var n=r?.ISOWeek?TS(t):Zg(t,r),a=r?.ISOWeek?Ki(s):na(s,r),o=Qn(n,a),c=[],d=0;d<=o;d++)c.push(cr(a,d));var h=c.reduce(function(f,m){var p=r?.ISOWeek?DS(m):OS(m,r),j=f.find(function(w){return w.weekNumber===p});return j?(j.dates.push(m),f):(f.push({weekNumber:p,dates:[m]}),f)},[]);return h}function cB(s,t){var r=Zb(kr(s),Qg(s),t);if(t?.useFixedWeeks){var n=u6(s,t);if(n<6){var a=r[r.length-1],o=a.dates[a.dates.length-1],c=Ax(o,6-n),d=Zb(Ax(o,1),c,t);r.push.apply(r,d)}}return r}function dB(s){var t,r,n,a=ss(),o=a.locale,c=a.classNames,d=a.styles,h=a.hideHead,f=a.fixedWeeks,m=a.components,p=a.weekStartsOn,j=a.firstWeekContainsDate,w=a.ISOWeek,S=cB(s.displayMonth,{useFixedWeeks:!!f,ISOWeek:w,locale:o,weekStartsOn:p,firstWeekContainsDate:j}),v=(t=m?.Head)!==null&&t!==void 0?t:S9,y=(r=m?.Row)!==null&&r!==void 0?r:lB,b=(n=m?.Footer)!==null&&n!==void 0?n:b9;return e.jsxs("table",{id:s.id,className:c.table,style:d.table,role:"grid","aria-labelledby":s["aria-labelledby"],children:[!h&&e.jsx(v,{}),e.jsx("tbody",{className:c.tbody,style:d.tbody,children:S.map(function(_){return e.jsx(y,{displayMonth:s.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),e.jsx(b,{displayMonth:s.displayMonth})]})}function uB(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var hB=uB()?x.useLayoutEffect:x.useEffect,ex=!1,fB=0;function Xb(){return"react-day-picker-".concat(++fB)}function mB(s){var t,r=s??(ex?Xb():null),n=x.useState(r),a=n[0],o=n[1];return hB(function(){a===null&&o(Xb())},[]),x.useEffect(function(){ex===!1&&(ex=!0)},[]),(t=s??a)!==null&&t!==void 0?t:void 0}function pB(s){var t,r,n=ss(),a=n.dir,o=n.classNames,c=n.styles,d=n.components,h=gd().displayMonths,f=mB(n.id?"".concat(n.id,"-").concat(s.displayIndex):void 0),m=n.id?"".concat(n.id,"-grid-").concat(s.displayIndex):void 0,p=[o.month],j=c.month,w=s.displayIndex===0,S=s.displayIndex===h.length-1,v=!w&&!S;a==="rtl"&&(t=[w,S],S=t[0],w=t[1]),w&&(p.push(o.caption_start),j=ct(ct({},j),c.caption_start)),S&&(p.push(o.caption_end),j=ct(ct({},j),c.caption_end)),v&&(p.push(o.caption_between),j=ct(ct({},j),c.caption_between));var y=(r=d?.Caption)!==null&&r!==void 0?r:w9;return e.jsxs("div",{className:p.join(" "),style:j,children:[e.jsx(y,{id:f,displayMonth:s.displayMonth,displayIndex:s.displayIndex}),e.jsx(dB,{id:m,"aria-labelledby":f,displayMonth:s.displayMonth})]},s.displayIndex)}function xB(s){var t=ss(),r=t.classNames,n=t.styles;return e.jsx("div",{className:r.months,style:n.months,children:s.children})}function gB(s){var t,r,n=s.initialProps,a=ss(),o=Av(),c=gd(),d=x.useState(!1),h=d[0],f=d[1];x.useEffect(function(){a.initialFocus&&o.focusTarget&&(h||(o.focus(o.focusTarget),f(!0)))},[a.initialFocus,h,o.focus,o.focusTarget,o]);var m=[a.classNames.root,a.className];a.numberOfMonths>1&&m.push(a.classNames.multiple_months),a.showWeekNumber&&m.push(a.classNames.with_weeknumber);var p=ct(ct({},a.styles.root),a.style),j=Object.keys(n).filter(function(S){return S.startsWith("data-")}).reduce(function(S,v){var y;return ct(ct({},S),(y={},y[v]=n[v],y))},{}),w=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:xB;return e.jsx("div",ct({className:m.join(" "),style:p,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},j,{children:e.jsx(w,{children:c.displayMonths.map(function(S,v){return e.jsx(pB,{displayIndex:v,displayMonth:S},v)})})}))}function vB(s){var t=s.children,r=BU(s,["children"]);return e.jsx(o9,{initialProps:r,children:e.jsx(g9,{children:e.jsx(X9,{initialProps:r,children:e.jsx(C9,{initialProps:r,children:e.jsx(T9,{initialProps:r,children:e.jsx(F9,{children:e.jsx(Q9,{children:t})})})})})})})}function yB(s){return e.jsx(vB,ct({},s,{children:e.jsx(gB,{initialProps:s})}))}function dl({className:s,classNames:t,showOutsideDays:r=!0,...n}){return e.jsx(yB,{showOutsideDays:r,className:be("p-3",s),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:be(Rc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:be(Rc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>e.jsx(ng,{className:"h-4 w-4"}),IconRight:({...a})=>e.jsx(uN,{className:"h-4 w-4"})},...n})}dl.displayName="Calendar";var Pf="Popover",[FC]=Vs(Pf,[gi]),vd=gi(),[jB,bi]=FC(Pf),$C=s=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:c=!1}=s,d=vd(t),h=x.useRef(null),[f,m]=x.useState(!1),[p,j]=Pn({prop:n,defaultProp:a??!1,onChange:o,caller:Pf});return e.jsx(Sg,{...d,children:e.jsx(jB,{scope:t,contentId:rn(),triggerRef:h,open:p,onOpenChange:j,onOpenToggle:x.useCallback(()=>j(w=>!w),[j]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>m(!0),[]),onCustomAnchorRemove:x.useCallback(()=>m(!1),[]),modal:c,children:r})})};$C.displayName=Pf;var zC="PopoverAnchor",wB=x.forwardRef((s,t)=>{const{__scopePopover:r,...n}=s,a=bi(zC,r),o=vd(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=a;return x.useEffect(()=>(c(),()=>d()),[c,d]),e.jsx(Jc,{...o,...n,ref:t})});wB.displayName=zC;var UC="PopoverTrigger",BC=x.forwardRef((s,t)=>{const{__scopePopover:r,...n}=s,a=bi(UC,r),o=vd(r),c=ft(t,a.triggerRef),d=e.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":GC(a.open),...n,ref:c,onClick:Se(s.onClick,a.onOpenToggle)});return a.hasCustomAnchor?d:e.jsx(Jc,{asChild:!0,...o,children:d})});BC.displayName=UC;var Mv="PopoverPortal",[bB,NB]=FC(Mv,{forceMount:void 0}),qC=s=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=s,o=bi(Mv,t);return e.jsx(bB,{scope:t,forceMount:r,children:e.jsx(Ls,{present:r||o.open,children:e.jsx(vl,{asChild:!0,container:a,children:n})})})};qC.displayName=Mv;var ul="PopoverContent",VC=x.forwardRef((s,t)=>{const r=NB(ul,s.__scopePopover),{forceMount:n=r.forceMount,...a}=s,o=bi(ul,s.__scopePopover);return e.jsx(Ls,{present:n||o.open,children:o.modal?e.jsx(SB,{...a,ref:t}):e.jsx(kB,{...a,ref:t})})});VC.displayName=ul;var _B=hi("PopoverContent.RemoveScroll"),SB=x.forwardRef((s,t)=>{const r=bi(ul,s.__scopePopover),n=x.useRef(null),a=ft(t,n),o=x.useRef(!1);return x.useEffect(()=>{const c=n.current;if(c)return ef(c)},[]),e.jsx(rd,{as:_B,allowPinchZoom:!0,children:e.jsx(WC,{...s,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(s.onCloseAutoFocus,c=>{c.preventDefault(),o.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Se(s.onPointerDownOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Se(s.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),kB=x.forwardRef((s,t)=>{const r=bi(ul,s.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return e.jsx(WC,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{s.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{s.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;r.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),WC=x.forwardRef((s,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,...p}=s,j=bi(ul,r),w=vd(r);return Xh(),e.jsx(sd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:e.jsx(ro,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>j.onOpenChange(!1),children:e.jsx(qh,{"data-state":GC(j.open),role:"dialog",id:j.contentId,...w,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),HC="PopoverClose",CB=x.forwardRef((s,t)=>{const{__scopePopover:r,...n}=s,a=bi(HC,r);return e.jsx(Be.button,{type:"button",...n,ref:t,onClick:Se(s.onClick,()=>a.onOpenChange(!1))})});CB.displayName=HC;var EB="PopoverArrow",PB=x.forwardRef((s,t)=>{const{__scopePopover:r,...n}=s,a=vd(r);return e.jsx(Vh,{...a,...n,ref:t})});PB.displayName=EB;function GC(s){return s?"open":"closed"}var TB=$C,RB=BC,AB=qC,KC=VC;const Kc=TB,Yc=RB,hl=x.forwardRef(({className:s,align:t="center",sideOffset:r=4,...n},a)=>e.jsx(AB,{children:e.jsx(KC,{ref:a,align:t,sideOffset:r,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})}));hl.displayName=KC.displayName;const DB=({onLocationSelect:s,initialLat:t=24.7136,initialLng:r=46.6753})=>{const n=x.useRef(null),a=x.useRef(null),o=x.useRef(null),c=x.useRef(null),d=x.useRef(null),[h,f]=x.useState(""),[m,p]=x.useState({lat:t,lng:r}),[j,w]=x.useState(!1);x.useEffect(()=>{(()=>{if(window.google&&window.google.maps){w(!0);return}const y=document.createElement("script");y.src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY_HERE&libraries=places&language=ar",y.async=!0,y.defer=!0,y.onload=()=>w(!0),y.onerror=()=>console.error("Failed to load Google Maps"),document.head.appendChild(y)})()},[]),x.useEffect(()=>{if(!(!j||!n.current))return a.current=new window.google.maps.Map(n.current,{center:{lat:t,lng:r},zoom:12,mapTypeControl:!0,streetViewControl:!1,fullscreenControl:!0}),o.current=new window.google.maps.Marker({position:{lat:t,lng:r},map:a.current,draggable:!0,animation:window.google.maps.Animation.DROP}),o.current.addListener("dragend",async()=>{if(!o.current)return;const v=o.current.getPosition();if(!v)return;const y=v.lat(),b=v.lng(),_=await S(y,b);p({lat:y,lng:b}),s({lat:y,lng:b,address:_})}),a.current.addListener("click",async v=>{if(!v.latLng||!o.current||!a.current)return;const y=v.latLng.lat(),b=v.latLng.lng();o.current.setPosition(v.latLng);const _=await S(y,b);p({lat:y,lng:b}),s({lat:y,lng:b,address:_})}),d.current&&(c.current=new window.google.maps.places.Autocomplete(d.current,{componentRestrictions:{country:"sa"},fields:["geometry","formatted_address"]}),c.current.addListener("place_changed",()=>{if(!c.current||!o.current||!a.current)return;const v=c.current.getPlace();if(!v.geometry||!v.geometry.location)return;const y=v.geometry.location.lat(),b=v.geometry.location.lng(),_=v.formatted_address||"";o.current.setPosition(v.geometry.location),a.current.setCenter(v.geometry.location),a.current.setZoom(14),p({lat:y,lng:b}),s({lat:y,lng:b,address:_})})),()=>{o.current&&window.google&&window.google.maps.event.clearInstanceListeners(o.current),a.current&&window.google&&window.google.maps.event.clearInstanceListeners(a.current)}},[j,t,r,s]);const S=async(v,y)=>{try{const _=await new window.google.maps.Geocoder().geocode({location:{lat:v,lng:y}});return _.results[0]?_.results[0].formatted_address:`${v.toFixed(6)}, ${y.toFixed(6)}`}catch(b){return console.error("Error reverse geocoding:",b),`${v.toFixed(6)}, ${y.toFixed(6)}`}};return j?e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(an,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(Re,{ref:d,placeholder:"ابحث عن موقع...",value:h,onChange:v=>f(v.target.value),className:"pr-10"})]})}),e.jsx("div",{ref:n,className:"w-full h-96 rounded-lg border"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsxs("span",{children:["الإحداثيات: ",m.lat.toFixed(6),", ",m.lng.toFixed(6)]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"اضغط على الخريطة أو اسحب العلامة لتحديد الموقع"})]})}):e.jsx($,{className:"p-4",children:e.jsx("div",{className:"w-full h-96 flex items-center justify-center",children:e.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل الخريطة..."})})})},MB=Sf({title:Dt().min(3,"العنوان يجب أن يكون 3 أحرف على الأقل"),titleAr:Dt().min(3,"العنوان بالعربية يجب أن يكون 3 أحرف على الأقل"),description:Dt().min(10,"الوصف يجب أن يكون 10 أحرف على الأقل"),descriptionAr:Dt().min(10,"الوصف بالعربية يجب أن يكون 10 أحرف على الأقل"),location:Dt().min(3,"الموقع مطلوب"),locationAr:Dt().min(3,"الموقع بالعربية مطلوب"),categoryId:Dt().min(1,"يجب اختيار فئة"),startDate:kh({required_error:"تاريخ البداية مطلوب"}),endDate:kh({required_error:"تاريخ النهاية مطلوب"}),startTime:Dt().min(1,"وقت البداية مطلوب"),endTime:Dt().min(1,"وقت النهاية مطلوب"),price:wa().min(0,"السعر يجب أن يكون 0 أو أكثر"),pricingType:kv(["per_hour","per_day","fixed"]).default("fixed"),maxAttendees:wa().min(1,"عدد المشاركين يجب أن يكون 1 على الأقل"),pointsRequired:wa().min(0,"النقاط المطلوبة يجب أن تكون 0 أو أكثر"),featured:SC().default(!1),imageUrl:Dt().optional()}).refine(s=>{const t=new Date(s.startDate),[r,n]=s.startTime.split(":");t.setHours(parseInt(r),parseInt(n));const a=new Date(s.endDate),[o,c]=s.endTime.split(":");return a.setHours(parseInt(o),parseInt(c)),a>t},{message:"تاريخ ووقت النهاية يجب أن يكون بعد تاريخ ووقت البداية",path:["endDate"]}),OB=()=>{const{user:s}=Ct(),{t}=Ar(),{toast:r}=is(),n=ar(),[a,o]=x.useState(!1),[c,d]=x.useState(null),[h,f]=x.useState(!1),[m,p]=x.useState(null),{data:j=[]}=rr({queryKey:["categories"],queryFn:()=>qi.getCategories()}),w=Nf({resolver:_f(MB),defaultValues:{title:"",titleAr:"",description:"",descriptionAr:"",location:"",locationAr:"",categoryId:"",price:0,pricingType:"fixed",maxAttendees:10,pointsRequired:0,featured:!1,imageUrl:"",startTime:"09:00",endTime:"17:00"}}),S=y=>{const b=y.target.files?.[0];if(b){const _=new FileReader;_.onload=k=>{const E=k.target?.result;d(E),w.setValue("imageUrl",E)},_.readAsDataURL(b)}},v=async y=>{if(!s){r({title:"خطأ",description:"يجب تسجيل الدخول أولاً",variant:"destructive"});return}o(!0);try{const b=new Date(y.startDate),[_,k]=y.startTime.split(":");b.setHours(parseInt(_),parseInt(k),0,0);const E=new Date(y.endDate),[P,R]=y.endTime.split(":");E.setHours(parseInt(P),parseInt(R),0,0);const{data:D,error:U}=await L.from("events").insert({title:y.title,title_ar:y.titleAr,description:y.description,description_ar:y.descriptionAr,location:y.location,location_ar:y.locationAr,latitude:m?.lat||null,longitude:m?.lng||null,category_id:y.categoryId,start_date:b.toISOString(),end_date:E.toISOString(),price:y.price,max_attendees:y.maxAttendees,current_attendees:0,points_required:y.pointsRequired,featured:y.featured,image_url:y.imageUrl,organizer_id:s.id,status:"pending"}).select().single();if(U)throw U;D&&await L.from("event_groups").insert({event_id:D.id,group_name:`${y.titleAr} - المجموعة الرسمية`,group_type:"whatsapp",created_by:s.id,max_members:y.maxAttendees}),r({title:t("success","تم بنجاح!"),description:t("eventCreatedSuccess","تم إنشاء الفعالية وإرسالها للمراجعة. ستجدها في قسم المسودات.")}),w.reset(),d(null),n("/manage-events")}catch(b){console.error("Error creating event:",b),r({title:"خطأ",description:"حدث خطأ أثناء إنشاء الفعالية",variant:"destructive"})}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"إنشاء فعالية جديدة"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"شارك مغامرتك مع المجتمع وانشر الشغف بالطبيعة"})]}),e.jsx(kf,{...w,children:e.jsxs("form",{onSubmit:w.handleSubmit(v),className:"space-y-8",children:[e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"w-5 h-5"}),"المعلومات الأساسية"]})}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ut,{control:w.control,name:"title",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"عنوان الفعالية (English)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"Event Title",...y})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:w.control,name:"titleAr",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"عنوان الفعالية (العربية)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"عنوان الفعالية",...y})}),e.jsx(ht,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ut,{control:w.control,name:"description",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"وصف الفعالية (English)"}),e.jsx(lt,{children:e.jsx(Er,{placeholder:"Event Description",className:"min-h-[120px]",...y})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:w.control,name:"descriptionAr",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"وصف الفعالية (العربية)"}),e.jsx(lt,{children:e.jsx(Er,{placeholder:"وصف مفصل للفعالية...",className:"min-h-[120px]",...y})}),e.jsx(ht,{})]})})]}),e.jsx(ut,{control:w.control,name:"categoryId",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"فئة الفعالية"}),e.jsxs(Yt,{onValueChange:y.onChange,defaultValue:y.value,children:[e.jsx(lt,{children:e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر فئة الفعالية"})})}),e.jsx(Vt,{children:Array.isArray(j)?j.map(b=>e.jsx(Oe,{value:b.id,children:b.name_ar||b.nameAr},b.id)):[]})]}),e.jsx(ht,{})]})})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5"}),"الموقع والتوقيت"]})}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ut,{control:w.control,name:"location",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"الموقع (English)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"Location",...y})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:w.control,name:"locationAr",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"الموقع (العربية)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"الرياض - جبل طويق",...y})}),e.jsx(ht,{})]})})]}),e.jsxs("div",{children:[e.jsxs(A,{type:"button",variant:"outline",className:"w-full",onClick:()=>f(!h),children:[e.jsx(Ot,{className:"w-4 h-4 ml-2"}),h?"إخفاء الخريطة":"تحديد الموقع من الخريطة"]}),h&&e.jsx("div",{className:"mt-4",children:e.jsx(DB,{onLocationSelect:y=>{p({lat:y.lat,lng:y.lng}),w.setValue("locationAr",y.address),w.setValue("location",y.address)}})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ut,{control:w.control,name:"startDate",render:({field:y})=>e.jsxs(it,{className:"flex flex-col",children:[e.jsx(ot,{children:"تاريخ البداية"}),e.jsxs(Kc,{children:[e.jsx(Yc,{asChild:!0,children:e.jsx(lt,{children:e.jsxs(A,{variant:"outline",className:be("w-full pl-3 text-left font-normal",!y.value&&"text-muted-foreground"),children:[y.value?Gt(y.value,"PPP",{locale:Es}):e.jsx("span",{children:"اختر التاريخ"}),e.jsx(kt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(hl,{className:"w-auto p-0",align:"start",children:e.jsx(dl,{mode:"single",selected:y.value,onSelect:y.onChange,disabled:b=>b<new Date||b<new Date("1900-01-01"),initialFocus:!0})})]}),e.jsx(ht,{})]})}),e.jsx(ut,{control:w.control,name:"endDate",render:({field:y})=>e.jsxs(it,{className:"flex flex-col",children:[e.jsx(ot,{children:"تاريخ النهاية"}),e.jsxs(Kc,{children:[e.jsx(Yc,{asChild:!0,children:e.jsx(lt,{children:e.jsxs(A,{variant:"outline",className:be("w-full pl-3 text-left font-normal",!y.value&&"text-muted-foreground"),children:[y.value?Gt(y.value,"PPP",{locale:Es}):e.jsx("span",{children:"اختر التاريخ"}),e.jsx(kt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(hl,{className:"w-auto p-0",align:"start",children:e.jsx(dl,{mode:"single",selected:y.value,onSelect:y.onChange,disabled:b=>b<new Date||b<new Date("1900-01-01"),initialFocus:!0})})]}),e.jsx(ht,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ut,{control:w.control,name:"startTime",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"وقت البداية"}),e.jsx(lt,{children:e.jsx(Re,{type:"time",...y})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:w.control,name:"endTime",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"وقت النهاية"}),e.jsx(lt,{children:e.jsx(Re,{type:"time",...y})}),e.jsx(ht,{})]})})]})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(sr,{className:"w-5 h-5"}),"التسعير والسعة"]})}),e.jsxs(B,{className:"space-y-6",children:[e.jsx(ut,{control:w.control,name:"pricingType",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"نوع التسعير"}),e.jsxs(Yt,{onValueChange:y.onChange,defaultValue:y.value,children:[e.jsx(lt,{children:e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر نوع التسعير"})})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"per_hour",children:"بالساعة"}),e.jsx(Oe,{value:"per_day",children:"باليوم"}),e.jsx(Oe,{value:"fixed",children:"سعر ثابت"})]})]}),e.jsx(ht,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(ut,{control:w.control,name:"price",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"السعر (ريال)"}),e.jsx(lt,{children:e.jsx(Re,{type:"number",min:"0",placeholder:"0",...y,onChange:b=>y.onChange(Number(b.target.value))})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:w.control,name:"maxAttendees",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"عدد المشاركين الأقصى"}),e.jsx(lt,{children:e.jsx(Re,{type:"number",min:"1",placeholder:"10",...y,onChange:b=>y.onChange(Number(b.target.value))})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:w.control,name:"pointsRequired",render:({field:y})=>e.jsxs(it,{children:[e.jsx(ot,{children:"النقاط المطلوبة"}),e.jsx(lt,{children:e.jsx(Re,{type:"number",min:"0",placeholder:"0",...y,onChange:b=>y.onChange(Number(b.target.value))})}),e.jsx(ht,{})]})})]}),e.jsx(ut,{control:w.control,name:"featured",render:({field:y})=>e.jsxs(it,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ot,{className:"text-base",children:"فعالية مميزة"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"ستظهر الفعالية في القسم المميز (رسوم إضافية)"})]}),e.jsx(lt,{children:e.jsx(wr,{checked:y.value,onCheckedChange:y.onChange})})]})})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(ig,{className:"w-5 h-5"}),"صورة الفعالية"]})}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed border-muted-foreground/25 rounded-lg cursor-pointer bg-muted/10 hover:bg-muted/20 transition-colors",children:[c?e.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(PN,{className:"w-8 h-8 mb-4 text-muted-foreground"}),e.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-semibold",children:"انقر لتحديد صورة"})," أو اسحب وأفلت"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG أو JPEG (MAX. 5MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:S})]})})})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(A,{type:"submit",size:"lg",disabled:a,className:"flex-1",children:a?"جاري الإنشاء...":"إنشاء الفعالية"}),e.jsx(A,{type:"button",variant:"outline",size:"lg",onClick:()=>w.reset(),children:"إعادة تعيين"})]})]})})]})}),e.jsx(nt,{})]})},IB=Sf({title:Dt().min(3,"العنوان يجب أن يكون 3 أحرف على الأقل"),titleAr:Dt().min(3,"العنوان بالعربية يجب أن يكون 3 أحرف على الأقل"),description:Dt().min(10,"الوصف يجب أن يكون 10 أحرف على الأقل"),descriptionAr:Dt().min(10,"الوصف بالعربية يجب أن يكون 10 أحرف على الأقل"),location:Dt().min(3,"الموقع مطلوب"),locationAr:Dt().min(3,"الموقع بالعربية مطلوب"),categoryId:Dt().min(1,"يجب اختيار فئة"),startDate:kh({required_error:"تاريخ البداية مطلوب"}),endDate:kh({required_error:"تاريخ النهاية مطلوب"}),price:wa().min(0,"السعر يجب أن يكون 0 أو أكثر"),maxAttendees:wa().min(1,"عدد المشاركين يجب أن يكون 1 على الأقل"),pointsRequired:wa().min(0,"النقاط المطلوبة يجب أن تكون 0 أو أكثر"),featured:SC().default(!1),imageUrl:Dt().optional()}).refine(s=>s.endDate>s.startDate,{message:"تاريخ النهاية يجب أن يكون بعد تاريخ البداية",path:["endDate"]}),LB=()=>{const{id:s}=Qh(),t=ar(),{user:r,loading:n}=Ct(),{language:a,t:o}=Ar(),{toast:c}=is(),[d,h]=x.useState(null),[f,m]=x.useState(!1),p=Nf({resolver:_f(IB),defaultValues:{title:"",titleAr:"",description:"",descriptionAr:"",location:"",locationAr:"",categoryId:"",price:0,maxAttendees:50,pointsRequired:0,featured:!1,imageUrl:""}}),{data:j}=rr({queryKey:["categories"],queryFn:async()=>{const{data:b,error:_}=await L.from("categories").select("*").order("name");if(_)throw _;return b}}),{data:w,isLoading:S}=rr({queryKey:["event",s],queryFn:async()=>{if(!s)throw new Error("Event ID required");const{data:b,error:_}=await L.from("events").select(`
          *,
          categories(name, name_ar)
        `).eq("id",s).maybeSingle();if(_)throw _;if(!b)throw new Error("Event not found");return b},enabled:!!s,onSuccess:b=>{p.reset({title:b.title||"",titleAr:b.title_ar||"",description:b.description||"",descriptionAr:b.description_ar||"",location:b.location||"",locationAr:b.location_ar||"",categoryId:b.category_id||"",startDate:b.start_date?new Date(b.start_date):new Date,endDate:b.end_date?new Date(b.end_date):new Date,price:b.price||0,maxAttendees:b.max_attendees||50,pointsRequired:b.points_required||0,featured:b.featured||!1,imageUrl:b.image_url||""}),b.image_url&&h(b.image_url)}}),v=b=>{const _=b.target.files?.[0];if(_){const k=new FileReader;k.onload=E=>{const P=E.target?.result;h(P),p.setValue("imageUrl",P)},k.readAsDataURL(_)}},y=async b=>{if(!(!r||!s)){if(w&&new Date(w.start_date)<new Date){c({title:o("error","خطأ"),description:"لا يمكن تعديل فعالية قد بدأت بالفعل",variant:"destructive"});return}m(!0);try{const{error:_}=await L.from("events").update({title:b.title,title_ar:b.titleAr,description:b.description,description_ar:b.descriptionAr,location:b.location,location_ar:b.locationAr,category_id:b.categoryId,start_date:b.startDate.toISOString(),end_date:b.endDate.toISOString(),price:b.price,max_attendees:b.maxAttendees,points_required:b.pointsRequired,featured:b.featured,image_url:b.imageUrl,updated_at:new Date().toISOString()}).eq("id",s).eq("organizer_id",r.id);if(_)throw _;c({title:o("success","تم بنجاح!"),description:o("eventUpdatedSuccess","تم تحديث الفعالية بنجاح")}),t("/manage-events")}catch(_){c({title:o("error","خطأ"),description:_.message||o("eventUpdateError","حدث خطأ أثناء تحديث الفعالية"),variant:"destructive"})}finally{m(!1)}}};return n||S?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),e.jsx("div",{className:"h-32 bg-muted rounded"}),e.jsx("div",{className:"h-32 bg-muted rounded"})]})}),e.jsx(nt,{})]}):w?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>t("/manage-events"),className:"gap-2",children:[e.jsx(Dh,{className:"h-4 w-4"}),"العودة"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"تعديل الفعالية"}),e.jsx("p",{className:"text-muted-foreground",children:"قم بتعديل تفاصيل الفعالية"})]})]}),e.jsx(kf,{...p,children:e.jsxs("form",{onSubmit:p.handleSubmit(y),className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(ig,{className:"h-5 w-5"}),"المعلومات الأساسية"]})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ut,{control:p.control,name:"title",render:({field:b})=>e.jsxs(it,{children:[e.jsx(ot,{children:"عنوان الفعالية (English)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"Event title in English",...b})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:p.control,name:"titleAr",render:({field:b})=>e.jsxs(it,{children:[e.jsx(ot,{children:"عنوان الفعالية (العربية)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"عنوان الفعالية بالعربية",...b})}),e.jsx(ht,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ut,{control:p.control,name:"description",render:({field:b})=>e.jsxs(it,{children:[e.jsx(ot,{children:"الوصف (English)"}),e.jsx(lt,{children:e.jsx(Er,{placeholder:"Event description in English",className:"min-h-[100px]",...b})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:p.control,name:"descriptionAr",render:({field:b})=>e.jsxs(it,{children:[e.jsx(ot,{children:"الوصف (العربية)"}),e.jsx(lt,{children:e.jsx(Er,{placeholder:"وصف الفعالية بالعربية",className:"min-h-[100px]",...b})}),e.jsx(ht,{})]})})]}),e.jsx(ut,{control:p.control,name:"categoryId",render:({field:b})=>e.jsxs(it,{children:[e.jsx(ot,{children:"الفئة"}),e.jsxs(Yt,{onValueChange:b.onChange,value:b.value,children:[e.jsx(lt,{children:e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر فئة الفعالية"})})}),e.jsx(Vt,{children:j?.map(_=>e.jsx(Oe,{value:_.id,children:a==="ar"?_.name_ar:_.name},_.id))})]}),e.jsx(ht,{})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-sm font-medium",children:"صورة الفعالية"}),e.jsx("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"})})}),d&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:d,alt:"معاينة الصورة",className:"w-full max-w-md h-48 object-cover rounded-lg border"})})]})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-5 w-5"}),"الموقع والتوقيت"]})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ut,{control:p.control,name:"location",render:({field:b})=>e.jsxs(it,{children:[e.jsx(ot,{children:"الموقع (English)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"Event location in English",...b})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:p.control,name:"locationAr",render:({field:b})=>e.jsxs(it,{children:[e.jsx(ot,{children:"الموقع (العربية)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"موقع الفعالية بالعربية",...b})}),e.jsx(ht,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ut,{control:p.control,name:"startDate",render:({field:b})=>e.jsxs(it,{className:"flex flex-col",children:[e.jsx(ot,{children:"تاريخ البداية"}),e.jsxs(Kc,{children:[e.jsx(Yc,{asChild:!0,children:e.jsx(lt,{children:e.jsxs(A,{variant:"outline",className:be("w-full pl-3 text-left font-normal",!b.value&&"text-muted-foreground"),children:[b.value?Gt(b.value,"PPP",{locale:Es}):e.jsx("span",{children:"اختر التاريخ"}),e.jsx(kt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(hl,{className:"w-auto p-0",align:"start",children:e.jsx(dl,{mode:"single",selected:b.value,onSelect:b.onChange,disabled:_=>_<new Date||_<new Date("1900-01-01"),initialFocus:!0})})]}),e.jsx(ht,{})]})}),e.jsx(ut,{control:p.control,name:"endDate",render:({field:b})=>e.jsxs(it,{className:"flex flex-col",children:[e.jsx(ot,{children:"تاريخ النهاية"}),e.jsxs(Kc,{children:[e.jsx(Yc,{asChild:!0,children:e.jsx(lt,{children:e.jsxs(A,{variant:"outline",className:be("w-full pl-3 text-left font-normal",!b.value&&"text-muted-foreground"),children:[b.value?Gt(b.value,"PPP",{locale:Es}):e.jsx("span",{children:"اختر التاريخ"}),e.jsx(kt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(hl,{className:"w-auto p-0",align:"start",children:e.jsx(dl,{mode:"single",selected:b.value,onSelect:b.onChange,disabled:_=>_<new Date||_<new Date("1900-01-01"),initialFocus:!0})})]}),e.jsx(ht,{})]})})]})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(sr,{className:"h-5 w-5"}),"السعر والحضور"]})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ut,{control:p.control,name:"price",render:({field:b})=>e.jsxs(it,{children:[e.jsx(ot,{children:"السعر (ريال سعودي)"}),e.jsx(lt,{children:e.jsx(Re,{type:"number",min:"0",step:"0.01",placeholder:"0.00",...b,onChange:_=>b.onChange(parseFloat(_.target.value)||0)})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:p.control,name:"maxAttendees",render:({field:b})=>e.jsxs(it,{children:[e.jsx(ot,{children:"الحد الأقصى للمشاركين"}),e.jsx(lt,{children:e.jsx(Re,{type:"number",min:"1",placeholder:"50",...b,onChange:_=>b.onChange(parseInt(_.target.value)||1)})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:p.control,name:"pointsRequired",render:({field:b})=>e.jsxs(it,{children:[e.jsx(ot,{children:"النقاط المطلوبة"}),e.jsx(lt,{children:e.jsx(Re,{type:"number",min:"0",placeholder:"0",...b,onChange:_=>b.onChange(parseInt(_.target.value)||0)})}),e.jsx(ht,{})]})})]}),e.jsx(ut,{control:p.control,name:"featured",render:({field:b})=>e.jsxs(it,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ot,{className:"text-base",children:"فعالية مميزة"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"ستظهر الفعالية في قسم الفعاليات المميزة"})]}),e.jsx(lt,{children:e.jsx(wr,{checked:b.value,onCheckedChange:b.onChange})})]})})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>t("/manage-events"),disabled:f,children:"إلغاء"}),e.jsx(A,{type:"submit",disabled:f,className:"flex-1",children:f?"جاري التحديث...":"تحديث الفعالية"})]})]})})]})}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx($,{children:e.jsxs(B,{className:"p-6 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"الفعالية غير موجودة"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"لم يتم العثور على الفعالية المطلوبة"}),e.jsx(A,{onClick:()=>t("/manage-events"),children:"العودة إلى إدارة الفعاليات"})]})})}),e.jsx(nt,{})]})},FB=Sf({name:Dt().min(3,"اسم الخدمة يجب أن يكون 3 أحرف على الأقل"),nameAr:Dt().min(3,"اسم الخدمة بالعربية يجب أن يكون 3 أحرف على الأقل"),description:Dt().min(10,"الوصف يجب أن يكون 10 أحرف على الأقل"),descriptionAr:Dt().min(10,"الوصف بالعربية يجب أن يكون 10 أحرف على الأقل"),location:Dt().min(3,"الموقع مطلوب"),locationAr:Dt().min(3,"الموقع بالعربية مطلوب"),mainCategoryId:Dt().min(1,"يجب اختيار القسم الرئيسي"),subCategoryId:Dt().optional(),customServiceName:Dt().optional(),customServiceNameAr:Dt().optional(),price:wa().min(0,"السعر يجب أن يكون 0 أو أكثر"),durationMinutes:wa().min(1,"المدة يجب أن تكون دقيقة واحدة على الأقل"),pricingType:kv(["per_hour","per_day","fixed"]).default("fixed"),imageUrl:Dt().optional()}),$B=()=>{const{user:s}=Ct(),{toast:t}=is(),[r,n]=x.useState(!1),[a,o]=x.useState(null),[c,d]=x.useState(""),{data:h=[]}=rr({queryKey:["service-categories"],queryFn:async()=>{const{data:v,error:y}=await L.from("service_categories").select("*").eq("is_active",!0).order("display_order");if(y)throw console.error("Error fetching service categories:",y),y;return v||[]}}),f=x.useMemo(()=>Array.isArray(h)?h.filter(v=>!v.parent_id):[],[h]),m=x.useMemo(()=>!Array.isArray(h)||!c?[]:h.filter(v=>v.parent_id===c),[h,c]),p=x.useMemo(()=>f.find(y=>y.id===c)?.name==="Other",[f,c]),j=Nf({resolver:_f(FB),defaultValues:{name:"",nameAr:"",description:"",descriptionAr:"",location:"",locationAr:"",mainCategoryId:"",subCategoryId:"",customServiceName:"",customServiceNameAr:"",price:0,durationMinutes:60,pricingType:"fixed",imageUrl:""}}),w=v=>{const y=v.target.files?.[0];if(y){const b=new FileReader;b.onload=_=>{const k=_.target?.result;o(k),j.setValue("imageUrl",k)},b.readAsDataURL(y)}},S=async v=>{if(!s){t({title:"خطأ",description:"يجب تسجيل الدخول أولاً",variant:"destructive"});return}if(p&&!v.customServiceName){t({title:"خطأ",description:"يرجى إدخال اسم الخدمة",variant:"destructive"});return}if(!p&&!v.subCategoryId){t({title:"خطأ",description:"يرجى اختيار القسم الفرعي",variant:"destructive"});return}n(!0);try{const{error:y}=await L.from("services").insert({name:p?v.customServiceName:v.name,name_ar:p?v.customServiceNameAr:v.nameAr,description:v.description,description_ar:v.descriptionAr,location:v.location,location_ar:v.locationAr,category_id:p?v.mainCategoryId:v.subCategoryId,price:v.price,duration_minutes:v.durationMinutes,image_url:v.imageUrl,provider_id:s.id,status:"pending"});if(y)throw y;t({title:"تم بنجاح!",description:"تم إنشاء الخدمة وإرسالها للمراجعة"}),j.reset(),o(null),d("")}catch(y){console.error("Error creating service:",y),t({title:"خطأ",description:"حدث خطأ أثناء إنشاء الخدمة",variant:"destructive"})}finally{n(!1)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"إنشاء خدمة جديدة"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"قدم خدماتك للمغامرين وكن جزءاً من مجتمع الأنشطة الخارجية"})]}),e.jsx(kf,{...j,children:e.jsxs("form",{onSubmit:j.handleSubmit(S),className:"space-y-8",children:[e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(yc,{className:"w-5 h-5"}),"المعلومات الأساسية"]})}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ut,{control:j.control,name:"name",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"اسم الخدمة (English)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"Service Name",...v})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:j.control,name:"nameAr",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"اسم الخدمة (العربية)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"اسم الخدمة",...v})}),e.jsx(ht,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ut,{control:j.control,name:"description",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"وصف الخدمة (English)"}),e.jsx(lt,{children:e.jsx(Er,{placeholder:"Service Description",className:"min-h-[120px]",...v})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:j.control,name:"descriptionAr",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"وصف الخدمة (العربية)"}),e.jsx(lt,{children:e.jsx(Er,{placeholder:"وصف مفصل للخدمة...",className:"min-h-[120px]",...v})}),e.jsx(ht,{})]})})]}),e.jsx(ut,{control:j.control,name:"mainCategoryId",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"القسم الرئيسي"}),e.jsxs(Yt,{onValueChange:y=>{v.onChange(y),d(y),j.setValue("subCategoryId","")},value:v.value,children:[e.jsx(lt,{children:e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر القسم الرئيسي"})})}),e.jsx(Vt,{children:f.map(y=>e.jsx(Oe,{value:y.id,children:y.name_ar},y.id))})]}),e.jsx(ht,{})]})}),c&&!p&&m.length>0&&e.jsx(ut,{control:j.control,name:"subCategoryId",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"القسم الفرعي"}),e.jsxs(Yt,{onValueChange:v.onChange,value:v.value,children:[e.jsx(lt,{children:e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر القسم الفرعي"})})}),e.jsx(Vt,{children:m.map(y=>e.jsx(Oe,{value:y.id,children:y.name_ar},y.id))})]}),e.jsx(ht,{})]})}),p&&e.jsxs(e.Fragment,{children:[e.jsx(ut,{control:j.control,name:"customServiceName",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"اسم الخدمة المخصص (English)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"Custom Service Name",...v})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:j.control,name:"customServiceNameAr",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"اسم الخدمة المخصص (العربية)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"اسم الخدمة المخصص",...v})}),e.jsx(ht,{})]})})]})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5"}),"الموقع"]})}),e.jsx(B,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ut,{control:j.control,name:"location",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"الموقع (English)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"Location",...v})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:j.control,name:"locationAr",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"الموقع (العربية)"}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"الرياض - حي النخيل",...v})}),e.jsx(ht,{})]})})]})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(sr,{className:"w-5 h-5"}),"التسعير والمدة"]})}),e.jsxs(B,{className:"space-y-6",children:[e.jsx(ut,{control:j.control,name:"pricingType",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"نوع التسعير"}),e.jsxs(Yt,{onValueChange:v.onChange,defaultValue:v.value,children:[e.jsx(lt,{children:e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر نوع التسعير"})})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"per_hour",children:"بالساعة"}),e.jsx(Oe,{value:"per_day",children:"باليوم"}),e.jsx(Oe,{value:"fixed",children:"سعر ثابت"})]})]}),e.jsx(ht,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ut,{control:j.control,name:"price",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"السعر (ريال)"}),e.jsx(lt,{children:e.jsx(Re,{type:"number",min:"0",placeholder:"0",...v,onChange:y=>v.onChange(Number(y.target.value))})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:j.control,name:"durationMinutes",render:({field:v})=>e.jsxs(it,{children:[e.jsx(ot,{children:"المدة (بالدقائق)"}),e.jsx(lt,{children:e.jsx(Re,{type:"number",min:"1",placeholder:"60",...v,onChange:y=>v.onChange(Number(y.target.value))})}),e.jsx(ht,{})]})})]})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(ig,{className:"w-5 h-5"}),"صورة الخدمة"]})}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed border-muted-foreground/25 rounded-lg cursor-pointer bg-muted/10 hover:bg-muted/20 transition-colors",children:[a?e.jsx("img",{src:a,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(PN,{className:"w-8 h-8 mb-4 text-muted-foreground"}),e.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-semibold",children:"انقر لتحديد صورة"})," أو اسحب وأفلت"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG أو JPEG (MAX. 5MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:w})]})})})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(A,{type:"submit",size:"lg",disabled:r,className:"flex-1",children:r?"جاري الإنشاء...":"إنشاء الخدمة"}),e.jsx(A,{type:"button",variant:"outline",size:"lg",onClick:()=>j.reset(),children:"إعادة تعيين"})]})]})})]})}),e.jsx(nt,{})]})},zB=({userId:s,userRole:t})=>{const[r,n]=x.useState(""),[a,o]=x.useState("all"),[c,d]=x.useState("all"),{data:h=[],isLoading:f}=rr({queryKey:["wallet_transactions",s],queryFn:x.useCallback(async()=>{if(!s)return[];const{data:k,error:E}=await L.from("wallet_transactions").select("*").eq("user_id",s).order("created_at",{ascending:!1});if(E)throw E;return k||[]},[s]),enabled:!!s}),m=de.useMemo(()=>{let k=h;return r&&(k=k.filter(E=>E.description.toLowerCase().includes(r.toLowerCase()))),a!=="all"&&(k=k.filter(E=>E.type===a)),c!=="all"&&(k=k.filter(E=>E.status===c)),k},[h,r,a,c]),p=k=>{switch(k){case"earning":case"refund":case"bonus":return e.jsx(oN,{className:"h-4 w-4 text-green-500"});case"payment":case"commission":return e.jsx(lN,{className:"h-4 w-4 text-red-500"});case"withdraw":return e.jsx(ml,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(Jn,{className:"h-4 w-4"})}},j=k=>{switch(k){case"completed":return e.jsx(ge,{variant:"default",className:"bg-green-500",children:"مكتمل"});case"pending":return e.jsx(ge,{variant:"secondary",children:"قيد المعالجة"});case"failed":return e.jsx(ge,{variant:"destructive",children:"فشل"});case"cancelled":return e.jsx(ge,{variant:"outline",children:"ملغي"});default:return e.jsx(ge,{variant:"outline",children:"غير معروف"})}},w=k=>{switch(k){case"earning":return"ربح";case"payment":return"دفع";case"withdraw":return"سحب";case"refund":return"استرداد";case"commission":return"عمولة";case"bonus":return"مكافأة";default:return k}},S=()=>{const k=m||[],E=k.filter(R=>["earning","refund","bonus"].includes(R.type)&&R.status==="completed").reduce((R,D)=>R+Math.abs(D.amount),0),P=k.filter(R=>["payment","withdraw","commission"].includes(R.type)&&R.status==="completed").reduce((R,D)=>R+Math.abs(D.amount),0);return{totalIncome:E,totalExpenses:P}},{totalIncome:v,totalExpenses:y}=S(),b=k=>new Intl.DateTimeFormat("ar-SA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(k)),_=()=>{if(!m||m.length===0)return;const E=[["التاريخ","الوصف","النوع","الحالة","المبلغ"].join(",")];m.forEach(V=>{const te=[b(V.created_at),`"${V.description}"`,w(V.type),V.status==="completed"?"مكتمل":V.status==="pending"?"قيد المعالجة":"فشل",V.amount];E.push(te.join(","))});const P=E.join(`
`),R=new Blob(["\uFEFF"+P],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),U=URL.createObjectURL(R);D.setAttribute("href",U),D.setAttribute("download",`transactions_${new Date().toISOString().split("T")[0]}.csv`),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D)};return f?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((k,E)=>e.jsx("div",{className:"h-32 bg-muted animate-pulse rounded-lg"},E))}),e.jsx("div",{className:"h-64 bg-muted animate-pulse rounded-lg"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الدخل"}),e.jsx(Ur,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(B,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+",v.toLocaleString()," ريال"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"العمليات المكتملة فقط"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي المصروفات"}),e.jsx(EN,{className:"h-4 w-4 text-red-500"})]}),e.jsxs(B,{children:[e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["-",y.toLocaleString()," ريال"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"شامل العمولات والسحوبات"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"الصافي"}),e.jsx(Jn,{className:"h-4 w-4 text-primary"})]}),e.jsxs(B,{children:[e.jsxs("div",{className:`text-2xl font-bold ${v-y>=0?"text-green-600":"text-red-600"}`,children:[v-y>=0?"+":"-",Math.abs(v-y).toLocaleString()," ريال"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"الفترة المحددة"})]})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(J,{children:"تاريخ المعاملات"}),e.jsxs(A,{variant:"outline",size:"sm",onClick:_,children:[e.jsx(di,{className:"h-4 w-4 mr-2"}),"تصدير"]})]})}),e.jsxs(B,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(an,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Re,{placeholder:"البحث في المعاملات...",value:r,onChange:k=>n(k.target.value),className:"pl-10"})]})}),e.jsxs(Yt,{value:a,onValueChange:o,children:[e.jsx(qt,{className:"w-48",children:e.jsx(Qt,{placeholder:"نوع المعاملة"})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"all",children:"جميع الأنواع"}),e.jsx(Oe,{value:"earning",children:"ربح"}),e.jsx(Oe,{value:"payment",children:"دفع"}),e.jsx(Oe,{value:"withdraw",children:"سحب"}),e.jsx(Oe,{value:"refund",children:"استرداد"}),e.jsx(Oe,{value:"commission",children:"عمولة"}),e.jsx(Oe,{value:"bonus",children:"مكافأة"})]})]}),e.jsxs(Yt,{value:c,onValueChange:d,children:[e.jsx(qt,{className:"w-48",children:e.jsx(Qt,{placeholder:"الحالة"})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"all",children:"جميع الحالات"}),e.jsx(Oe,{value:"completed",children:"مكتمل"}),e.jsx(Oe,{value:"pending",children:"قيد المعالجة"}),e.jsx(Oe,{value:"failed",children:"فشل"}),e.jsx(Oe,{value:"cancelled",children:"ملغي"})]})]})]}),e.jsx("div",{className:"space-y-3",children:m.length===0?e.jsx(uf,{icon:Jn,title:"لا توجد معاملات",description:h.length===0?"لم تتم أي معاملات مالية بعد":"لا توجد معاملات مطابقة للفلتر المحدد"}):m.map(k=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[p(k.type),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"font-medium",children:k.description}),e.jsx(ge,{variant:"outline",className:"text-xs",children:w(k.type)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(kt,{className:"h-3 w-3"}),b(k.created_at),k.reference_id&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:["مرجع: ",k.reference_id]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[j(k.status),e.jsxs("span",{className:`font-bold text-lg ${k.amount>=0?"text-green-600":"text-red-600"}`,children:[k.amount>=0?"+":"",k.amount.toLocaleString()," ريال"]})]})]},k.id))})]})]})]})},Wr=Ug,so=Bg,UB=qg,YC=x.forwardRef(({className:s,...t},r)=>e.jsx(nd,{ref:r,className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));YC.displayName=nd.displayName;const Pr=x.forwardRef(({className:s,children:t,...r},n)=>e.jsxs(UB,{children:[e.jsx(YC,{}),e.jsxs(ad,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r,children:[t,e.jsxs(sf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(lg,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pr.displayName=ad.displayName;const Tr=({className:s,...t})=>e.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});Tr.displayName="DialogHeader";const Tf=({className:s,...t})=>e.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});Tf.displayName="DialogFooter";const Rr=x.forwardRef(({className:s,...t},r)=>e.jsx(id,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",s),...t}));Rr.displayName=id.displayName;const Sa=x.forwardRef(({className:s,...t},r)=>e.jsx(od,{ref:r,className:be("text-sm text-muted-foreground",s),...t}));Sa.displayName=od.displayName;const BB=()=>{const{user:s,userRole:t}=Ct(),{toast:r}=is(),[n,a]=x.useState(""),[o,c]=x.useState(""),[d,h]=x.useState(""),[f,m]=x.useState(!1),{data:p,isLoading:j}=rr({queryKey:["wallet",s?.id],queryFn:x.useCallback(async()=>{if(!s?.id)return null;const{data:E,error:P}=await L.from("user_wallets").select("*").eq("user_id",s.id).single();if(P&&P.code!=="PGRST116")throw P;return E},[s?.id]),enabled:!!s?.id}),w=[{id:"rajhi",name:"مصرف الراجحي"},{id:"ncb",name:"البنك الأهلي التجاري"},{id:"riyad",name:"بنك الرياض"},{id:"samba",name:"بنك سامبا"},{id:"arab",name:"البنك العربي الوطني"}],S=async()=>{if(!n||!o||!d){r({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"});return}const E=parseFloat(n),P=(p?.balance||0)-50;if(E<100){r({title:"خطأ",description:"الحد الأدنى للسحب هو 100 ريال",variant:"destructive"});return}if(E>P){r({title:"خطأ",description:"المبلغ أكبر من الرصيد المتاح",variant:"destructive"});return}m(!0);try{const{error:R}=await L.from("wallet_transactions").insert({user_id:s.id,type:"withdraw",amount:-E,description:`سحب إلى ${w.find(D=>D.id===o)?.name} - ${d}`,status:"pending"});if(R)throw R;r({title:"تم بنجاح!",description:`تم طلب سحب ${E} ريال. ستتم المعالجة خلال 1-3 أيام عمل.`}),a(""),c(""),h("")}catch(R){console.error("Error creating withdrawal request:",R),r({title:"خطأ",description:"حدث خطأ في طلب السحب",variant:"destructive"})}finally{m(!1)}},v=()=>{r({title:"تم التصدير",description:"تم تحميل ملف Excel بالعمليات المالية"})};if(j)return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-8 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((E,P)=>e.jsx("div",{className:"h-32 bg-muted animate-pulse rounded-lg"},P))})]})}),e.jsx(nt,{})]});const y=p?.balance||0,b=p?.total_earned||0,_=p?.total_withdrawn||0,k=Math.max(0,y-50);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"المحفظة الرقمية"}),e.jsx("p",{className:"text-muted-foreground",children:"إدارة أموالك ومتابعة العمليات المالية"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(A,{variant:"outline",onClick:v,className:"gap-2",children:[e.jsx(di,{className:"h-4 w-4"}),"تصدير العمليات"]}),(t==="organizer"||t==="provider")&&e.jsxs(Wr,{children:[e.jsx(so,{asChild:!0,children:e.jsxs(A,{className:"gap-2",disabled:k<100,children:[e.jsx(ml,{className:"h-4 w-4"}),"سحب الأموال"]})}),e.jsxs(Pr,{className:"sm:max-w-md",children:[e.jsxs(Tr,{children:[e.jsx(Rr,{children:"سحب الأموال"}),e.jsx(Sa,{children:"اسحب أموالك إلى حسابك البنكي"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"amount",children:"المبلغ (ريال)"}),e.jsx(Re,{id:"amount",type:"number",min:"100",max:k,placeholder:"أدخل المبلغ",value:n,onChange:E=>a(E.target.value)}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["المتاح للسحب: ",k," ريال"]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"bank",children:"البنك"}),e.jsxs(Yt,{value:o,onValueChange:c,children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر البنك"})}),e.jsx(Vt,{children:w.map(E=>e.jsx(Oe,{value:E.id,children:E.name},E.id))})]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"account",children:"رقم الحساب"}),e.jsx(Re,{id:"account",placeholder:"أدخل رقم الحساب البنكي",value:d,onChange:E=>h(E.target.value)})]}),e.jsxs(Os,{children:[e.jsx(li,{className:"h-4 w-4"}),e.jsx(Is,{children:"مدة المعالجة: 1-3 أيام عمل. رسوم السحب: 5 ريال"})]}),e.jsx(A,{onClick:S,disabled:f,className:"w-full",children:f?"جاري المعالجة...":"تأكيد السحب"})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs($,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"الرصيد الحالي"}),e.jsx(Jn,{className:"h-4 w-4 text-primary"})]}),e.jsxs(B,{children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[y.toLocaleString()," ريال"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"إجمالي الرصيد"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"المتاح للسحب"}),e.jsx(oN,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(B,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[k.toLocaleString()," ريال"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"يمكن سحبه الآن"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الأرباح"}),e.jsx(Ur,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(B,{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[b.toLocaleString()," ريال"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"منذ البداية"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي السحوبات"}),e.jsx(lN,{className:"h-4 w-4 text-orange-600"})]}),e.jsxs(B,{children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[_.toLocaleString()," ريال"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"تم سحبها"})]})]})]}),(t==="organizer"||t==="provider")&&e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Cr,{className:"h-5 w-5"}),"إجراءات سريعة"]}),e.jsx(Je,{children:"العمليات المالية المتاحة لحسابك"})]}),e.jsx(B,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(Wr,{children:[e.jsx(so,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx($P,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"تحويل فوري"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"سحب لحسابك البنكي"})]})]})}),e.jsxs(Pr,{className:"sm:max-w-md",children:[e.jsxs(Tr,{children:[e.jsx(Rr,{children:"تحويل فوري"}),e.jsx(Sa,{children:"اسحب أموالك بشكل فوري إلى حسابك البنكي"})]}),e.jsx("p",{className:"text-sm",children:"سيتم تحويل الأموال خلال ساعات قليلة مع رسوم 10 ريال للتحويل الفوري."})]})]}),e.jsxs("button",{onClick:v,className:"flex items-center gap-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(BP,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"font-semibold",children:"كشف حساب"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"تحميل كشف شهري"})]})]}),e.jsxs(Fe,{to:`/${t}-dashboard`,className:"flex items-center gap-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Ur,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"تقرير الأرباح"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"تحليل مفصل للأرباح"})]})]})]})})]}),e.jsx(zB,{userId:s?.id,userRole:t}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"معلومات السحب"})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{children:"يتم خصم العمولة 10% تلقائياً من كل عملية دفع"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{children:"يمكنك سحب الأموال إلى حسابك البنكي في أي وقت"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{children:"مدة معالجة السحب: 1-3 أيام عمل"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{children:"الحد الأدنى للسحب: 100 ريال"})]})]})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"نصائح مالية"})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"راقب أرباحك الشهرية لتحسين الأداء"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"اسحب أموالك بانتظام لتجنب التراكم"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"احتفظ بسجل لجميع معاملاتك المالية"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"استخدم التقارير لتحليل مصادر دخلك"})]})]})})]})]})]})}),e.jsx(nt,{})]})};var Ov="Progress",Iv=100,[qB]=Vs(Ov),[VB,WB]=qB(Ov),QC=x.forwardRef((s,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:o=HB,...c}=s;(a||a===0)&&!Jb(a)&&console.error(GB(`${a}`,"Progress"));const d=Jb(a)?a:Iv;n!==null&&!eN(n,d)&&console.error(KB(`${n}`,"Progress"));const h=eN(n,d)?n:null,f=Eh(h)?o(h,d):void 0;return e.jsx(VB,{scope:r,value:h,max:d,children:e.jsx(Be.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Eh(h)?h:void 0,"aria-valuetext":f,role:"progressbar","data-state":JC(h,d),"data-value":h??void 0,"data-max":d,...c,ref:t})})});QC.displayName=Ov;var ZC="ProgressIndicator",XC=x.forwardRef((s,t)=>{const{__scopeProgress:r,...n}=s,a=WB(ZC,r);return e.jsx(Be.div,{"data-state":JC(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});XC.displayName=ZC;function HB(s,t){return`${Math.round(s/t*100)}%`}function JC(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function Eh(s){return typeof s=="number"}function Jb(s){return Eh(s)&&!isNaN(s)&&s>0}function eN(s,t){return Eh(s)&&!isNaN(s)&&s<=t&&s>=0}function GB(s,t){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Iv}\`.`}function KB(s,t){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Iv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var eE=QC,YB=XC;const Lv=x.forwardRef(({className:s,value:t,...r},n)=>e.jsx(eE,{ref:n,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...r,children:e.jsx(YB,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Lv.displayName=eE.displayName;const QB=()=>{const{user:s,profile:t}=Ct(),{toast:r}=is(),{data:n=[],isLoading:a}=rr({queryKey:["loyalty_points",s?.id],queryFn:x.useCallback(async()=>{if(!s?.id)return[];const{data:m,error:p}=await L.from("loyalty_ledger").select("*").eq("user_id",s.id).order("created_at",{ascending:!1});if(p)throw p;return m||[]},[s?.id]),enabled:!!s?.id}),o=(n||[]).reduce((m,p)=>p.points>0?m+p.points:m,0),c=100,d=Math.min(o/c*100,100),h=[{id:1,title:"خصم 10 ريال",points:20,description:"خصم على أي فعالية"},{id:2,title:"خصم 25 ريال",points:50,description:"خصم على أي فعالية"},{id:3,title:"خصم 50 ريال",points:100,description:"خصم على أي فعالية"},{id:4,title:"خصم 100 ريال",points:200,description:"خصم على أي فعالية"}],f=async(m,p)=>{if(s?.id){if(o<m){r({title:"نقاط غير كافية",description:`تحتاج ${m-o} نقطة إضافية`,variant:"destructive"});return}try{const{error:j}=await L.from("loyalty_ledger").insert({user_id:s.id,points:-m,type:"redemption",description:`استبدال نقاط: ${p}`,reference_type:"reward"});if(j)throw j;r({title:"تم الاستبدال بنجاح!",description:`تم استبدال ${m} نقطة مقابل ${p}`})}catch(j){console.error("Error redeeming points:",j),r({title:"خطأ",description:"حدث خطأ أثناء استبدال النقاط",variant:"destructive"})}}};return a?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-8 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:[...Array(2)].map((m,p)=>e.jsx("div",{className:"h-48 bg-muted animate-pulse rounded-lg"},p))})]})}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"النقاط والمكافآت"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{className:"text-2xl font-bold text-primary",children:o}),e.jsx("span",{className:"text-muted-foreground",children:"نقطة"})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(sg,{className:"h-5 w-5"}),"نقاطك الحالية"]}),e.jsx(Je,{children:"اربح نقاط مع كل حجز واستبدلها بخصومات"})]}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:o}),e.jsx("p",{className:"text-muted-foreground",children:"نقطة متاحة"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"التقدم نحو المكافأة التالية"}),e.jsxs("span",{children:[o,"/",c]})]}),e.jsx(Lv,{value:d,className:"h-2"}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:o>=c?"مبروك! وصلت للمكافأة التالية":`تحتاج ${c-o} نقطة أخرى للمكافأة التالية`})]})]})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(cg,{className:"h-5 w-5"}),"كيفية كسب النقاط"]})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"كل 15 ريال إنفاق"}),e.jsx(ge,{variant:"secondary",children:"1 نقطة"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"تقييم الفعالية"}),e.jsx(ge,{variant:"secondary",children:"5 نقاط"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"دعوة صديق"}),e.jsx(ge,{variant:"secondary",children:"25 نقطة"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"إكمال الملف الشخصي"}),e.jsx(ge,{variant:"secondary",children:"15 نقطة"})]})]})})]})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Pc,{className:"h-5 w-5"}),"المكافآت المتاحة"]}),e.jsx(Je,{children:"استبدل نقاطك بخصومات على الفعاليات"})]}),e.jsx(B,{children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:h.map(m=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold",children:m.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:m.description})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-lg font-bold text-primary",children:[m.points," نقطة"]})}),e.jsx(A,{className:"w-full",disabled:o<m.points,variant:o>=m.points?"default":"secondary",onClick:()=>f(m.points,m.title),children:o>=m.points?"استبدال":`تحتاج ${m.points-o} نقطة`})]},m.id))})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ur,{className:"h-5 w-5"}),"سجل النقاط"]}),e.jsx(Je,{children:"آخر العمليات على نقاطك"})]}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:n.length===0?e.jsx(uf,{icon:Kt,title:"لا توجد عمليات نقاط",description:"ستظهر هنا عمليات كسب واستبدال النقاط"}):n.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[m.points>0?e.jsx(Kt,{className:"h-4 w-4 text-yellow-500"}):e.jsx(Pc,{className:"h-4 w-4 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:m.description}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(m.created_at).toLocaleDateString("ar-SA")}),m.expires_at&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["ينتهي: ",new Date(m.expires_at).toLocaleDateString("ar-SA")]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:`font-bold ${m.points>0?"text-green-600":"text-red-600"}`,children:[m.points>0?"+":"",m.points," نقطة"]})})]},m.id))})})]})]})}),e.jsx(nt,{})]})},ZB=()=>{const{user:s}=Ct(),[t,r]=x.useState("upcoming"),[n,a]=x.useState([]),[o,c]=x.useState([]),[d,h]=x.useState(!0);x.useEffect(()=>{(async()=>{if(s)try{h(!0);const{data:j,error:w}=await L.from("bookings").select(`
            *,
            events (
              id,
              title_ar,
              title,
              location_ar,
              location,
              start_date,
              price,
              max_attendees,
              current_attendees,
              image_url,
              organizer_id
            )
          `).eq("user_id",s.id).order("created_at",{ascending:!1});if(w)throw w;const S=new Date,v=j?.filter(b=>new Date(b.events.start_date)>S&&b.status==="confirmed").map(b=>({id:b.id,title:b.events.title_ar||b.events.title,date:new Date(b.events.start_date).toLocaleDateString("ar-SA"),time:new Date(b.events.start_date).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"}),location:b.events.location_ar||b.events.location,image:b.events.image_url||"/placeholder.svg",attendees:b.events.current_attendees||0,maxAttendees:b.events.max_attendees,price:b.events.price,status:"confirmed",eventId:b.events.id,organizerId:b.events.organizer_id}))||[],y=j?.filter(b=>new Date(b.events.start_date)<=S).map(b=>({id:b.id,title:b.events.title_ar||b.events.title,date:new Date(b.events.start_date).toLocaleDateString("ar-SA"),time:new Date(b.events.start_date).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"}),location:b.events.location_ar||b.events.location,image:b.events.image_url||"/placeholder.svg",attendees:b.events.current_attendees||0,maxAttendees:b.events.max_attendees,price:b.events.price,status:"completed",eventId:b.events.id,organizerId:b.events.organizer_id,rating:0,reviewed:!1}))||[];a(v),c(y)}catch(j){console.error("Error fetching events:",j)}finally{h(!1)}})()},[s]);const f=p=>{switch(p){case"confirmed":return e.jsx(ge,{variant:"default",children:"مؤكد"});case"completed":return e.jsx(ge,{variant:"secondary",children:"مكتمل"});case"cancelled":return e.jsx(ge,{variant:"destructive",children:"ملغي"});default:return e.jsx(ge,{variant:"outline",children:"غير معروف"})}},m=({event:p,showActions:j=!0})=>e.jsx($,{className:"overflow-hidden",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:p.image,alt:p.title,className:"w-full h-48 md:h-full object-cover"})}),e.jsxs("div",{className:"md:w-2/3 p-6",children:[e.jsx(Z,{className:"p-0 mb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(J,{className:"text-xl mb-2",children:p.title}),f(p.status)]})}),e.jsxs(B,{className:"p-0 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(kt,{className:"h-4 w-4"}),e.jsxs("span",{children:[p.date," - ",p.time]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{children:p.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsxs("span",{children:[p.attendees,"/",p.maxAttendees," مشارك"]})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsxs("span",{className:"font-semibold text-primary",children:[p.price," ريال"]})}),p.rating&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Kt,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("span",{children:[p.rating,"/5"]}),p.reviewed&&e.jsx(ge,{variant:"outline",className:"text-xs",children:"تم التقييم"})]}),j&&e.jsx("div",{className:"flex gap-2 pt-4",children:p.status==="confirmed"?e.jsxs(e.Fragment,{children:[e.jsxs(A,{size:"sm",variant:"outline",className:"gap-2",children:[e.jsx(di,{className:"h-4 w-4"}),"تحميل التذكرة"]}),e.jsxs(A,{size:"sm",variant:"outline",className:"gap-2",children:[e.jsx(Cn,{className:"h-4 w-4"}),"مجموعة الحدث"]}),e.jsx(A,{size:"sm",variant:"destructive",children:"إلغاء الحجز"})]}):p.status==="completed"&&!p.reviewed&&e.jsxs(A,{size:"sm",className:"gap-2",children:[e.jsx(Kt,{className:"h-4 w-4"}),"قيّم الفعالية"]})})]})]})]})});return d?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8 flex-1",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"فعالياتي"}),e.jsx("p",{className:"text-muted-foreground",children:"إدارة الفعاليات التي سجلت فيها"})]}),e.jsxs(Hr,{value:t,onValueChange:r,children:[e.jsxs(Dr,{className:"grid w-full grid-cols-3",children:[e.jsxs(rt,{value:"upcoming",children:["القادمة (",n.length,")"]}),e.jsxs(rt,{value:"completed",children:["المكتملة (",o.length,")"]}),e.jsx(rt,{value:"cancelled",children:"الملغية (0)"})]}),e.jsx(jt,{value:"upcoming",className:"space-y-6",children:n.length>0?e.jsx("div",{className:"space-y-4",children:n.map(p=>e.jsx(m,{event:p},p.id))}):e.jsx($,{children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(kt,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد فعاليات قادمة"}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"لم تسجل في أي فعالية قادمة بعد"}),e.jsx(A,{asChild:!0,children:e.jsx("a",{href:"/explore",children:"استكشف الفعاليات"})})]})})}),e.jsx(jt,{value:"completed",className:"space-y-6",children:o.length>0?e.jsx("div",{className:"space-y-4",children:o.map(p=>e.jsx(m,{event:p},p.id))}):e.jsx($,{children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(nr,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد فعاليات مكتملة"}),e.jsx("p",{className:"text-muted-foreground text-center",children:"لم تكمل أي فعالية بعد"})]})})}),e.jsx(jt,{value:"cancelled",className:"space-y-6",children:e.jsx($,{children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(kt,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد فعاليات ملغية"}),e.jsx("p",{className:"text-muted-foreground text-center",children:"لم تلغ أي فعالية"})]})})})]})]})}),e.jsx(nt,{})]})},XB=()=>{const[s,t]=x.useState("active"),[r,n]=x.useState(""),[a,o]=x.useState([]),[c,d]=x.useState({totalEvents:0,activeEvents:0,totalRevenue:0,averageRating:0,totalAttendees:0}),[h,f]=x.useState(!0),{user:m}=Ct();x.useEffect(()=>{m&&(p(),j())},[m]),x.useEffect(()=>{const b=()=>{m&&(p(),j())};return window.addEventListener("focus",b),()=>window.removeEventListener("focus",b)},[m]);const p=async()=>{try{const{data:b,error:_}=await oo.getByOrganizer(m?.id||"");if(_)throw _;const k=await Promise.all((b||[]).map(async E=>{const{data:P}=await L.from("rating_summaries").select("average_rating, total_reviews").eq("entity_id",E.id).eq("entity_type","event").maybeSingle();return{...E,revenue:E.bookings?.filter(R=>R.status==="confirmed")?.reduce((R,D)=>R+Number(D.total_amount),0)||0,rating:P?.average_rating||0}}));o(k)}catch(b){console.error("Error fetching events:",b),Me.error("خطأ في تحميل الفعاليات")}finally{f(!1)}},j=async()=>{try{const{count:b}=await L.from("events").select("*",{count:"exact",head:!0}).eq("organizer_id",m?.id),{count:_}=await L.from("events").select("*",{count:"exact",head:!0}).eq("organizer_id",m?.id).eq("status","active"),{data:k}=await L.from("bookings").select("total_amount, events!inner(organizer_id)").eq("events.organizer_id",m?.id).eq("status","confirmed"),E=k?.reduce((te,oe)=>te+Number(oe.total_amount),0)||0,{data:P}=await L.from("bookings").select("quantity, events!inner(organizer_id)").eq("events.organizer_id",m?.id).eq("status","confirmed"),R=P?.reduce((te,oe)=>te+oe.quantity,0)||0,{data:D}=await L.from("events").select("id").eq("organizer_id",m?.id),U=D?.map(te=>te.id)||[];let V=0;if(U.length>0){const{data:te}=await L.from("rating_summaries").select("average_rating, total_reviews").in("entity_id",U).eq("entity_type","event");V=te?.length>0?te.reduce((oe,K)=>oe+Number(K.average_rating||0),0)/te.length:0}d({totalEvents:b||0,activeEvents:_||0,totalRevenue:E,averageRating:Number(V.toFixed(1)),totalAttendees:R})}catch(b){console.error("Error fetching stats:",b)}},w=b=>{switch(b){case"active":return e.jsx(ge,{variant:"default",children:"نشط"});case"completed":return e.jsx(ge,{variant:"secondary",children:"مكتمل"});case"draft":return e.jsx(ge,{variant:"outline",children:"مسودة"});case"cancelled":return e.jsx(ge,{variant:"destructive",children:"ملغي"});default:return e.jsx(ge,{variant:"outline",children:"غير معروف"})}},S=({event:b})=>e.jsx($,{className:"overflow-hidden",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:w-1/4",children:e.jsx("img",{src:b.image_url||"/placeholder.svg",alt:b.title||b.title_ar,className:"w-full h-48 md:h-full object-cover"})}),e.jsxs("div",{className:"md:w-3/4 p-6",children:[e.jsx(Z,{className:"p-0 mb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(J,{className:"text-xl mb-2",children:b.title_ar||b.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(kt,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(b.start_date).toLocaleDateString("ar-SA")})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{children:b.location_ar||b.location})]})]})]}),w(b.status)]})}),e.jsxs(B,{className:"p-0",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:b.current_attendees||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"مشارك"})]}),e.jsxs("div",{className:"text-center p-3 bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",children:b.max_attendees||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"الحد الأقصى"})]}),e.jsxs("div",{className:"text-center p-3 bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.revenue?.toLocaleString()||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"الإيرادات"})]}),e.jsxs("div",{className:"text-center p-3 bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",children:b.price||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"السعر"})]})]}),b.rating>0&&e.jsx("div",{className:"mb-4 text-sm",children:e.jsxs(ge,{variant:"outline",children:["تقييم: ",b.rating,"/5 ⭐"]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(A,{size:"sm",variant:"outline",asChild:!0,className:"gap-2",children:e.jsxs(Fe,{to:`/event/${b.id}`,children:[e.jsx(Sr,{className:"h-4 w-4"}),"عرض"]})}),b.status!=="completed"&&new Date(b.start_date)>new Date&&e.jsxs(e.Fragment,{children:[e.jsx(A,{size:"sm",variant:"outline",asChild:!0,className:"gap-2",children:e.jsxs(Fe,{to:`/edit-event/${b.id}`,children:[e.jsx(el,{className:"h-4 w-4"}),"تعديل"]})}),e.jsx(A,{size:"sm",variant:"outline",asChild:!0,className:"gap-2",children:e.jsxs(Fe,{to:`/event/${b.id}/participants`,children:[e.jsx(_t,{className:"h-4 w-4"}),"المشاركين"]})}),e.jsx(A,{size:"sm",variant:"outline",asChild:!0,className:"gap-2",children:e.jsxs(Fe,{to:`/qr-scanner?mode=generate&event=${b.id}`,children:[e.jsx(Tc,{className:"h-4 w-4"}),"QR Code"]})}),e.jsx(A,{size:"sm",variant:"outline",asChild:!0,className:"gap-2",children:e.jsxs(Fe,{to:`/groups?event=${b.id}`,children:[e.jsx(Cn,{className:"h-4 w-4"}),"مجموعة الحدث"]})})]}),b.status==="active"&&new Date(b.start_date)>new Date&&e.jsxs(A,{size:"sm",variant:"destructive",className:"gap-2",onClick:()=>{window.confirm("هل أنت متأكد من إلغاء هذه الفعالية؟")&&Me.error("وظيفة إلغاء الفعالية قيد التطوير")},children:[e.jsx(sn,{className:"h-4 w-4"}),"إلغاء"]})]})]})]})]})}),v=b=>{const _=new Date;switch(b){case"active":return a.filter(k=>k.status==="active"||k.status==="approved"&&new Date(k.end_date)>_);case"completed":return a.filter(k=>k.status==="completed"||k.status==="active"&&new Date(k.end_date)<_);case"draft":return a.filter(k=>k.status==="pending"||k.status==="draft");case"cancelled":return a.filter(k=>k.status==="cancelled");default:return[]}},y=v(s).filter(b=>(b.title_ar||b.title||"").toLowerCase().includes(r.toLowerCase())||(b.location_ar||b.location||"").toLowerCase().includes(r.toLowerCase()));return h?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل الفعاليات..."})]})})}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"إدارة الفعاليات"}),e.jsx("p",{className:"text-muted-foreground",children:"إدارة وتتبع جميع فعالياتك"})]}),e.jsx(A,{asChild:!0,className:"gap-2",children:e.jsxs(Fe,{to:"/create-event",children:[e.jsx(Cr,{className:"h-4 w-4"}),"إنشاء فعالية جديدة"]})})]}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(an,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Re,{placeholder:"البحث في الفعاليات...",value:r,onChange:b=>n(b.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الفعاليات"}),e.jsx(kt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c.totalEvents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"جميع الفعاليات"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"الفعاليات النشطة"}),e.jsx(_t,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c.activeEvents}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.totalAttendees," مشارك مجموع"]})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الإيرادات"}),e.jsx("div",{className:"text-green-600",children:"ريال"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c.totalRevenue.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ريال سعودي"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"متوسط التقييم"}),e.jsx("div",{className:"text-yellow-500",children:"⭐"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c.averageRating}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"من 5 نجوم"})]})]})]}),e.jsxs(Hr,{value:s,onValueChange:t,children:[e.jsxs(Dr,{className:"grid w-full grid-cols-4",children:[e.jsxs(rt,{value:"active",children:["النشطة (",v("active").length,")"]}),e.jsxs(rt,{value:"completed",children:["المكتملة (",v("completed").length,")"]}),e.jsxs(rt,{value:"draft",children:["المسودات (",v("draft").length,")"]}),e.jsxs(rt,{value:"cancelled",children:["الملغية (",v("cancelled").length,")"]})]}),e.jsx(jt,{value:s,className:"space-y-6",children:y.length>0?e.jsx("div",{className:"space-y-4",children:y.map(b=>e.jsx(S,{event:b},b.id))}):e.jsx($,{children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(kt,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:r?"لا توجد نتائج":`لا توجد فعاليات ${s==="active"?"نشطة":s==="completed"?"مكتملة":"مسودات"}`}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:r?"جرب البحث بكلمات أخرى":"ابدأ بإنشاء أول فعالية لك"}),!r&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s==="draft"?"الفعاليات المنشأة حديثاً تظهر هنا بانتظار المراجعة":""}),e.jsx(A,{asChild:!0,children:e.jsx(Fe,{to:"/create-event",children:"إنشاء فعالية جديدة"})})]})]})})})]})]})}),e.jsx(nt,{})]})},JB=()=>{const{user:s}=Ct(),{toast:t}=is(),[r,n]=x.useState("active"),[a,o]=x.useState(""),[c,d]=x.useState([]),[h,f]=x.useState({totalServices:0,totalRequests:0,totalRevenue:0,averageRating:0,servicesByStatus:{active:0,pending:0,draft:0,rejected:0}}),[m,p]=x.useState(!0);x.useEffect(()=>{s&&(j(),w())},[s]);const j=async()=>{if(s)try{const{data:k,error:E}=await ph.getByProvider(s.id);if(E)throw E;d(k||[])}catch(k){console.error("Error fetching services:",k),t({title:"خطأ",description:"حدث خطأ في جلب البيانات",variant:"destructive"})}finally{p(!1)}},w=async()=>{if(s)try{const{services:k,requests:E}=await ph.getProviderStats(s.id);if(k.error)throw k.error;if(E.error)throw E.error;const P=k.data||[],R=E.data||[],D={active:P.filter(V=>V.status==="approved").length,pending:P.filter(V=>V.status==="pending").length,draft:P.filter(V=>V.status==="draft").length,rejected:P.filter(V=>V.status==="rejected").length},U=R.filter(V=>V.status==="accepted"&&V.negotiated_price).reduce((V,te)=>V+(te.negotiated_price||0),0);f({totalServices:P.length,totalRequests:R.length,totalRevenue:U,averageRating:0,servicesByStatus:D})}catch(k){console.error("Error fetching stats:",k)}},S=k=>{switch(k){case"approved":return e.jsx(ge,{variant:"default",children:"نشط"});case"pending":return e.jsx(ge,{variant:"secondary",children:"قيد المراجعة"});case"draft":return e.jsx(ge,{variant:"outline",children:"مسودة"});case"rejected":return e.jsx(ge,{variant:"destructive",children:"مرفوض"});default:return e.jsx(ge,{variant:"outline",children:"غير معروف"})}},v=({service:k})=>e.jsx($,{className:"overflow-hidden",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:w-1/4",children:e.jsx("img",{src:k.image_url||"/placeholder.svg",alt:k.name,className:"w-full h-48 md:h-full object-cover"})}),e.jsxs("div",{className:"md:w-3/4 p-6",children:[e.jsx(Z,{className:"p-0 mb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(J,{className:"text-xl mb-2",children:k.name_ar||k.name}),e.jsx(Je,{className:"mb-2",children:k.description_ar||k.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{children:k.location_ar||k.location})]}),e.jsx(ge,{variant:"outline",children:"خدمة"})]})]}),S(k.status)]})}),e.jsxs(B,{className:"p-0",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"طلب"})]}),e.jsxs("div",{className:"text-center p-3 bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"الإيرادات"})]}),e.jsxs("div",{className:"text-center p-3 bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",children:k.price}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"ريال"})]}),e.jsxs("div",{className:"text-center p-3 bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",children:k.duration_minutes||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"دقيقة"})]})]}),!1,e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(A,{size:"sm",variant:"outline",asChild:!0,className:"gap-2",children:e.jsxs(Fe,{to:`/service-details/${k.id}`,children:[e.jsx(Sr,{className:"h-4 w-4"}),"عرض"]})}),k.status!=="rejected"&&e.jsxs(e.Fragment,{children:[e.jsx(A,{size:"sm",variant:"outline",asChild:!0,className:"gap-2",disabled:k.status==="approved",children:e.jsxs(Fe,{to:`/create-service?edit=${k.id}`,children:[e.jsx(el,{className:"h-4 w-4"}),"تعديل"]})}),k.status==="approved"&&e.jsx(A,{size:"sm",variant:"outline",asChild:!0,className:"gap-2",children:e.jsxs(Fe,{to:`/service-requests?service=${k.id}`,children:[e.jsx(Cn,{className:"h-4 w-4"}),"الطلبات (",0,")"]})})]})]})]})]})]})}),_=(k=>{switch(k){case"active":return c.filter(E=>E.status==="approved");case"pending":return c.filter(E=>E.status==="pending");case"draft":return c.filter(E=>E.status==="draft");case"rejected":return c.filter(E=>E.status==="rejected");default:return[]}})(r).filter(k=>(k.name_ar||k.name).toLowerCase().includes(a.toLowerCase())||(k.location_ar||k.location||"").toLowerCase().includes(a.toLowerCase())||k.name.toLowerCase().includes(a.toLowerCase()));return m?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"text-center",children:"جاري التحميل..."})}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"إدارة الخدمات"}),e.jsx("p",{className:"text-muted-foreground",children:"إدارة وتتبع جميع خدماتك"})]}),e.jsx(A,{asChild:!0,className:"gap-2",children:e.jsxs(Fe,{to:"/create-service",children:[e.jsx(Cr,{className:"h-4 w-4"}),"إضافة خدمة جديدة"]})})]}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(an,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Re,{placeholder:"البحث في الخدمات...",value:a,onChange:k=>o(k.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الخدمات"}),e.jsx("div",{className:"text-primary",children:"📋"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.totalServices}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"خدمة مسجلة"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الطلبات"}),e.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.totalRequests}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"طلب خدمة"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الإيرادات"}),e.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.totalRevenue}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ريال سعودي"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"متوسط التقييم"}),e.jsx(Kt,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.averageRating.toFixed(1)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"من 5 نجوم"})]})]})]}),e.jsxs(Hr,{value:r,onValueChange:n,children:[e.jsxs(Dr,{className:"grid w-full grid-cols-4",children:[e.jsxs(rt,{value:"active",children:["النشطة (",h.servicesByStatus.active,")"]}),e.jsxs(rt,{value:"pending",children:["قيد المراجعة (",h.servicesByStatus.pending,")"]}),e.jsxs(rt,{value:"draft",children:["المسودات (",h.servicesByStatus.draft,")"]}),e.jsxs(rt,{value:"rejected",children:["المرفوضة (",h.servicesByStatus.rejected,")"]})]}),e.jsx(jt,{value:r,className:"space-y-6",children:_.length>0?e.jsx("div",{className:"space-y-4",children:_.map(k=>e.jsx(v,{service:k},k.id))}):e.jsx($,{children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📋"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:a?"لا توجد نتائج":`لا توجد خدمات ${r==="active"?"نشطة":r==="pending"?"قيد المراجعة":r==="draft"?"مسودات":"مرفوضة"}`}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:a?"جرب البحث بكلمات أخرى":"ابدأ بإضافة أول خدمة لك"}),!a&&e.jsx(A,{asChild:!0,children:e.jsx(Fe,{to:"/create-service",children:"إضافة خدمة جديدة"})})]})})})]})]})}),e.jsx(nt,{})]})},Sl=x.forwardRef(({className:s,...t},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:be("w-full caption-bottom text-sm",s),...t})}));Sl.displayName="Table";const kl=x.forwardRef(({className:s,...t},r)=>e.jsx("thead",{ref:r,className:be("[&_tr]:border-b",s),...t}));kl.displayName="TableHeader";const Cl=x.forwardRef(({className:s,...t},r)=>e.jsx("tbody",{ref:r,className:be("[&_tr:last-child]:border-0",s),...t}));Cl.displayName="TableBody";const e7=x.forwardRef(({className:s,...t},r)=>e.jsx("tfoot",{ref:r,className:be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t}));e7.displayName="TableFooter";const Mn=x.forwardRef(({className:s,...t},r)=>e.jsx("tr",{ref:r,className:be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t}));Mn.displayName="TableRow";const Ft=x.forwardRef(({className:s,...t},r)=>e.jsx("th",{ref:r,className:be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t}));Ft.displayName="TableHead";const $t=x.forwardRef(({className:s,...t},r)=>e.jsx("td",{ref:r,className:be("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t}));$t.displayName="TableCell";const t7=x.forwardRef(({className:s,...t},r)=>e.jsx("caption",{ref:r,className:be("mt-4 text-sm text-muted-foreground",s),...t}));t7.displayName="TableCaption";const Ph=({onSuccess:s,category:t,type:r="service"})=>{const[n,a]=x.useState(!1),[o,c]=x.useState(!1),[d,h]=x.useState([]),[f,m]=x.useState({name:t?.name||"",name_ar:t?.name_ar||"",icon_name:t?.icon_name||"",parent_id:t?.parent_id||null,display_order:t?.display_order||0});x.useEffect(()=>{r==="service"&&n&&p()},[n,r]);const p=async()=>{try{const{data:w,error:S}=await L.from("service_categories").select("*").is("parent_id",null).eq("is_active",!0).order("display_order");if(S)throw S;h(w||[])}catch(w){console.error("Error loading main categories:",w)}},j=async w=>{w.preventDefault(),c(!0);try{const S=r==="service"?"service_categories":"categories";if(t){const{error:v}=await L.from(S).update(f).eq("id",t.id);if(v)throw v;Me.success("تم تحديث الفئة بنجاح")}else{const{error:v}=await L.from(S).insert([{...f,is_active:!0}]);if(v)throw v;Me.success("تم إضافة الفئة بنجاح")}a(!1),s?.()}catch(S){console.error("Error saving category:",S),Me.error("حدث خطأ أثناء حفظ الفئة")}finally{c(!1)}};return e.jsxs(Wr,{open:n,onOpenChange:a,children:[e.jsx(so,{asChild:!0,children:t?e.jsx(A,{size:"sm",variant:"outline",children:"تعديل"}):e.jsxs(A,{children:[e.jsx(Cr,{className:"w-4 h-4 ml-2"}),"إضافة فئة"]})}),e.jsxs(Pr,{children:[e.jsxs(Tr,{children:[e.jsx(Rr,{children:t?"تعديل الفئة":"إضافة فئة جديدة"}),e.jsx(Sa,{children:t?"قم بتحديث معلومات الفئة":"أضف فئة جديدة للفعاليات والخدمات"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"name",children:"الاسم (English)"}),e.jsx(Re,{id:"name",value:f.name,onChange:w=>m({...f,name:w.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"name_ar",children:"الاسم (العربية)"}),e.jsx(Re,{id:"name_ar",value:f.name_ar,onChange:w=>m({...f,name_ar:w.target.value}),required:!0})]})]}),r==="service"&&e.jsxs("div",{children:[e.jsx(De,{htmlFor:"parent_id",children:"القسم الرئيسي (اختياري)"}),e.jsxs(Yt,{value:f.parent_id||"none",onValueChange:w=>m({...f,parent_id:w==="none"?null:w}),children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"بدون - قسم رئيسي"})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"none",children:"بدون - قسم رئيسي"}),d.map(w=>e.jsx(Oe,{value:w.id,children:w.name_ar},w.id))]})]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"icon_name",children:"اختر الأيقونة"}),e.jsxs(Yt,{value:f.icon_name||"Trophy",onValueChange:w=>m({...f,icon_name:w}),children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر أيقونة"})}),e.jsx(Vt,{className:"max-h-60",children:Object.keys(gh).map(w=>{const S=gh[w];return e.jsx(Oe,{value:w,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:w})]})},w)})})]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"display_order",children:"ترتيب العرض"}),e.jsx(Re,{id:"display_order",type:"number",value:f.display_order,onChange:w=>m({...f,display_order:parseInt(w.target.value)||0}),min:"0"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>a(!1),children:"إلغاء"}),e.jsx(A,{type:"submit",disabled:o,children:o?"جاري الحفظ...":t?"تحديث":"إضافة"})]})]})]})]})},ys={async getOverviewStats(){try{const s=new Date,t=new Date(s.getFullYear(),s.getMonth()-1,1),r=new Date(s.getFullYear(),s.getMonth(),1),[n,a,o,c,d,h,f,m,p,j]=await Promise.all([L.from("profiles").select("*",{count:"exact",head:!0}),L.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",t.toISOString()).lt("created_at",r.toISOString()),L.from("events").select("*",{count:"exact",head:!0}).eq("status","approved"),L.from("events").select("*",{count:"exact",head:!0}).eq("status","approved").gte("created_at",t.toISOString()).lt("created_at",r.toISOString()),L.from("services").select("*",{count:"exact",head:!0}).eq("status","approved"),L.from("bookings").select("total_amount").eq("status","confirmed"),L.from("bookings").select("total_amount").eq("status","confirmed").gte("created_at",t.toISOString()).lt("created_at",r.toISOString()),L.from("categories").select("*",{count:"exact",head:!0}),L.from("events").select("*",{count:"exact",head:!0}).eq("status","pending"),L.from("services").select("*",{count:"exact",head:!0}).eq("status","pending")]),w=n.count||0,S=a.count||0,v=o.count||0,y=c.count||0,b=d.count||0,_=h.data||[],k=f.data||[],E=m.count||0,P=p.count||0,R=j.count||0,D=P+R,U=_.reduce((ce,H)=>ce+Number(H.total_amount||0),0),V=k.reduce((ce,H)=>ce+Number(H.total_amount||0),0),te=S>0?((w-S)/S*100).toFixed(1):"0",oe=y>0?((v-y)/y*100).toFixed(1):"0",K=V>0?((U-V)/V*100).toFixed(1):"0";return console.log("✅ Admin Stats (Approved Only):",{totalUsers:w,totalEvents:`${v} (approved only)`,totalServices:`${b} (approved only)`,totalRevenue:U,activeBookings:_.length,totalCategories:E,pendingReviews:D}),{totalUsers:w,userGrowth:`${te}%`,totalEvents:v,eventGrowth:`${oe}%`,totalServices:b,totalRevenue:U,revenueGrowth:`${K}%`,activeBookings:_.length,totalCategories:E,pendingReviews:D}}catch(s){return console.error("Error fetching overview stats:",s),{totalUsers:0,userGrowth:"0%",totalEvents:0,eventGrowth:"0%",totalServices:0,totalRevenue:0,revenueGrowth:"0%",activeBookings:0,totalCategories:0,pendingReviews:0}}},async getAllUsers(){try{const{data:s,error:t}=await L.functions.invoke("admin-users",{method:"GET"});if(t)throw t;return s?.users||[]}catch(s){return console.error("Error fetching users:",s),[]}},async updateUserRole(s,t){try{const{error:r}=await L.functions.invoke("admin-update-user-role",{body:{userId:s,role:t}});if(r)throw r;await L.functions.invoke("log-activity",{body:{action:"role_update",entityType:"user",entityId:s,details:{newRole:t}}})}catch(r){throw console.error("Error updating user role:",r),r}},async suspendUser(s,t,r){try{console.log("Starting user suspension:",{userId:s,reason:t,durationDays:r});const n=new Date,a=r?new Date(n.getTime()+r*24*60*60*1e3):null,o=await L.auth.getUser();console.log("Current admin user:",o.data.user?.id);const{data:c,error:d}=await L.from("profiles").update({suspended:!0,suspension_reason:t,suspended_at:n.toISOString(),suspended_until:a?.toISOString()||null,suspended_by:o.data.user?.id}).eq("user_id",s).select();if(console.log("Suspension update result:",{data:c,error:d}),d)throw console.error("Suspension update failed:",d),d;return console.log("User suspended successfully, logging activity..."),await L.functions.invoke("log-activity",{body:{action:"user_suspended",entityType:"user",entityId:s,details:{reason:t,suspendedUntil:a?.toISOString()||"permanent",durationDays:r}}}).catch(h=>console.error("Failed to log activity:",h)),console.log("Sending suspension email..."),await L.functions.invoke("send-suspension-email",{body:{userId:s,reason:t,suspendedUntil:a?.toISOString()||null}}).catch(h=>console.error("Failed to send email:",h)),console.log("Suspension completed successfully"),c}catch(n){throw console.error("Error suspending user:",n),n}},async unsuspendUser(s){try{console.log("Starting user unsuspension:",s);const{data:t,error:r}=await L.from("profiles").update({suspended:!1,suspension_reason:null,suspended_at:null,suspended_until:null,suspended_by:null}).eq("user_id",s).select();if(console.log("Unsuspension result:",{data:t,error:r}),r)throw console.error("Unsuspension failed:",r),r;return console.log("Logging unsuspension activity..."),await L.functions.invoke("log-activity",{body:{action:"user_unsuspended",entityType:"user",entityId:s,details:{}}}).catch(n=>console.error("Failed to log activity:",n)),console.log("Unsuspension completed successfully"),t}catch(t){throw console.error("Error unsuspending user:",t),t}},async getSuspendedUsers(){const{data:s,error:t}=await L.from("suspended_users").select("*").order("suspended_at",{ascending:!1});if(t)throw t;return s||[]},async deleteUser(s){try{console.log("Attempting to delete user:",s);const{error:t}=await L.rpc("delete_user_completely",{target_user_id:s});if(t)throw console.error("Delete user error:",t),t;console.log("User deleted successfully")}catch(t){throw console.error("Error in deleteUser:",t),t}},async createCategory(s){const{error:t}=await L.from("categories").insert(s);if(t)throw t},async updateCategory(s,t){const{error:r}=await L.from("categories").update(t).eq("id",s);if(r)throw r},async deleteCategory(s){const{error:t}=await L.from("categories").delete().eq("id",s);if(t)throw t},async getFinancialReports(){const{data:s}=await L.from("payments").select("amount, created_at, status").eq("status","completed").order("created_at",{ascending:!1}),t=s?.reduce((r,n)=>{const a=new Date(n.created_at).toLocaleString("ar-SA",{year:"numeric",month:"long"});return r[a]=(r[a]||0)+Number(n.amount),r},{});return Object.entries(t||{}).map(([r,n])=>({month:r,amount:n}))},async getStuckPayments(){const{data:s}=await L.from("payments").select("*, bookings(*)").eq("status","pending").order("created_at",{ascending:!1}).limit(20);return s||[]},async retryPayment(s){const{error:t}=await L.from("payments").update({status:"processing"}).eq("id",s);if(t)throw t},async getSystemLogs(s=50){const{data:t}=await L.from("system_logs").select("*").order("created_at",{ascending:!1}).limit(s);return t||[]},async clearSystemLogs(){const{error:s}=await L.from("system_logs").delete().lt("created_at",new Date(Date.now()-6048e5).toISOString());if(s)throw s},async getSystemSettings(){const{data:s}=await L.from("system_settings").select("*");return s?.reduce((t,r)=>(t[r.key]=r.value,t),{})||{}},async updateSystemSetting(s,t){const{error:r}=await L.from("system_settings").update({value:t}).eq("key",s);if(r)throw r},async sendNotification(s){const{error:t}=await L.functions.invoke("send-notifications",{body:{user_ids:s.userIds,title:s.title,message:s.message,type:s.type,send_email:!1,send_sms:!1}});if(t)throw t},async sendBulkNotification(s){const{error:t}=await L.functions.invoke("send-notifications",{body:{target_role:s.role,title:s.title,message:s.message,type:s.type,send_email:!1,send_sms:!1}});if(t)throw t},async exportUsers(){const s=await this.getAllUsers(),t=[["الاسم","الدور","النقاط","الرصيد","تاريخ التسجيل"],...s.map(a=>[a.full_name||"غير محدد",a.user_roles?.[0]?.role||"غير محدد",a.points_balance||0,a.user_wallets?.[0]?.balance||0,new Date(a.created_at).toLocaleDateString("ar-SA")])].map(a=>a.join(",")).join(`
`),r=new Blob(["\uFEFF"+t],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");n.href=URL.createObjectURL(r),n.download=`users-export-${new Date().toISOString()}.csv`,n.click()}},s7=({open:s,onOpenChange:t})=>{const[r,n]=x.useState(!1),[a,o]=x.useState({title:"",message:"",type:"info",targetAudience:"all"}),c=async d=>{d.preventDefault(),n(!0);try{a.targetAudience==="all"?await ys.sendBulkNotification({title:a.title,message:a.message,type:a.type}):await ys.sendBulkNotification({title:a.title,message:a.message,type:a.type,role:a.targetAudience}),Me.success("تم إرسال الإشعارات بنجاح"),t(!1),o({title:"",message:"",type:"info",targetAudience:"all"})}catch(h){console.error("Error sending notifications:",h),Me.error("حدث خطأ أثناء إرسال الإشعارات")}finally{n(!1)}};return e.jsx(Wr,{open:s,onOpenChange:t,children:e.jsxs(Pr,{children:[e.jsxs(Tr,{children:[e.jsx(Rr,{children:"إرسال إشعار جماعي"}),e.jsx(Sa,{children:"أرسل إشعاراً لجميع المستخدمين أو لفئة معينة"})]}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"title",children:"عنوان الإشعار"}),e.jsx(Re,{id:"title",value:a.title,onChange:d=>o({...a,title:d.target.value}),required:!0,maxLength:100})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"message",children:"رسالة الإشعار"}),e.jsx(Er,{id:"message",value:a.message,onChange:d=>o({...a,message:d.target.value}),required:!0,maxLength:500,rows:4})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"type",children:"نوع الإشعار"}),e.jsxs(Yt,{value:a.type,onValueChange:d=>o({...a,type:d}),children:[e.jsx(qt,{children:e.jsx(Qt,{})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"info",children:"معلومات"}),e.jsx(Oe,{value:"success",children:"نجاح"}),e.jsx(Oe,{value:"warning",children:"تحذير"}),e.jsx(Oe,{value:"error",children:"خطأ"})]})]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"audience",children:"الفئة المستهدفة"}),e.jsxs(Yt,{value:a.targetAudience,onValueChange:d=>o({...a,targetAudience:d}),children:[e.jsx(qt,{children:e.jsx(Qt,{})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"all",children:"جميع المستخدمين"}),e.jsx(Oe,{value:"attendee",children:"الحضور"}),e.jsx(Oe,{value:"organizer",children:"المنظمون"}),e.jsx(Oe,{value:"provider",children:"مقدمو الخدمات"})]})]})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>t(!1),children:"إلغاء"}),e.jsxs(A,{type:"submit",disabled:r,children:[e.jsx(Sn,{className:"w-4 h-4 ml-2"}),r?"جاري الإرسال...":"إرسال الإشعار"]})]})]})]})})};var Rf="Checkbox",[r7]=Vs(Rf),[n7,Fv]=r7(Rf);function a7(s){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:o,form:c,name:d,onCheckedChange:h,required:f,value:m="on",internal_do_not_use_render:p}=s,[j,w]=Pn({prop:r,defaultProp:a??!1,onChange:h,caller:Rf}),[S,v]=x.useState(null),[y,b]=x.useState(null),_=x.useRef(!1),k=S?!!c||!!S.closest("form"):!0,E={checked:j,disabled:o,setChecked:w,control:S,setControl:v,name:d,form:c,value:m,hasConsumerStoppedPropagationRef:_,required:f,defaultChecked:oi(a)?!1:a,isFormControl:k,bubbleInput:y,setBubbleInput:b};return e.jsx(n7,{scope:t,...E,children:i7(p)?p(E):n})}var tE="CheckboxTrigger",sE=x.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:r,...n},a)=>{const{control:o,value:c,disabled:d,checked:h,required:f,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:j,isFormControl:w,bubbleInput:S}=Fv(tE,s),v=ft(a,m),y=x.useRef(h);return x.useEffect(()=>{const b=o?.form;if(b){const _=()=>p(y.current);return b.addEventListener("reset",_),()=>b.removeEventListener("reset",_)}},[o,p]),e.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":oi(h)?"mixed":h,"aria-required":f,"data-state":oE(h),"data-disabled":d?"":void 0,disabled:d,value:c,...n,ref:v,onKeyDown:Se(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Se(r,b=>{p(_=>oi(_)?!0:!_),S&&w&&(j.current=b.isPropagationStopped(),j.current||b.stopPropagation())})})});sE.displayName=tE;var $v=x.forwardRef((s,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:c,disabled:d,value:h,onCheckedChange:f,form:m,...p}=s;return e.jsx(a7,{__scopeCheckbox:r,checked:a,defaultChecked:o,disabled:d,required:c,onCheckedChange:f,name:n,form:m,value:h,internal_do_not_use_render:({isFormControl:j})=>e.jsxs(e.Fragment,{children:[e.jsx(sE,{...p,ref:t,__scopeCheckbox:r}),j&&e.jsx(iE,{__scopeCheckbox:r})]})})});$v.displayName=Rf;var rE="CheckboxIndicator",nE=x.forwardRef((s,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=s,o=Fv(rE,r);return e.jsx(Ls,{present:n||oi(o.checked)||o.checked===!0,children:e.jsx(Be.span,{"data-state":oE(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...s.style}})})});nE.displayName=rE;var aE="CheckboxBubbleInput",iE=x.forwardRef(({__scopeCheckbox:s,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:c,required:d,disabled:h,name:f,value:m,form:p,bubbleInput:j,setBubbleInput:w}=Fv(aE,s),S=ft(r,w),v=iv(o),y=bg(n);x.useEffect(()=>{const _=j;if(!_)return;const k=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(k,"checked").set,R=!a.current;if(v!==o&&P){const D=new Event("click",{bubbles:R});_.indeterminate=oi(o),P.call(_,oi(o)?!1:o),_.dispatchEvent(D)}},[j,v,o,a]);const b=x.useRef(oi(o)?!1:o);return e.jsx(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??b.current,required:d,disabled:h,name:f,value:m,form:p,...t,tabIndex:-1,ref:S,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});iE.displayName=aE;function i7(s){return typeof s=="function"}function oi(s){return s==="indeterminate"}function oE(s){return oi(s)?"indeterminate":s?"checked":"unchecked"}const zv=x.forwardRef(({className:s,...t},r)=>e.jsx($v,{ref:r,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(nE,{className:be("flex items-center justify-center text-current"),children:e.jsx(Mh,{className:"h-4 w-4"})})}));zv.displayName=$v.displayName;const tN=({items:s,type:t,onRefresh:r})=>{const[n,a]=x.useState([]),o=m=>{a(p=>p.includes(m)?p.filter(j=>j!==m):[...p,m])},c=()=>{a(s.map(m=>m.id))},d=()=>{a([])},h=async()=>{if(n.length===0){Me.error("يرجى اختيار عناصر أولاً");return}try{const m=t==="events"?"events":"services";await L.from(m).update({status:"approved"}).in("id",n),Me.success(`تم قبول ${n.length} ${t==="events"?"فعالية":"خدمة"}`),d(),r()}catch{Me.error("حدث خطأ")}},f=async()=>{if(n.length===0){Me.error("يرجى اختيار عناصر أولاً");return}try{const m=t==="events"?"events":"services";await L.from(m).update({status:"cancelled"}).in("id",n),Me.success(`تم رفض ${n.length} ${t==="events"?"فعالية":"خدمة"}`),d(),r()}catch{Me.error("حدث خطأ")}};return s.length===0?null:e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"العمليات الجماعية"}),e.jsx(Je,{children:"قم بتحديد عناصر متعددة لتنفيذ عمليات عليها دفعة واحدة"})]}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(A,{size:"sm",variant:"outline",onClick:c,children:["تحديد الكل (",s.length,")"]}),e.jsx(A,{size:"sm",variant:"outline",onClick:d,children:"إلغاء التحديد"}),e.jsxs(ge,{variant:"secondary",children:["محدد: ",n.length]})]}),n.length>0&&e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(A,{size:"sm",onClick:h,children:[e.jsx(Lt,{className:"w-4 h-4 ml-1"}),"قبول المحدد (",n.length,")"]}),e.jsxs(A,{size:"sm",variant:"destructive",onClick:f,children:[e.jsx(ci,{className:"w-4 h-4 ml-1"}),"رفض المحدد (",n.length,")"]})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:s.map(m=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded",children:[e.jsx(zv,{checked:n.includes(m.id),onCheckedChange:()=>o(m.id)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:t==="events"?m.title_ar:m.name_ar}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.description_ar?.substring(0,60),"..."]})]})]},m.id))})]})]})},o7=({open:s,onOpenChange:t,item:r,type:n})=>{if(!r)return null;const a=n==="event",o=a?r.title_ar:r.name_ar,c=r.description_ar;return e.jsx(Wr,{open:s,onOpenChange:t,children:e.jsxs(Pr,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Tr,{children:e.jsx(Rr,{className:"text-2xl",children:o})}),e.jsxs("div",{className:"space-y-6",children:[r.image_url&&e.jsx("div",{className:"w-full h-64 rounded-lg overflow-hidden",children:e.jsx("img",{src:r.image_url,alt:o,className:"w-full h-full object-cover"})}),e.jsx(ge,{variant:r.status==="pending"?"secondary":"default",children:r.status==="pending"?"قيد المراجعة":r.status}),e.jsx($,{children:e.jsxs(B,{className:"pt-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"الوصف"}),e.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:c})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a?e.jsxs(e.Fragment,{children:[e.jsx($,{children:e.jsxs(B,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(kt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"تاريخ البداية"})]}),e.jsx("p",{className:"font-medium",children:new Date(r.start_date).toLocaleDateString("ar-SA",{dateStyle:"full"})})]})}),e.jsx($,{children:e.jsxs(B,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(kt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"تاريخ النهاية"})]}),e.jsx("p",{className:"font-medium",children:new Date(r.end_date).toLocaleDateString("ar-SA",{dateStyle:"full"})})]})}),e.jsx($,{children:e.jsxs(B,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"الموقع"})]}),e.jsx("p",{className:"font-medium",children:r.location_ar||r.location})]})}),e.jsx($,{children:e.jsxs(B,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(_t,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"الحضور"})]}),e.jsxs("p",{className:"font-medium",children:[r.current_attendees," / ",r.max_attendees||"غير محدود"]})]})}),e.jsx($,{children:e.jsxs(B,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(sr,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"السعر"})]}),e.jsx("p",{className:"font-medium",children:r.price>0?`${r.price} ريال`:"مجاني"})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx($,{children:e.jsxs(B,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"الموقع"})]}),e.jsx("p",{className:"font-medium",children:r.location_ar||r.location||"غير محدد"})]})}),e.jsx($,{children:e.jsxs(B,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(sr,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"السعر"})]}),e.jsxs("p",{className:"font-medium",children:[r.price," ريال"]})]})}),r.duration_minutes&&e.jsx($,{children:e.jsxs(B,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[e.jsx(nr,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"المدة"})]}),e.jsxs("p",{className:"font-medium",children:[r.duration_minutes," دقيقة"]})]})})]})}),a&&e.jsxs(e.Fragment,{children:[r.requires_license&&e.jsx($,{className:"border-yellow-500",children:e.jsx(B,{className:"pt-6",children:e.jsx("p",{className:"text-sm font-medium",children:"تتطلب هذه الفعالية رخصة"})})}),r.cancellation_policy&&e.jsx($,{children:e.jsxs(B,{className:"pt-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"سياسة الإلغاء"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.cancellation_policy})]})})]})]})]})})},l7=({open:s,onOpenChange:t,onConfirm:r,itemName:n,loading:a})=>{const[o,c]=x.useState(""),d=()=>{r(o),c("")};return e.jsx(Wr,{open:s,onOpenChange:t,children:e.jsxs(Pr,{children:[e.jsxs(Tr,{children:[e.jsxs(Rr,{children:["رفض ",n]}),e.jsx(Sa,{children:"يرجى إضافة سبب الرفض ليتمكن المستخدم من معرفة السبب وإصلاحه"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(De,{htmlFor:"comment",children:"سبب الرفض"}),e.jsx(Er,{id:"comment",value:o,onChange:h=>c(h.target.value),placeholder:"مثال: الصور المرفقة غير واضحة، يرجى رفع صور بجودة أفضل",rows:4,className:"mt-2"})]})}),e.jsxs(Tf,{children:[e.jsx(A,{variant:"outline",onClick:()=>t(!1),children:"إلغاء"}),e.jsx(A,{variant:"destructive",onClick:d,disabled:!o.trim()||a,children:a?"جاري الرفض...":"رفض"})]})]})})},Ja={async logActivity(s,t,r,n){try{const{data:{user:a}}=await L.auth.getUser();if(!a)return;await L.from("admin_activity_logs").insert({admin_id:a.id,action:s,entity_type:t,entity_id:r,details:n})}catch(a){console.error("Error logging activity:",a)}},async getRecentLogs(s=50){try{const{data:t,error:r}=await L.from("admin_activity_logs").select(`
          *,
          admin:profiles!admin_id(full_name)
        `).order("created_at",{ascending:!1}).limit(s);if(r)throw r;return t||[]}catch(t){return console.error("Error fetching activity logs:",t),[]}},async getLogsByAdmin(s,t=50){const{data:r,error:n}=await L.from("admin_activity_logs").select("*").eq("admin_id",s).order("created_at",{ascending:!1}).limit(t);if(n)throw n;return r},async getLogsByEntity(s,t){try{const{data:r,error:n}=await L.from("admin_activity_logs").select(`
          *,
          admin:profiles!admin_id(full_name)
        `).eq("entity_type",s).eq("entity_id",t).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){return console.error("Error fetching entity logs:",r),[]}}},c7=()=>{const[s,t]=x.useState([]),[r,n]=x.useState(!0);x.useEffect(()=>{a()},[]);const a=async()=>{try{const d=await Ja.getRecentLogs(100);t(d||[])}catch(d){console.error("Error loading activity logs:",d)}finally{n(!1)}},o=d=>d.includes("approve")?e.jsx(Lt,{className:"h-4 w-4 text-green-500"}):d.includes("reject")?e.jsx(ci,{className:"h-4 w-4 text-red-500"}):d.includes("delete")?e.jsx(AN,{className:"h-4 w-4 text-orange-500"}):d.includes("role")?e.jsx(Ms,{className:"h-4 w-4 text-blue-500"}):e.jsx(Uu,{className:"h-4 w-4 text-gray-500"}),c=d=>d.includes("approve")?e.jsx(ge,{variant:"default",children:"قبول"}):d.includes("reject")?e.jsx(ge,{variant:"destructive",children:"رفض"}):d.includes("delete")?e.jsx(ge,{variant:"secondary",children:"حذف"}):d.includes("role")?e.jsx(ge,{children:"تغيير دور"}):e.jsx(ge,{variant:"outline",children:d});return r?e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"جاري تحميل سجل النشاطات..."})}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((d,h)=>e.jsx("div",{className:"h-16 bg-muted animate-pulse rounded-lg"},h))})})]}):e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Uu,{className:"h-5 w-5"}),"سجل نشاطات المسؤولين"]}),e.jsx(Je,{children:"سجل كامل لجميع الإجراءات التي قام بها المسؤولون على المنصة"})]}),e.jsx(B,{children:s.length===0?e.jsx(uf,{icon:Uu,title:"لا توجد نشاطات مسجلة",description:"ستظهر هنا جميع الإجراءات التي يقوم بها المسؤولون"}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(Sl,{children:[e.jsx(kl,{children:e.jsxs(Mn,{children:[e.jsx(Ft,{children:"المسؤول"}),e.jsx(Ft,{children:"الإجراء"}),e.jsx(Ft,{children:"النوع"}),e.jsx(Ft,{children:"التفاصيل"}),e.jsx(Ft,{children:"التاريخ"})]})}),e.jsx(Cl,{children:s.map(d=>e.jsxs(Mn,{children:[e.jsx($t,{className:"font-medium",children:d.admin?.full_name||"غير معروف"}),e.jsx($t,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[o(d.action),c(d.action)]})}),e.jsx($t,{children:e.jsx(ge,{variant:"outline",children:d.entity_type})}),e.jsx($t,{className:"max-w-md truncate",children:d.details&&typeof d.details=="object"?JSON.stringify(d.details):d.details||"-"}),e.jsx($t,{className:"text-muted-foreground text-sm",children:new Date(d.created_at).toLocaleDateString("ar-SA",{dateStyle:"medium",timeStyle:"short"})})]},d.id))})]})})})]})},d7=({open:s,onOpenChange:t,onConfirm:r,userName:n})=>{const[a,o]=x.useState(""),[c,d]=x.useState("7"),[h,f]=x.useState(),m=()=>{if(!a.trim())return;let p;if(c==="permanent")p=void 0;else if(c==="custom"&&h){const j=h.getTime()-new Date().getTime();p=Math.ceil(j/(1e3*60*60*24))}else p=parseInt(c);r(a,p),o(""),d("7"),f(void 0)};return e.jsx(Wr,{open:s,onOpenChange:t,children:e.jsxs(Pr,{className:"sm:max-w-md",children:[e.jsxs(Tr,{children:[e.jsxs(Rr,{children:["تعليق حساب ",n]}),e.jsx(Sa,{children:"حدد سبب التعليق ومدته"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"reason",children:"سبب التعليق *"}),e.jsx(Er,{id:"reason",placeholder:"اكتب سبب التعليق...",value:a,onChange:p=>o(p.target.value),className:"min-h-[100px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{htmlFor:"duration",children:"مدة التعليق"}),e.jsxs(Yt,{value:c,onValueChange:p=>d(p),children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر المدة"})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"7",children:"7 أيام"}),e.jsx(Oe,{value:"30",children:"30 يوم"}),e.jsx(Oe,{value:"90",children:"90 يوم"}),e.jsx(Oe,{value:"custom",children:"تاريخ مخصص"}),e.jsx(Oe,{value:"permanent",children:"دائم"})]})]})]}),c==="custom"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(De,{children:"تاريخ الانتهاء"}),e.jsxs(Kc,{children:[e.jsx(Yc,{asChild:!0,children:e.jsxs(A,{variant:"outline",className:be("w-full justify-start text-right font-normal",!h&&"text-muted-foreground"),children:[e.jsx(kt,{className:"ml-2 h-4 w-4"}),h?Gt(h,"PPP"):e.jsx("span",{children:"اختر التاريخ"})]})}),e.jsx(hl,{className:"w-auto p-0",align:"start",children:e.jsx(dl,{mode:"single",selected:h,onSelect:f,disabled:p=>p<new Date,initialFocus:!0,className:"pointer-events-auto"})})]})]})]}),e.jsxs(Tf,{children:[e.jsx(A,{variant:"outline",onClick:()=>t(!1),children:"إلغاء"}),e.jsx(A,{variant:"destructive",onClick:m,disabled:!a.trim(),children:"تعليق الحساب"})]})]})})},u7=()=>{const[s,t]=x.useState([]),[r,n]=x.useState(!0),[a,o]=x.useState(null),{toast:c}=is(),d=async()=>{try{n(!0);const f=await ys.getSuspendedUsers();t(f)}catch(f){console.error("Error loading suspended users:",f),c({title:"خطأ",description:"فشل في تحميل المستخدمين المعلقين",variant:"destructive"})}finally{n(!1)}};x.useEffect(()=>{d()},[]);const h=async f=>{try{await ys.unsuspendUser(f),c({title:"تم رفع التعليق",description:"تم رفع التعليق عن المستخدم بنجاح"}),d(),o(null)}catch(m){console.error("Error unsuspending user:",m),c({title:"خطأ",description:"فشل في رفع التعليق",variant:"destructive"})}};return r?e.jsx("div",{className:"flex justify-center p-8",children:"جاري التحميل..."}):s.length===0?e.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:[e.jsx(hr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"لا يوجد مستخدمين معلقين حالياً"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"rounded-lg border",children:e.jsxs(Sl,{children:[e.jsx(kl,{children:e.jsxs(Mn,{children:[e.jsx(Ft,{className:"text-right",children:"الاسم"}),e.jsx(Ft,{className:"text-right",children:"السبب"}),e.jsx(Ft,{className:"text-right",children:"تم التعليق بواسطة"}),e.jsx(Ft,{className:"text-right",children:"تاريخ التعليق"}),e.jsx(Ft,{className:"text-right",children:"ينتهي في"}),e.jsx(Ft,{className:"text-right",children:"الحالة"}),e.jsx(Ft,{className:"text-right",children:"الإجراءات"})]})}),e.jsx(Cl,{children:s.map(f=>e.jsxs(Mn,{children:[e.jsx($t,{className:"font-medium",children:f.full_name||"غير محدد"}),e.jsx($t,{children:e.jsx("div",{className:"max-w-xs truncate",title:f.suspension_reason,children:f.suspension_reason})}),e.jsx($t,{children:f.suspended_by_name||"غير معروف"}),e.jsx($t,{children:f.suspended_at?Gt(new Date(f.suspended_at),"PPP",{locale:Es}):"غير محدد"}),e.jsx($t,{children:f.suspended_until?Gt(new Date(f.suspended_until),"PPP",{locale:Es}):e.jsx(ge,{variant:"destructive",children:"دائم"})}),e.jsxs($t,{children:[f.suspension_status==="permanent"&&e.jsx(ge,{variant:"destructive",children:"دائم"}),f.suspension_status==="active"&&e.jsx(ge,{variant:"outline",className:"border-orange-500 text-orange-500",children:"نشط"}),f.suspension_status==="expired"&&e.jsx(ge,{variant:"secondary",children:"منتهي"})]}),e.jsx($t,{children:e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>o(f.user_id),children:[e.jsx(TN,{className:"h-4 w-4 ml-2"}),"رفع التعليق"]})})]},f.user_id))})]})}),e.jsx(NS,{open:!!a,onOpenChange:()=>o(null),children:e.jsxs(Vg,{children:[e.jsxs(Wg,{children:[e.jsx(Hg,{children:"تأكيد رفع التعليق"}),e.jsx(Gg,{children:"هل أنت متأكد من رفع التعليق عن هذا المستخدم؟ سيتمكن من الوصول إلى النظام مباشرة."})]}),e.jsxs(SS,{children:[e.jsx(CS,{children:"إلغاء"}),e.jsx(kS,{onClick:()=>a&&h(a),children:"تأكيد"})]})]})})]})},h7=({open:s,onOpenChange:t,user:r})=>{if(!r)return null;const n=a=>({admin:"مدير",organizer:"منظم فعاليات",provider:"مقدم خدمة",attendee:"مشارك"})[a]||a;return e.jsx(Wr,{open:s,onOpenChange:t,children:e.jsxs(Pr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Tr,{children:e.jsx(Rr,{children:"تفاصيل المستخدم"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[r.avatar_url?e.jsx("img",{src:r.avatar_url,alt:r.full_name,className:"w-20 h-20 rounded-full object-cover"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-primary",children:r.full_name?.charAt(0)||"م"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold",children:r.full_name||"غير محدد"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(ge,{variant:r.suspended?"destructive":"default",children:r.suspended?"معلق":"نشط"}),e.jsxs(ge,{variant:"outline",children:[e.jsx(Ms,{className:"w-3 h-3 ml-1"}),n(r.user_roles?.[0]?.role||"attendee")]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-sm text-muted-foreground",children:"معلومات الاتصال"}),r.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(sa,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:r.email})]}),r.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(En,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:r.phone})]}),r.city&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ot,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:r.city})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(sg,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"النقاط"})]}),e.jsx("p",{className:"text-2xl font-bold",children:r.points_balance||0}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["إجمالي مكتسب: ",r.total_points_earned||0]})]}),e.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Jn,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"المحفظة"})]}),e.jsxs("p",{className:"text-2xl font-bold",children:[r.user_wallets?.[0]?.balance||0," ريال"]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["إجمالي الإيرادات: ",r.user_wallets?.[0]?.total_earned||0]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-sm text-muted-foreground",children:"معلومات الحساب"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(kt,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:"تاريخ التسجيل:"}),e.jsx("span",{className:"font-medium",children:Gt(new Date(r.created_at),"dd MMMM yyyy",{locale:Es})})]})]}),r.suspended&&e.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-destructive mb-2",children:"معلومات التعليق"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[r.suspension_reason&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"السبب:"})," ",r.suspension_reason]}),r.suspended_at&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"تاريخ التعليق:"})," ",Gt(new Date(r.suspended_at),"dd MMMM yyyy",{locale:Es})]}),r.suspended_until&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ينتهي في:"})," ",Gt(new Date(r.suspended_until),"dd MMMM yyyy",{locale:Es})]})]})]}),r.bio&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm text-muted-foreground",children:"نبذة"}),e.jsx("p",{className:"text-sm",children:r.bio})]})]})]})})},f7=({open:s,onOpenChange:t,user:r,onSuccess:n})=>{const[a,o]=x.useState(!1),[c,d]=x.useState({full_name:"",phone:"",city:"",bio:""});x.useEffect(()=>{r&&d({full_name:r.full_name||"",phone:r.phone||"",city:r.city||"",bio:r.bio||""})},[r]);const h=async f=>{f.preventDefault(),o(!0);try{const{error:m}=await L.from("profiles").update(c).eq("user_id",r.user_id);if(m)throw m;Me.success("تم تحديث بيانات المستخدم"),n(),t(!1)}catch(m){console.error("Error updating user:",m),Me.error("حدث خطأ في التحديث")}finally{o(!1)}};return r?e.jsx(Wr,{open:s,onOpenChange:t,children:e.jsxs(Pr,{children:[e.jsx(Tr,{children:e.jsx(Rr,{children:"تعديل بيانات المستخدم"})}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"full_name",children:"الاسم الكامل"}),e.jsx(Re,{id:"full_name",value:c.full_name,onChange:f=>d({...c,full_name:f.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"phone",children:"رقم الجوال"}),e.jsx(Re,{id:"phone",type:"tel",value:c.phone,onChange:f=>d({...c,phone:f.target.value})})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"city",children:"المدينة"}),e.jsx(Re,{id:"city",value:c.city,onChange:f=>d({...c,city:f.target.value})})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"bio",children:"نبذة"}),e.jsx(Er,{id:"bio",value:c.bio,onChange:f=>d({...c,bio:f.target.value}),rows:3})]}),e.jsxs(Tf,{children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>t(!1),children:"إلغاء"}),e.jsx(A,{type:"submit",disabled:a,children:a?"جاري الحفظ...":"حفظ"})]})]})]})}):null},m7=()=>{const[s,t]=x.useState([]),[r,n]=x.useState(!0);x.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:d,error:h}=await L.from("service_categories").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(h)throw h;const f=d?.filter((m,p,j)=>p===j.findIndex(w=>w.name_ar===m.name_ar))||[];t(f),console.log("Loaded service categories:",f.length)}catch(d){console.error("Error loading categories:",d),Me.error("حدث خطأ في تحميل التصنيفات")}finally{n(!1)}},o=async d=>{if(confirm("هل أنت متأكد من حذف هذا التصنيف؟"))try{const{error:h}=await L.from("service_categories").delete().eq("id",d);if(h)throw h;Me.success("تم حذف التصنيف"),a()}catch(h){console.error("Error deleting category:",h),Me.error("حدث خطأ في الحذف")}},c=d=>d&&s.find(f=>f.id===d)?.name_ar||"—";return e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(J,{children:"إدارة تصنيفات الخدمات"}),e.jsx(Ph,{type:"service",onSuccess:a})]})}),e.jsx(B,{children:r?e.jsx("div",{className:"text-center py-8",children:"جاري التحميل..."}):e.jsxs(Sl,{children:[e.jsx(kl,{children:e.jsxs(Mn,{children:[e.jsx(Ft,{children:"الاسم (عربي)"}),e.jsx(Ft,{children:"الاسم (English)"}),e.jsx(Ft,{children:"القسم الرئيسي"}),e.jsx(Ft,{children:"الأيقونة"}),e.jsx(Ft,{children:"الترتيب"}),e.jsx(Ft,{children:"الحالة"}),e.jsx(Ft,{className:"text-left",children:"إجراءات"})]})}),e.jsx(Cl,{children:s.map(d=>e.jsxs(Mn,{children:[e.jsx($t,{className:"font-medium",children:d.name_ar}),e.jsx($t,{children:d.name}),e.jsx($t,{children:c(d.parent_id)}),e.jsx($t,{children:e.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:d.icon_name||"—"})}),e.jsx($t,{children:d.display_order}),e.jsx($t,{children:e.jsx(ge,{variant:d.is_active?"default":"secondary",children:d.is_active?"نشط":"غير نشط"})}),e.jsx($t,{children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(Ph,{type:"service",category:d,onSuccess:a}),e.jsx(A,{size:"sm",variant:"destructive",onClick:()=>o(d.id),children:e.jsx(sn,{className:"w-4 h-4"})})]})})]},d.id))})]})})]})},p7=()=>{const[s,t]=x.useState([]),[r,n]=x.useState([]),[a,o]=x.useState(!0),[c,d]=x.useState(!1),[h,f]=x.useState(null),[m,p]=x.useState({name:"",name_ar:"",region:"",description:"",selectedCityId:""});x.useEffect(()=>{w(),j()},[]);const j=async()=>{try{const{data:_,error:k}=await L.from("cities").select("*").eq("is_active",!0).order("name",{ascending:!0});if(k)throw k;n(_||[])}catch(_){console.error("Error loading cities:",_),Me.error("حدث خطأ في تحميل المدن")}},w=async()=>{try{const{data:_,error:k}=await L.from("regional_groups").select("*").order("created_at",{ascending:!1});if(k)throw k;t(_||[])}catch(_){console.error("Error loading regional groups:",_),Me.error("حدث خطأ في تحميل المجموعات الإقليمية")}finally{o(!1)}},S=async _=>{_.preventDefault();try{const k={name:m.name,name_ar:m.name_ar,region:m.region,description:m.description};if(h){const{error:E}=await L.from("regional_groups").update(k).eq("id",h.id);if(E)throw E;Me.success("تم تحديث المجموعة بنجاح")}else{const{error:E}=await L.from("regional_groups").insert(k);if(E)throw E;Me.success("تم إضافة المجموعة بنجاح")}d(!1),f(null),p({name:"",name_ar:"",region:"",description:"",selectedCityId:""}),w()}catch(k){console.error("Error saving group:",k),Me.error("حدث خطأ في حفظ المجموعة")}},v=async _=>{if(confirm("هل أنت متأكد من حذف هذه المجموعة؟"))try{const{error:k}=await L.from("regional_groups").delete().eq("id",_);if(k)throw k;Me.success("تم حذف المجموعة"),w()}catch(k){console.error("Error deleting group:",k),Me.error("حدث خطأ في الحذف")}},y=_=>{const k=r.find(E=>E.id===_);k&&p({...m,selectedCityId:_,name:k.name,name_ar:k.name_ar,region:k.region||k.region_ar||""})},b=_=>{_?(f(_),p({name:_.name,name_ar:_.name_ar,region:_.region,description:_.description||"",selectedCityId:""})):(f(null),p({name:"",name_ar:"",region:"",description:"",selectedCityId:""})),d(!0)};return e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5"}),"إدارة المجموعات الإقليمية"]}),e.jsxs(Wr,{open:c,onOpenChange:d,children:[e.jsx(so,{asChild:!0,children:e.jsxs(A,{onClick:()=>b(),children:[e.jsx(Cr,{className:"w-4 h-4 ml-2"}),"إضافة مجموعة"]})}),e.jsxs(Pr,{children:[e.jsx(Tr,{children:e.jsx(Rr,{children:h?"تعديل المجموعة":"إضافة مجموعة إقليمية"})}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"city",children:"المدينة *"}),e.jsxs(Yt,{value:m.selectedCityId,onValueChange:y,children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر المدينة"})}),e.jsx(Vt,{children:r.map(_=>e.jsxs(Oe,{value:_.id,children:[_.name_ar," - ",_.name]},_.id))})]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"name_ar",children:"الاسم (عربي) *"}),e.jsx(Re,{id:"name_ar",value:m.name_ar,onChange:_=>p({...m,name_ar:_.target.value}),placeholder:"مجموعة الرياض",required:!0,disabled:!m.selectedCityId&&!h})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"name",children:"الاسم (English) *"}),e.jsx(Re,{id:"name",value:m.name,onChange:_=>p({...m,name:_.target.value}),placeholder:"Riyadh Group",required:!0,disabled:!m.selectedCityId&&!h})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"region",children:"المنطقة *"}),e.jsx(Re,{id:"region",value:m.region,onChange:_=>p({...m,region:_.target.value}),placeholder:"الرياض",required:!0,disabled:!m.selectedCityId&&!h})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"description",children:"الوصف"}),e.jsx(Re,{id:"description",value:m.description,onChange:_=>p({...m,description:_.target.value}),placeholder:"وصف المجموعة"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>d(!1),children:"إلغاء"}),e.jsx(A,{type:"submit",children:h?"تحديث":"إضافة"})]})]})]})]})]})}),e.jsx(B,{children:a?e.jsx("div",{className:"text-center py-8",children:"جاري التحميل..."}):s.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"لا توجد مجموعات إقليمية حالياً"}):e.jsxs(Sl,{children:[e.jsx(kl,{children:e.jsxs(Mn,{children:[e.jsx(Ft,{children:"الاسم (عربي)"}),e.jsx(Ft,{children:"الاسم (English)"}),e.jsx(Ft,{children:"المنطقة"}),e.jsx(Ft,{children:"الوصف"}),e.jsx(Ft,{className:"text-left",children:"الإجراءات"})]})}),e.jsx(Cl,{children:s.map(_=>e.jsxs(Mn,{children:[e.jsx($t,{className:"font-medium",children:_.name_ar}),e.jsx($t,{children:_.name}),e.jsx($t,{children:e.jsx(ge,{variant:"secondary",children:_.region})}),e.jsx($t,{className:"max-w-xs truncate",children:_.description||"—"}),e.jsx($t,{children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(A,{size:"sm",variant:"outline",onClick:()=>b(_),children:e.jsx(el,{className:"w-4 h-4"})}),e.jsx(A,{size:"sm",variant:"destructive",onClick:()=>v(_.id),children:e.jsx(sn,{className:"w-4 h-4"})})]})})]},_.id))})]})})]})},x7=()=>{const{userRole:s,loading:t}=Ct();ar();const[r,n]=x.useState({totalUsers:0,userGrowth:"0%",totalEvents:0,eventGrowth:"0%",totalServices:0,totalRevenue:0,revenueGrowth:"0%",activeBookings:0,totalCategories:0,pendingReviews:0}),[a,o]=x.useState(!0),[c,d]=x.useState([]),[h,f]=x.useState([]),[m,p]=x.useState([]),[j,w]=x.useState([]),[S,v]=x.useState([]),[y,b]=x.useState([]),[_,k]=x.useState([]),[E,P]=x.useState("overview"),[R,D]=x.useState(""),[U,V]=x.useState("all"),[te,oe]=x.useState("all"),[K,ce]=x.useState(!1),[H,ve]=x.useState(!1),[ue,Y]=x.useState(!1),[F,W]=x.useState(null),[le,I]=x.useState("event"),[X,ye]=x.useState(!1),[me,Le]=x.useState(null),[qe,ie]=x.useState(!1),[Te,Ve]=x.useState(!1),[Ne,$e]=x.useState(null),[_e,Xe]=x.useState(!1),[pt,Et]=x.useState(null),[Wt,Zt]=x.useState(!1);x.useEffect(()=>{s==="admin"&&Ns()},[s]);const Ns=async()=>{o(!0);try{await Promise.all([ls(),O(),G(),ae(),ke(),Ce()])}catch(ee){console.error("Error loading admin data:",ee),Me.error("حدث خطأ في تحميل البيانات")}finally{o(!1)}},ls=async()=>{try{const ee=await ys.getOverviewStats();n(ee)}catch(ee){console.error("Error loading stats:",ee)}},O=async()=>{try{const[ee,pe]=await Promise.all([L.from("events").select("*").eq("status","pending"),L.from("services").select("*").eq("status","pending")]);d(ee.data||[]),f(pe.data||[])}catch(ee){console.error("Error loading pending items:",ee)}},G=async()=>{try{const ee=await ys.getAllUsers();p(ee)}catch(ee){console.error("Error loading users:",ee)}},ae=async()=>{try{const{data:ee}=await L.from("categories").select("*").order("name_ar");w(ee||[])}catch(ee){console.error("Error loading categories:",ee)}},ke=async()=>{try{const[ee,pe]=await Promise.all([ys.getFinancialReports(),ys.getStuckPayments()]);b(ee),k(pe)}catch(ee){console.error("Error loading financial data:",ee)}},Ce=async()=>{try{const[ee,pe]=await Promise.all([ys.getSystemLogs(),ys.getSystemSettings()]);v(ee),ve(pe.maintenance_mode?.enabled||!1)}catch(ee){console.error("Error loading system data:",ee)}},je=async(ee,pe,Ye)=>{const at=pe==="approve"?"approved":"cancelled";try{const It=c.find(hs=>hs.id===ee);await L.from("events").update({status:at}).eq("id",ee),await Ja.logActivity(pe==="approve"?"approve_event":"reject_event","event",ee,{event_title:It?.title_ar,comment:Ye}),It?.organizer_id&&await ys.sendNotification({userIds:[It.organizer_id],title:pe==="approve"?"تم قبول الفعالية":"تم رفض الفعالية",message:pe==="approve"?`تم قبول فعالية "${It.title_ar}" ونشرها على المنصة`:`تم رفض فعالية "${It.title_ar}". ${Ye?`السبب: ${Ye}`:"يرجى مراجعة التفاصيل والمحاولة مرة أخرى"}`,type:pe==="approve"?"approval":"rejection"}),Me.success(`تم ${pe==="approve"?"قبول":"رفض"} الفعالية`),d(hs=>hs.filter(Fs=>Fs.id!==ee)),ls()}catch{Me.error("حدث خطأ")}},ne=async(ee,pe,Ye)=>{const at=pe==="approve"?"approved":"cancelled";try{const It=h.find(hs=>hs.id===ee);await L.from("services").update({status:at}).eq("id",ee),await Ja.logActivity(pe==="approve"?"approve_service":"reject_service","service",ee,{service_name:It?.name_ar,comment:Ye}),It?.provider_id&&await ys.sendNotification({userIds:[It.provider_id],title:pe==="approve"?"تم قبول الخدمة":"تم رفض الخدمة",message:pe==="approve"?`تم قبول خدمة "${It.name_ar}" ونشرها على المنصة`:`تم رفض خدمة "${It.name_ar}". ${Ye?`السبب: ${Ye}`:"يرجى مراجعة التفاصيل والمحاولة مرة أخرى"}`,type:pe==="approve"?"approval":"rejection"}),Me.success(`تم ${pe==="approve"?"قبول":"رفض"} الخدمة`),f(hs=>hs.filter(Fs=>Fs.id!==ee)),ls()}catch{Me.error("حدث خطأ")}},Ie=ee=>{W(ee),I("event"),Y(!0)},mt=ee=>{W(ee),I("service"),Y(!0)},Xt=ee=>{Le({...ee,type:"event"}),ye(!0)},Ht=ee=>{Le({...ee,type:"service"}),ye(!0)},Jt=async ee=>{if(me){ie(!0);try{me.type==="event"?await je(me.id,"reject",ee):await ne(me.id,"reject",ee),ye(!1),Le(null)}finally{ie(!1)}}},Gr=async(ee,pe,Ye,at)=>{if(at&&(at.preventDefault(),at.stopPropagation()),console.log("handleUserSuspend called:",{userId:ee,suspended:pe,user:Ye}),pe){if(!confirm("هل تريد إلغاء تعليق هذا المستخدم؟"))return;try{await ys.unsuspendUser(ee),await Ja.logActivity("unsuspend_user","user",ee,{action:"unsuspend"}),Me.success("تم إلغاء تعليق المستخدم بنجاح"),Ns()}catch(It){console.error("Error unsuspending user:",It),Me.error("فشل في إلغاء تعليق المستخدم")}}else console.log("Opening suspension dialog for user:",Ye),$e(Ye),Ve(!0),console.log("Suspension dialog state set to true")},Ws=async(ee,pe)=>{if(Ne){console.log("Confirming suspension:",{reason:ee,durationDays:pe,user:Ne});try{await ys.suspendUser(Ne.user_id,ee,pe),await Ja.logActivity("suspend_user","user",Ne.user_id,{action:"suspend",reason:ee,duration_days:pe,suspended_until:pe?new Date(Date.now()+pe*24*60*60*1e3).toISOString():null}),Ve(!1),$e(null),await G(),Me.success("تم تعليق المستخدم بنجاح"),console.log("User suspended successfully, UI refreshed")}catch(Ye){console.error("Error suspending user:",Ye),Me.error("فشل في تعليق المستخدم")}}},Hs=async ee=>{if(confirm("هل أنت متأكد من حذف هذا المستخدم؟ سيتم حذف جميع البيانات المرتبطة به."))try{await ys.deleteUser(ee),await Ja.logActivity("delete_user","user",ee,{action:"delete"}),Me.success("تم حذف المستخدم"),p(pe=>pe.filter(Ye=>Ye.user_id!==ee))}catch(pe){console.error("Error deleting user:",pe),Me.error("حدث خطأ في الحذف")}},In=async()=>{if(confirm("هل أنت متأكد من إعادة تشغيل النظام؟ قد يستغرق هذا بضع دقائق."))try{Me.info("جاري إعادة تشغيل النظام..."),await new Promise(ee=>setTimeout(ee,2e3)),window.location.reload()}catch{Me.error("حدث خطأ في إعادة التشغيل")}},Gs=async(ee,pe)=>{try{await ys.updateUserRole(ee,pe),await Ja.logActivity("change_user_role","user",ee,{new_role:pe}),Me.success("تم تحديث دور المستخدم"),p(Ye=>Ye.map(at=>at.user_id===ee?{...at,user_roles:[{role:pe}]}:at))}catch(Ye){console.error("Error updating role:",Ye),Me.error("حدث خطأ في تحديث الدور")}},cn=async ee=>{if(confirm("هل أنت متأكد من حذف هذه الفئة؟"))try{await ys.deleteCategory(ee),Me.success("تم حذف الفئة"),ae()}catch{Me.error("حدث خطأ في الحذف")}},Kr=()=>{const ee=[["الشهر","المبلغ"],...y.map(at=>[at.month,at.amount])].map(at=>at.join(",")).join(`
`),pe=new Blob([ee],{type:"text/csv;charset=utf-8;"}),Ye=document.createElement("a");Ye.href=URL.createObjectURL(pe),Ye.download=`financial-report-${new Date().toISOString()}.csv`,Ye.click(),Me.success("تم تصدير التقرير")},dn=async ee=>{try{await ys.retryPayment(ee),Me.success("جاري إعادة محاولة الدفع"),ke()}catch{Me.error("حدث خطأ")}},Ln=async()=>{if(confirm("هل تريد حذف سجلات الأخطاء القديمة (أكثر من 7 أيام)؟"))try{await ys.clearSystemLogs(),Me.success("تم تنظيف السجلات"),Ce()}catch{Me.error("حدث خطأ")}},Mr=async()=>{try{const ee=!H;await ys.updateSystemSetting("maintenance_mode",{enabled:ee,message:"الموقع تحت الصيانة حالياً"}),ve(ee),Me.success(ee?"تم تفعيل وضع الصيانة":"تم إيقاف وضع الصيانة"),ee&&setTimeout(()=>window.location.reload(),1e3)}catch{Me.error("حدث خطأ")}},ir=async()=>{if(confirm("هل تريد إنشاء نسخة احتياطية من قاعدة البيانات؟"))try{Me.info("جاري إنشاء النسخة الاحتياطية...");const{data:ee,error:pe}=await L.functions.invoke("backup-database");if(pe)throw pe;Me.success(`تم إنشاء النسخة الاحتياطية: ${ee.fileName}`),await Ja.logActivity("database_backup","system","backup",ee)}catch(ee){console.error("Backup error:",ee),Me.error("حدث خطأ في إنشاء النسخة الاحتياطية: "+ee.message)}};if(t||a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(s!=="admin")return e.jsx(Wu,{to:"/",replace:!0});const Zs=m.filter(ee=>{const pe=ee.full_name?.toLowerCase().includes(R.toLowerCase()),Ye=U==="all"||ee.user_roles?.[0]?.role===U,at=te==="all"||te==="suspended"&&ee.suspended||te==="active"&&!ee.suspended;return pe&&Ye&&at});return e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"لوحة التحكم الإدارية"}),e.jsx("p",{className:"text-muted-foreground",children:"إدارة ومراقبة شاملة لمنصة أدرينا"})]}),e.jsxs(Hr,{value:E,onValueChange:P,className:"space-y-6",children:[e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(Dr,{className:"inline-flex w-max min-w-full h-auto flex-wrap gap-2 p-2 bg-muted rounded-lg",children:[e.jsx(rt,{value:"overview",className:"whitespace-nowrap",children:"نظرة عامة"}),e.jsx(rt,{value:"reviews",className:"whitespace-nowrap",children:"المراجعات"}),e.jsx(rt,{value:"users",className:"whitespace-nowrap",children:"المستخدمون"}),e.jsx(rt,{value:"suspended",className:"whitespace-nowrap",children:"المعلقون"}),e.jsx(rt,{value:"content",className:"whitespace-nowrap",children:"المحتوى"}),e.jsx(rt,{value:"service-categories",className:"whitespace-nowrap",children:"تصنيفات الخدمات"}),e.jsx(rt,{value:"regional-groups",className:"whitespace-nowrap",children:"مجموعات إقليمية"}),e.jsx(rt,{value:"finance",className:"whitespace-nowrap",children:"المالية"}),e.jsx(rt,{value:"system",className:"whitespace-nowrap",children:"النظام"}),e.jsx(rt,{value:"notifications",className:"whitespace-nowrap",children:"الإشعارات"}),e.jsx(rt,{value:"activity",className:"whitespace-nowrap",children:"سجل النشاطات"})]})}),e.jsxs(jt,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي المستخدمين"}),e.jsx(_t,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.totalUsers}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.userGrowth," من الشهر الماضي"]})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الفعاليات"}),e.jsx(kt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.totalEvents}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.eventGrowth," من الشهر الماضي"]})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الخدمات"}),e.jsx(tx,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.totalServices}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"خدمة نشطة"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الإيرادات"}),e.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[r.totalRevenue.toLocaleString()," ر.س"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.revenueGrowth," من الشهر الماضي"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"إحصائيات سريعة"})}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"الفئات"}),e.jsx("span",{className:"font-semibold",children:r.totalCategories})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"الحجوزات النشطة"}),e.jsx("span",{className:"font-semibold",children:r.activeBookings})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"بانتظار المراجعة"}),e.jsx(ge,{variant:"outline",children:r.pendingReviews})]})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Uu,{className:"h-5 w-5"}),"حالة النظام"]})}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"قاعدة البيانات"}),e.jsx(ge,{variant:"default",children:"متصلة"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"وضع الصيانة"}),e.jsx(ge,{variant:H?"destructive":"default",children:H?"مفعل":"معطل"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"عدد السجلات"}),e.jsx("span",{className:"font-semibold",children:S.length})]})]})]})]})]}),e.jsxs(jt,{value:"reviews",className:"space-y-6",children:[e.jsx(tN,{items:c,type:"events",onRefresh:O}),e.jsx(tN,{items:h,type:"services",onRefresh:O}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{children:["الفعاليات المعلقة (",c.length,")"]}),e.jsx(Je,{children:"فعاليات تحتاج مراجعة وموافقة"})]}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:c.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"لا توجد فعاليات معلقة"}):c.map(ee=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold",children:ee.title_ar}),e.jsx(ge,{variant:"outline",children:"معلق"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[ee.description_ar?.substring(0,100),"..."]}),ee.requires_license&&e.jsxs(Os,{className:"mb-3",children:[e.jsx(Ms,{className:"h-4 w-4"}),e.jsx(Is,{children:"يتطلب ترخيص"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(A,{size:"sm",variant:"outline",onClick:()=>Ie(ee),children:[e.jsx(Sr,{className:"w-4 h-4 ml-1"}),"عرض"]}),e.jsxs(A,{size:"sm",onClick:()=>je(ee.id,"approve"),children:[e.jsx(Lt,{className:"w-4 h-4 ml-1"}),"قبول"]}),e.jsxs(A,{size:"sm",variant:"destructive",onClick:()=>Xt(ee),children:[e.jsx(ci,{className:"w-4 h-4 ml-1"}),"رفض"]})]})]},ee.id))})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{children:["الخدمات المعلقة (",h.length,")"]}),e.jsx(Je,{children:"خدمات تحتاج مراجعة وموافقة"})]}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:h.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"لا توجد خدمات معلقة"}):h.map(ee=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold",children:ee.name_ar}),e.jsx(ge,{variant:"outline",children:"معلق"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[ee.description_ar?.substring(0,100),"..."]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(A,{size:"sm",variant:"outline",onClick:()=>mt(ee),children:[e.jsx(Sr,{className:"w-4 h-4 ml-1"}),"عرض"]}),e.jsxs(A,{size:"sm",onClick:()=>ne(ee.id,"approve"),children:[e.jsx(Lt,{className:"w-4 h-4 ml-1"}),"قبول"]}),e.jsxs(A,{size:"sm",variant:"destructive",onClick:()=>Ht(ee),children:[e.jsx(ci,{className:"w-4 h-4 ml-1"}),"رفض"]})]})]},ee.id))})})]})]})]}),e.jsx(jt,{value:"users",className:"space-y-6",children:e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),"إدارة المستخدمين"]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx(Re,{placeholder:"البحث عن مستخدم...",className:"max-w-xs",value:R,onChange:ee=>D(ee.target.value)}),e.jsxs(Yt,{value:U,onValueChange:V,children:[e.jsx(qt,{className:"max-w-xs",children:e.jsx(Qt,{placeholder:"فلترة حسب الدور"})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"all",children:"جميع الأدوار"}),e.jsx(Oe,{value:"attendee",children:"حاضر"}),e.jsx(Oe,{value:"organizer",children:"منظم"}),e.jsx(Oe,{value:"provider",children:"مقدم خدمة"}),e.jsx(Oe,{value:"admin",children:"مدير"})]})]}),e.jsxs(Yt,{value:te,onValueChange:ee=>oe(ee),children:[e.jsx(qt,{className:"max-w-xs",children:e.jsx(Qt,{placeholder:"فلترة حسب الحالة"})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"all",children:"جميع المستخدمين"}),e.jsx(Oe,{value:"active",children:"نشط"}),e.jsx(Oe,{value:"suspended",children:"معلق"})]})]}),e.jsxs(A,{variant:"outline",onClick:()=>ys.exportUsers(),children:[e.jsx(di,{className:"w-4 h-4 ml-2"}),"تصدير القائمة"]})]})]}),e.jsx(B,{children:e.jsxs(Sl,{children:[e.jsx(kl,{children:e.jsxs(Mn,{children:[e.jsx(Ft,{children:"المستخدم"}),e.jsx(Ft,{children:"الدور"}),e.jsx(Ft,{children:"النقاط"}),e.jsx(Ft,{children:"الرصيد"}),e.jsx(Ft,{children:"تاريخ التسجيل"}),e.jsx(Ft,{children:"الإجراءات"})]})}),e.jsx(Cl,{children:Zs.slice(0,20).map(ee=>e.jsxs(Mn,{children:[e.jsx($t,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(ui,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:ee.full_name||"غير محدد"}),ee.suspended&&e.jsx(ge,{variant:"destructive",className:"text-xs",children:"معلق"})]})]})}),e.jsx($t,{children:e.jsx(ge,{variant:"outline",children:ee.user_roles?.[0]?.role||"غير محدد"})}),e.jsx($t,{children:ee.points_balance||0}),e.jsxs($t,{children:[ee.user_wallets?.[0]?.balance||0," ر.س"]}),e.jsx($t,{children:new Date(ee.created_at).toLocaleDateString("ar-SA")}),e.jsx($t,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(A,{size:"sm",variant:"outline",onClick:()=>{Et(ee),Xe(!0)},children:[e.jsx(Sr,{className:"w-4 h-4 ml-1"}),"عرض"]}),e.jsxs(A,{size:"sm",variant:"outline",onClick:()=>{Et(ee),Zt(!0)},children:[e.jsx(el,{className:"w-4 h-4 ml-1"}),"تعديل"]}),e.jsxs(Wr,{children:[e.jsx(so,{asChild:!0,children:e.jsxs(A,{size:"sm",variant:"outline",children:[e.jsx(fN,{className:"w-4 h-4 ml-1"}),"الدور"]})}),e.jsxs(Pr,{children:[e.jsxs(Tr,{children:[e.jsx(Rr,{children:"تغيير دور المستخدم"}),e.jsxs(Sa,{children:["اختر الدور الجديد للمستخدم ",ee.full_name]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs(Yt,{onValueChange:pe=>Gs(ee.user_id,pe),children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر الدور الجديد"})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"attendee",children:"حاضر"}),e.jsx(Oe,{value:"organizer",children:"منظم"}),e.jsx(Oe,{value:"provider",children:"مقدم خدمة"}),e.jsx(Oe,{value:"admin",children:"مدير"})]})]})})]})]}),e.jsxs(A,{type:"button",size:"sm",variant:ee.suspended?"default":"outline",onClick:pe=>Gr(ee.user_id,ee.suspended,ee,pe),children:[e.jsx(hr,{className:"w-4 h-4 ml-1"}),ee.suspended?"إلغاء":"تعليق"]}),e.jsx(A,{size:"sm",variant:"destructive",onClick:()=>Hs(ee.user_id),children:e.jsx(sn,{className:"w-4 h-4 ml-1"})})]})})]},ee.user_id))})]})})]})}),e.jsx(jt,{value:"suspended",className:"space-y-6",children:e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(hr,{className:"h-5 w-5 text-destructive"}),"المستخدمون المعلقون"]}),e.jsx(Je,{children:"قائمة بجميع المستخدمين الذين تم تعليق حساباتهم"})]}),e.jsx(B,{children:e.jsx(u7,{})})]})}),e.jsx(jt,{value:"service-categories",className:"space-y-6",children:e.jsx(m7,{})}),e.jsx(jt,{value:"regional-groups",className:"space-y-6",children:e.jsx(p7,{})}),e.jsx(jt,{value:"content",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(J,{children:"إدارة الفئات"}),e.jsx(Je,{children:"إضافة وتحرير فئات الفعاليات والخدمات"})]}),e.jsx(Ph,{onSuccess:ae})]})}),e.jsx(B,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(ee=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:ee.name_ar}),e.jsx("p",{className:"text-sm text-muted-foreground",children:ee.name})]}),e.jsx(ge,{variant:"secondary",children:ee.event_count||0})]}),ee.description_ar&&e.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[ee.description_ar.substring(0,80),"..."]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ph,{category:ee,onSuccess:ae}),e.jsx(A,{size:"sm",variant:"destructive",onClick:()=>cn(ee.id),children:e.jsx(sn,{className:"w-4 h-4"})})]})]},ee.id))})})]})}),e.jsxs(jt,{value:"finance",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(J,{children:"التقارير المالية الشهرية"}),e.jsxs(A,{size:"sm",onClick:Kr,children:[e.jsx(di,{className:"w-4 h-4 ml-2"}),"تصدير"]})]})}),e.jsx(B,{children:e.jsx("div",{className:"space-y-3",children:y.slice(0,6).map((ee,pe)=>e.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[e.jsx("span",{className:"font-medium",children:ee.month}),e.jsxs("span",{className:"text-green-600 font-bold",children:[Number(ee.amount).toLocaleString()," ر.س"]})]},pe))})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"المدفوعات المعلقة"}),e.jsx(Je,{children:"معالجة الدفعات التي لم تكتمل"})]}),e.jsx(B,{children:e.jsx("div",{className:"space-y-3",children:_.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"لا توجد مدفوعات معلقة"}):_.map(ee=>e.jsxs("div",{className:"border rounded p-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[ee.amount," ر.س"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(ee.created_at).toLocaleDateString("ar-SA")})]}),e.jsx(ge,{variant:"destructive",children:"معلق"})]}),e.jsxs(A,{size:"sm",onClick:()=>dn(ee.id),children:[e.jsx(Wi,{className:"w-4 h-4 ml-1"}),"إعادة المحاولة"]})]},ee.id))})})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(qP,{className:"h-5 w-5"}),"إحصائيات مفصلة"]})}),e.jsx(B,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 border rounded",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.totalRevenue.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"إجمالي الإيرادات"})]}),e.jsxs("div",{className:"text-center p-4 border rounded",children:[e.jsx("p",{className:"text-2xl font-bold",children:r.activeBookings}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"الحجوزات المؤكدة"})]}),e.jsxs("div",{className:"text-center p-4 border rounded",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:_.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"دفعات معلقة"})]})]})})]})]}),e.jsx(jt,{value:"system",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"سجل النظام"}),e.jsxs(Je,{children:["آخر ",S.length," حدث"]})]}),e.jsx(B,{children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:S.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"لا توجد سجلات"}):S.map(ee=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${ee.level==="ERROR"||ee.level==="CRITICAL"?"bg-red-500":ee.level==="WARNING"?"bg-yellow-500":"bg-green-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:ee.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(ee.created_at).toLocaleString("ar-SA")})]}),e.jsx(ge,{variant:ee.level==="ERROR"||ee.level==="CRITICAL"?"destructive":"secondary",children:ee.level})]},ee.id))})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"أدوات النظام"}),e.jsx(Je,{children:"إدارة وصيانة النظام"})]}),e.jsxs(B,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(De,{className:"text-base font-medium",children:"وضع الصيانة"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"منع جميع المستخدمين من الوصول للموقع عدا المدراء"})]}),e.jsxs(A,{variant:H?"destructive":"outline",onClick:Mr,children:[e.jsx(Xn,{className:"w-4 h-4 ml-2"}),H?"إيقاف الصيانة":"تفعيل الصيانة"]})]}),H&&e.jsxs(Os,{children:[e.jsx(hr,{className:"h-4 w-4"}),e.jsx(Is,{children:"وضع الصيانة مفعل حالياً. المستخدمون العاديون لا يمكنهم الوصول للموقع."})]}),e.jsxs(A,{className:"w-full",variant:"outline",onClick:In,children:[e.jsx(Wi,{className:"w-4 h-4 ml-2"}),"إعادة تشغيل النظام"]}),e.jsxs(A,{className:"w-full",variant:"outline",onClick:Ln,children:[e.jsx(hr,{className:"w-4 h-4 ml-2"}),"تنظيف سجل الأخطاء"]}),e.jsxs(A,{className:"w-full",onClick:ir,children:[e.jsx(mN,{className:"w-4 h-4 ml-2"}),"إنشاء نسخة احتياطية"]}),e.jsxs(Os,{children:[e.jsx(li,{className:"h-4 w-4"}),e.jsx(Is,{children:"سيتم حفظ النسخة الاحتياطية في مجلد documents/backups"})]})]})]})]})}),e.jsx(jt,{value:"notifications",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Sn,{className:"h-5 w-5"}),"إرسال الإشعارات"]}),e.jsx(Je,{children:"إرسال إشعارات للمستخدمين"})]}),e.jsxs(A,{onClick:()=>ce(!0),children:[e.jsx(Sn,{className:"w-4 h-4 ml-2"}),"إشعار جديد"]})]})}),e.jsx(B,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx($,{children:e.jsxs(B,{className:"pt-6 text-center",children:[e.jsx(_t,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-2xl font-bold",children:r.totalUsers}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"إجمالي المستخدمين"})]})}),e.jsx($,{children:e.jsxs(B,{className:"pt-6 text-center",children:[e.jsx(Ur,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),e.jsx("p",{className:"text-2xl font-bold",children:Math.round(r.totalUsers*.7)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"مستخدمون نشطون"})]})}),e.jsx($,{children:e.jsxs(B,{className:"pt-6 text-center",children:[e.jsx(Sn,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),e.jsx("p",{className:"text-2xl font-bold",children:"جاهز"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"النظام جاهز للإرسال"})]})})]})})]})}),e.jsx(jt,{value:"activity",children:e.jsx(c7,{})})]})]}),e.jsx(s7,{open:K,onOpenChange:ce}),e.jsx(o7,{open:ue,onOpenChange:Y,item:F,type:le}),e.jsx(l7,{open:X,onOpenChange:ye,onConfirm:Jt,itemName:me?.title_ar||me?.name_ar||"",loading:qe}),e.jsx(d7,{open:Te,onOpenChange:Ve,onConfirm:Ws,userName:Ne?.full_name||"المستخدم"}),e.jsx(h7,{open:_e,onOpenChange:Xe,user:pt}),e.jsx(f7,{open:Wt,onOpenChange:Zt,user:pt,onSuccess:G}),e.jsx(nt,{})]})},g7=s=>{const{user:t}=Ct(),[r,n]=x.useState(null),[a,o]=x.useState(!0),[c,d]=x.useState(null),h=async()=>{const[w,S,v,y]=await Promise.all([Z$.getByUser(t.id),X$.getByUserId(t.id),e8.getPointsByUserId(t.id),J$.getTransactions(t.id)]),b=w.data||[],_=S.data,k=v.data||[];y.data;const E=new Date,P=b.filter(K=>K.events&&new Date(K.events.start_date)>E).length,R=b.filter(K=>K.status==="confirmed").reduce((K,ce)=>K+(ce.total_amount||0),0),D=new Date;D.setDate(1);const U=b.filter(K=>new Date(K.created_at)>=D).length,V=b.filter(K=>K.status==="confirmed"&&new Date(K.created_at)>=D).reduce((K,ce)=>K+(ce.total_amount||0),0),te=_?.points_balance||0,oe=k.filter(K=>new Date(K.created_at)>=D).reduce((K,ce)=>K+(ce.points||0),0);n({totalBookings:b.length,upcomingEvents:P,loyaltyPoints:te,totalSpent:R,monthlyGrowth:{bookings:U,spending:V,points:oe}})},f=async()=>{const[w,S]=await Promise.all([oo.getByOrganizer(t.id),qi.bookings.getByOrganizer(t.id)]),v=w.data||[],y=S.data||[],b=y.filter(U=>U.status==="confirmed").reduce((U,V)=>U+(V.quantity||0),0),_=y.filter(U=>{const V=new Date(U.created_at),te=new Date;return te.setDate(1),U.status==="confirmed"&&V>=te}).reduce((U,V)=>U+(V.total_amount||0),0),k=new Date,E=v.filter(U=>new Date(U.start_date)>k&&U.status==="approved").length,P=new Date;P.setDate(1);const R=v.filter(U=>new Date(U.created_at)>=P).length,D=y.filter(U=>U.status==="confirmed"&&new Date(U.created_at)>=P).reduce((U,V)=>U+(V.quantity||0),0);n({totalEvents:v.length,totalAttendees:b,monthlyRevenue:_,averageRating:4.8,activeEvents:E,monthlyGrowth:{events:R,attendees:D,revenue:_}})},m=async()=>{n({totalServices:0,serviceRequests:0,monthlyRevenue:0,averageRating:0,monthlyGrowth:{services:0,requests:0,revenue:0}})},p=async()=>{n({totalUsers:0,totalEvents:0,totalRevenue:0,activeEvents:0,growthRate:0,monthlyGrowth:{users:0,events:0,revenue:0}})};return x.useEffect(()=>{if(!t)return;(async()=>{try{switch(o(!0),d(null),s){case"attendee":await h();break;case"organizer":await f();break;case"provider":await m();break;case"admin":await p();break}}catch(S){console.error("Error fetching stats:",S),d("فشل في تحميل الإحصائيات")}finally{o(!1)}})()},[t,s]),{stats:r,loading:a,error:c,refetch:async()=>{if(t)try{switch(o(!0),d(null),s){case"attendee":await h();break;case"organizer":await f();break;case"provider":await m();break;case"admin":await p();break}}catch(w){console.error("Error fetching stats:",w),d("فشل في تحميل الإحصائيات")}finally{o(!1)}}}},v7=({title:s,value:t,change:r,trend:n,icon:a,color:o="primary"})=>{const c=()=>n==="up"?e.jsx(Ur,{className:"h-4 w-4 text-green-500"}):n==="down"?e.jsx(EN,{className:"h-4 w-4 text-red-500"}):null,d=()=>n==="up"?"text-green-600":n==="down"?"text-red-600":"text-muted-foreground";return e.jsxs($,{className:"relative overflow-hidden mobile-card",children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium text-muted-foreground",children:s}),e.jsx("div",{className:`h-8 w-8 rounded-full bg-${o}/10 flex items-center justify-center`,children:a})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t}),r&&e.jsxs("div",{className:`flex items-center text-xs ${d()} mt-1`,children:[c(),e.jsx("span",{className:"ml-1",children:r})]})]})]})},y7=({userRole:s,stats:t,isLoading:r})=>{const{t:n}=Ar(),{stats:a,loading:o}=g7(s),c=r||o,d=t||a,h=()=>[{title:n("dashboardPage.totalBookings","إجمالي الحجوزات"),value:d?.totalBookings||0,change:d?.monthlyGrowth?.bookings?`+${d.monthlyGrowth.bookings} هذا الشهر`:void 0,trend:d?.monthlyGrowth?.bookings>0?"up":"neutral",icon:e.jsx(kt,{className:"h-4 w-4 text-primary"})},{title:n("dashboardPage.upcomingEvents","الفعاليات القادمة"),value:d?.upcomingEvents||0,change:d?.upcomingEvents>0?"خلال أسبوعين":"لا توجد فعاليات",trend:"neutral",icon:e.jsx(Ot,{className:"h-4 w-4 text-blue-500"})},{title:n("dashboardPage.loyaltyPoints","نقاط الولاء"),value:d?.loyaltyPoints||0,change:d?.monthlyGrowth?.points?`+${d.monthlyGrowth.points} نقطة`:void 0,trend:d?.monthlyGrowth?.points>0?"up":"neutral",icon:e.jsx(sg,{className:"h-4 w-4 text-yellow-500"})},{title:n("dashboardPage.totalSpent","إجمالي المصروفات"),value:d?.totalSpent?`${d.totalSpent.toLocaleString()} ريال`:"0 ريال",change:d?.monthlyGrowth?.spending?`+${d.monthlyGrowth.spending.toLocaleString()} ريال`:void 0,trend:d?.monthlyGrowth?.spending>0?"up":"neutral",icon:e.jsx(sr,{className:"h-4 w-4 text-green-500"})}],f=()=>[{title:"إجمالي الفعاليات",value:d?.totalEvents||0,change:d?.monthlyGrowth?.events?`+${d.monthlyGrowth.events} هذا الشهر`:void 0,trend:d?.monthlyGrowth?.events>0?"up":"neutral",icon:e.jsx(kt,{className:"h-4 w-4 text-primary"})},{title:"إجمالي المشاركين",value:d?.totalAttendees||0,change:d?.monthlyGrowth?.attendees?`+${d.monthlyGrowth.attendees} مشارك`:void 0,trend:d?.monthlyGrowth?.attendees>0?"up":"neutral",icon:e.jsx(_t,{className:"h-4 w-4 text-blue-500"})},{title:"الإيرادات الشهرية",value:d?.monthlyRevenue?`${d.monthlyRevenue.toLocaleString()} ريال`:"0 ريال",change:d?.monthlyGrowth?.revenue>0?`+${(d.monthlyGrowth.revenue/(d.monthlyRevenue||1)*100).toFixed(1)}%`:void 0,trend:d?.monthlyGrowth?.revenue>0?"up":"neutral",icon:e.jsx(sr,{className:"h-4 w-4 text-green-500"})},{title:"متوسط التقييم",value:d?.averageRating?.toFixed(1)||"0.0",change:void 0,trend:"neutral",icon:e.jsx(Kt,{className:"h-4 w-4 text-yellow-500"})},{title:"الفعاليات النشطة",value:d?.activeEvents||0,change:d?.activeEvents>0?"جارية الآن":"لا توجد فعاليات نشطة",trend:"neutral",icon:e.jsx(Ur,{className:"h-4 w-4 text-primary"})}],m=()=>[{title:"إجمالي الخدمات",value:"15",change:"+2 هذا الشهر",trend:"up",icon:e.jsx(kt,{className:"h-4 w-4 text-primary"})},{title:"طلبات الخدمة",value:"89",change:"+15 طلب",trend:"up",icon:e.jsx(_t,{className:"h-4 w-4 text-blue-500"})},{title:"الإيرادات الشهرية",value:"28,400 ريال",change:"+8%",trend:"up",icon:e.jsx(sr,{className:"h-4 w-4 text-green-500"})},{title:"متوسط التقييم",value:"4.6",change:"+0.1",trend:"up",icon:e.jsx(Kt,{className:"h-4 w-4 text-yellow-500"})}],p=()=>[{title:"إجمالي المستخدمين",value:"12,345",change:"+234 هذا الشهر",trend:"up",icon:e.jsx(_t,{className:"h-4 w-4 text-primary"})},{title:"إجمالي الفعاليات",value:"1,456",change:"+45 فعالية",trend:"up",icon:e.jsx(kt,{className:"h-4 w-4 text-blue-500"})},{title:"إجمالي الإيرادات",value:"234,500 ريال",change:"+15%",trend:"up",icon:e.jsx(sr,{className:"h-4 w-4 text-green-500"})},{title:"الفعاليات النشطة",value:"89",change:"جارية الآن",trend:"neutral",icon:e.jsx(Ur,{className:"h-4 w-4 text-yellow-500"})},{title:"معدل النمو",value:"18%",change:"+3% نمو",trend:"up",icon:e.jsx(Ur,{className:"h-4 w-4 text-primary"})}],w=(()=>{switch(s){case"attendee":return h();case"organizer":return f();case"provider":return m();case"admin":return p();default:return h()}})();return c?e.jsx("div",{className:"stats-grid",children:[1,2,3,4].map(S=>e.jsxs($,{className:"relative overflow-hidden mobile-card",children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full animate-pulse"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-16 animate-pulse mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-20 animate-pulse"})]})]},S))}):e.jsx("div",{className:"stats-grid",children:w.map((S,v)=>e.jsx(v7,{...S},v))})},j7=()=>{const{user:s,profile:t}=Ct(),{t:r,language:n}=Ar(),a=ar();is();const{data:o=[],isLoading:c}=rr({queryKey:["organizer-events",s?.id],queryFn:()=>qi.events.getByOrganizer(s?.id||""),enabled:!!s?.id}),{data:d=[],isLoading:h}=rr({queryKey:["organizer-bookings",s?.id],queryFn:()=>qi.bookings.getByOrganizer(s?.id||""),enabled:!!s?.id}),f={totalEvents:Array.isArray(o)?o.length:0,totalRevenue:Array.isArray(d)?d.reduce((p,j)=>p+Number(j.total_amount),0):0,totalAttendees:Array.isArray(d)?d.filter(p=>p.status==="confirmed").length:0,activeEvents:Array.isArray(o)?o.filter(p=>p.status==="active").length:0,avgRating:4.7},m=Array.isArray(d)?d.sort((p,j)=>new Date(j.created_at).getTime()-new Date(p.created_at).getTime()).slice(0,5):[];return e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome, ",t?.full_name||"Organizer","!"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your events and track your business performance"})]}),e.jsxs(A,{className:"gap-2",onClick:()=>a("/create-event"),children:[e.jsx(Cr,{className:"h-4 w-4"}),r("createNewEvent","Create New Event")]})]}),e.jsx(y7,{userRole:"organizer",stats:f,isLoading:c||h}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"h-5 w-5"}),"My Active Events"]}),e.jsx(A,{variant:"outline",size:"sm",onClick:()=>a("/manage-events"),children:r("viewAll","View All")})]}),e.jsx(Je,{children:"Events currently available for booking"})]}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:Array.isArray(o)?o.map(p=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex-shrink-0",children:p.image_url&&e.jsx("img",{src:p.image_url,alt:p.title_ar||p.title,className:"w-full h-full object-cover rounded-lg"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:p.title_ar||p.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(kt,{className:"h-3 w-3"}),new Date(p.start_date).toLocaleDateString("ar-SA")]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-3 w-3"}),p.location_ar||p.location]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(ge,{variant:"secondary",children:[p.current_attendees||0,"/",p.max_attendees," participants"]}),e.jsxs(ge,{variant:"outline",children:[(p.price||0).toLocaleString()," SAR"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(A,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>a(`/event/${p.id}`),children:[e.jsx(Sr,{className:"h-3 w-3"}),r("view","View")]}),e.jsxs(A,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>a("/qr-scanner"),children:[e.jsx(Tc,{className:"h-3 w-3"}),"QR"]}),e.jsxs(A,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>a(`/manage-events?edit=${p.id}`),children:[e.jsx(Xn,{className:"h-3 w-3"}),r("manage","Manage")]})]})]},p.id)):[]})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),"Recent Bookings"]}),e.jsx(A,{variant:"outline",size:"sm",children:"View All"})]}),e.jsx(Je,{children:"Latest bookings on your events"})]}),e.jsx(B,{children:e.jsx("div",{className:"space-y-3",children:Array.isArray(m)?m.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium",children:["Booking #",p.booking_reference]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(p.created_at).toLocaleDateString("en-US")})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("p",{className:"font-medium",children:[p.total_amount," SAR"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",day:"numeric",month:"short"}).format(new Date(p.created_at))})]}),e.jsx(ge,{variant:p.status==="confirmed"?"default":"secondary",children:p.status==="confirmed"?"Confirmed":"Pending"})]},p.id)):[]})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"Quick Actions"}),e.jsx(Je,{children:"Most used activities in your account"})]}),e.jsx(B,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(A,{variant:"outline",className:"h-auto p-4 flex flex-col gap-2",onClick:()=>a("/create-event"),children:[e.jsx(Cr,{className:"h-6 w-6"}),e.jsx("span",{children:r("createEvent.title","Create Event")})]}),e.jsxs(A,{variant:"outline",className:"h-auto p-4 flex flex-col gap-2",onClick:()=>a("/qr-scanner"),children:[e.jsx(Tc,{className:"h-6 w-6"}),e.jsx("span",{children:r("qrScanner","QR Scanner")})]}),e.jsxs(A,{variant:"outline",className:"h-auto p-4 flex flex-col gap-2",onClick:()=>a("/wallet"),children:[e.jsx(Jn,{className:"h-6 w-6"}),e.jsx("span",{children:r("wallet.title","Wallet")})]}),e.jsxs(A,{variant:"outline",className:"h-auto p-4 flex flex-col gap-2",onClick:()=>a("/dashboard"),children:[e.jsx(Ur,{className:"h-6 w-6"}),e.jsx("span",{children:r("reports","Reports")})]})]})})]})]})}),e.jsx(nt,{})]})},w7=()=>{const{user:s,profile:t}=Ct(),{toast:r}=is(),[n,a]=x.useState([]),[o,c]=x.useState([]),[d,h]=x.useState([]),[f,m]=x.useState({totalServices:0,totalRevenue:0,totalBookings:0,activeServices:0,avgRating:0}),[p,j]=x.useState(!0);x.useEffect(()=>{s&&w()},[s]);const w=async()=>{if(s)try{j(!0);const{data:v,error:y}=await ph.getByProvider(s.id);if(y)throw y;const{services:b,requests:_}=await ph.getProviderStats(s.id),[k,E]=await Promise.all([Qu.getProviderBookings(s.id),Qu.getProviderRevenue(s.id)]);if(b.error)throw b.error;if(_.error)throw _.error;const P=b.data||[],R=_.data||[];a(v||[]),c(R||[]),k.data&&h(k.data);const D=P.filter(H=>H.status==="approved").length,U=P.filter(H=>H.status==="approved"),V=R.filter(H=>H.status==="accepted"&&H.negotiated_price).reduce((H,ve)=>H+(ve.negotiated_price||0),0),te=E.totalRevenue||0,oe=V+te,K=U.map(H=>H.id),ce=k.data?.filter(H=>K.includes(H.service_id)).length||0;m({totalServices:U.length,totalRevenue:oe,totalBookings:R.filter(H=>H.status==="accepted").length+ce,activeServices:D,avgRating:0})}catch(v){console.error("Error fetching provider data:",v),r({title:"خطأ",description:"حدث خطأ في جلب البيانات",variant:"destructive"})}finally{j(!1)}},S=async(v,y)=>{try{const{error:b}=await Qu.updateStatus(v,y);if(b)throw b;r({title:"تم تحديث الحجز",description:`تم ${y==="confirmed"?"تأكيد":y==="completed"?"إكمال":"إلغاء"} الحجز بنجاح`}),w()}catch(b){console.error("Error updating booking status:",b),r({title:"خطأ",description:"حدث خطأ أثناء تحديث حالة الحجز",variant:"destructive"})}};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome, ",t?.full_name||"Service Provider","!"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your services and track organizer requests"})]}),e.jsx(A,{asChild:!0,className:"gap-2",children:e.jsxs(Fe,{to:"/create-service",children:[e.jsx(Cr,{className:"h-4 w-4"}),"Add New Service"]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-5",children:[e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"Total Services"}),e.jsx(yc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.totalServices}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+1 this month"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[f.totalRevenue.toLocaleString()," SAR"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+20% from last month"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"Total Bookings"}),e.jsx(_t,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.totalBookings}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12 this month"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"Active Services"}),e.jsx(Ur,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:f.activeServices}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Available for booking"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"Average Rating"}),e.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:f.avgRating}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Out of 5 stars"})]})]})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(yc,{className:"h-5 w-5"}),"My Active Services"]}),e.jsx(A,{variant:"outline",size:"sm",children:"View All"})]}),e.jsx(Je,{children:"Services currently available for booking"})]}),e.jsx(B,{children:p?e.jsx("div",{className:"text-center py-8",children:"Loading..."}):n.length>0?e.jsx("div",{className:"space-y-4",children:n.slice(0,3).map(v=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex-shrink-0",children:v.image_url?e.jsx("img",{src:v.image_url,alt:v.name_ar||v.name,className:"w-full h-full object-cover rounded-lg"}):e.jsx("div",{className:"w-full h-full bg-muted rounded-lg flex items-center justify-center",children:e.jsx(yc,{className:"h-6 w-6 text-muted-foreground"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:v.name_ar||v.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[e.jsx("span",{children:"Service"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-3 w-3"}),v.location_ar||v.location||"Not specified"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(ge,{variant:v.status==="approved"?"default":"secondary",children:v.status==="approved"?"Active":v.status==="pending"?"Pending":"Inactive"}),v.featured&&e.jsx(ge,{variant:"outline",children:"Featured"})]})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("p",{className:"font-semibold",children:[v.price," SAR"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v.duration_minutes?`${v.duration_minutes} minutes`:"Service price"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{asChild:!0,variant:"outline",size:"sm",className:"gap-1",children:e.jsxs(Fe,{to:`/service/${v.id}`,children:[e.jsx(Sr,{className:"h-3 w-3"}),"View"]})}),e.jsx(A,{asChild:!0,variant:"outline",size:"sm",className:"gap-1",children:e.jsxs(Fe,{to:"/manage-services",children:[e.jsx(Xn,{className:"h-3 w-3"}),"Manage"]})})]})]},v.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No services currently available"})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(ni,{className:"h-5 w-5"}),"طلبات الخدمة"]}),e.jsx(A,{variant:"outline",size:"sm",children:"عرض الكل"})]}),e.jsx(Je,{children:"طلبات ربط الخدمات الواردة من المنظمين"})]}),e.jsx(B,{children:p?e.jsx("div",{className:"text-center py-8",children:"جاري التحميل..."}):o.length>0?e.jsx("div",{className:"space-y-4",children:o.slice(0,3).map(v=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:v.events?.title_ar||v.events?.title||"فعالية غير محددة"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.profiles?.full_name||"منظم غير محدد"})]}),e.jsx(ge,{variant:v.status==="pending"?"secondary":"default",children:v.status==="pending"?"قيد المراجعة":v.status==="accepted"?"مقبول":"مرفوض"})]}),e.jsxs("div",{className:"grid gap-2 text-sm mb-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"السعر المطلوب:"}),e.jsx("span",{className:"font-medium",children:v.requested_price?`${v.requested_price} ريال`:"غير محدد"})]}),v.negotiated_price&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"السعر المتفاوض عليه:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[v.negotiated_price," ريال"]})]})]}),v.message&&e.jsxs("p",{className:"text-sm bg-muted p-3 rounded-lg mb-3",children:['"',v.message,'"']}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:new Intl.DateTimeFormat("ar-SA",{hour:"2-digit",minute:"2-digit",day:"numeric",month:"short"}).format(new Date(v.created_at))}),v.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{size:"sm",variant:"outline",children:"رفض"}),e.jsx(A,{size:"sm",children:"قبول"})]}),v.status==="accepted"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(A,{size:"sm",variant:"outline",className:"gap-1",children:[e.jsx(En,{className:"h-3 w-3"}),"اتصال"]}),e.jsxs(A,{size:"sm",variant:"outline",className:"gap-1",children:[e.jsx(ni,{className:"h-3 w-3"}),"رسالة"]})]})]})]},v.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"لا توجد طلبات خدمة حالياً"})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),"حجوزات الخدمات"]}),e.jsx(A,{variant:"outline",size:"sm",children:"عرض الكل"})]}),e.jsx(Je,{children:"الحجوزات المباشرة للخدمات من العملاء"})]}),e.jsx(B,{children:p?e.jsx("div",{className:"text-center py-8",children:"جاري التحميل..."}):d.length>0?e.jsx("div",{className:"space-y-4",children:d.slice(0,3).map(v=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:v.services?.name_ar||v.services?.name||"خدمة غير محددة"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.profiles?.full_name||"عميل غير محدد"})]}),e.jsx(ge,{variant:v.status==="completed"?"default":v.status==="confirmed"?"secondary":v.status==="cancelled"?"destructive":"outline",children:v.status==="completed"?"مكتمل":v.status==="confirmed"?"مؤكد":v.status==="cancelled"?"ملغي":"معلق"})]}),e.jsxs("div",{className:"grid gap-2 text-sm mb-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"قيمة الحجز:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[v.total_amount," ريال"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"موعد الخدمة:"}),e.jsx("span",{className:"font-medium",children:new Date(v.service_date).toLocaleDateString("ar-SA")})]})]}),v.special_requests&&e.jsxs("p",{className:"text-sm bg-muted p-3 rounded-lg mb-3",children:['طلبات خاصة: "',v.special_requests,'"']}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(v.created_at).toLocaleDateString("ar-SA")}),v.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{size:"sm",variant:"outline",onClick:()=>S(v.id,"cancelled"),children:"رفض"}),e.jsx(A,{size:"sm",onClick:()=>S(v.id,"confirmed"),children:"تأكيد"})]}),v.status==="confirmed"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{size:"sm",onClick:()=>S(v.id,"completed"),children:"إكمال الخدمة"}),e.jsxs(A,{size:"sm",variant:"outline",className:"gap-1",children:[e.jsx(En,{className:"h-3 w-3"}),"اتصال"]})]})]})]},v.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"لا توجد حجوزات حالياً"})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"إجراءات سريعة"}),e.jsx(Je,{children:"الأنشطة الأكثر استخداماً في حسابك"})]}),e.jsx(B,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(A,{asChild:!0,variant:"outline",className:"h-auto p-4 flex flex-col gap-2",children:e.jsxs(Fe,{to:"/create-service",children:[e.jsx(Cr,{className:"h-6 w-6"}),e.jsx("span",{children:"إضافة خدمة"})]})}),e.jsxs(A,{variant:"outline",className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(ni,{className:"h-6 w-6"}),e.jsx("span",{children:"الرسائل"})]}),e.jsxs(A,{variant:"outline",className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(Jn,{className:"h-6 w-6"}),e.jsx("span",{children:"المحفظة"})]}),e.jsxs(A,{variant:"outline",className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(Ur,{className:"h-6 w-6"}),e.jsx("span",{children:"التقارير"})]})]})})]})]})}),e.jsx(nt,{})]})},b7=()=>{const{user:s,profile:t}=Ct(),[r,n]=x.useState(!0),[a,o]=x.useState([]),[c,d]=x.useState([]),[h,f]=x.useState({eventsAttended:0,totalPoints:0,favoriteOrganizers:0,upcomingBookings:0});x.useEffect(()=>{s?.id&&m()},[s?.id]);const m=async()=>{try{n(!0);const{data:p,error:j}=await L.from("bookings").select("*").eq("user_id",s?.id).order("created_at",{ascending:!1});if(j)throw j;const w=p?.map(P=>P.event_id)||[];let S=[];if(w.length>0){const{data:P}=await L.from("events").select("*").in("id",w);S=P||[]}const v=new Date,y=p?.filter(P=>{const R=S.find(D=>D.id===P.event_id);return R&&new Date(R.start_date)>v})||[],b=p?.filter(P=>{const R=S.find(D=>D.id===P.event_id);return R&&new Date(R.end_date)<v})||[],_=y.map(P=>({...P,events:S.find(R=>R.id===P.event_id)}));o(_.slice(0,5));const{data:k}=await L.from("profiles").select("points_balance").eq("user_id",s?.id).single(),{data:E}=await L.from("events").select("*").eq("status","approved").order("created_at",{ascending:!1}).limit(4);d(E||[]),f({eventsAttended:b.length,totalPoints:k?.points_balance||0,favoriteOrganizers:new Set(S?.map(P=>P.organizer_id)).size,upcomingBookings:y.length})}catch(p){console.error("Error loading dashboard data:",p),Me.error("خطأ في تحميل بيانات لوحة التحكم")}finally{n(!1)}};return r?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome, ",t?.full_name||"User","!"]}),e.jsx("p",{className:"text-muted-foreground",children:"Explore the latest events and book your next adventure"})]}),e.jsxs(A,{className:"gap-2",children:[e.jsx(an,{className:"h-4 w-4"}),"Explore Events"]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"Events Attended"}),e.jsx(kt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.eventsAttended}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 from last month"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"Loyalty Points"}),e.jsx(Pc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:h.totalPoints}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+150 points this month"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"Favorite Organizers"}),e.jsx(Bi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.favoriteOrganizers}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+1 new organizer"})]})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"Upcoming Bookings"}),e.jsx(SN,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.upcomingBookings}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"In the next 2 weeks"})]})]})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(nr,{className:"h-5 w-5"}),"My Upcoming Events"]}),e.jsx(A,{variant:"outline",size:"sm",children:"View All"})]}),e.jsx(Je,{children:"Events you booked that are coming soon"})]}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:a.map(p=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:p.events?.title||"فعالية غير محددة"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(kt,{className:"h-3 w-3"}),p.events?.start_date?new Date(p.events.start_date).toLocaleDateString("ar-SA"):"تاريخ غير محدد"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-3 w-3"}),p.events?.location||"موقع غير محدد"]})]})]}),e.jsxs("div",{className:"text-left",children:[e.jsx(ge,{variant:p.status==="confirmed"?"default":"secondary",children:p.status==="confirmed"?"Confirmed":"Pending"}),e.jsxs("p",{className:"text-sm font-medium mt-1",children:[p.events?.price||0," SAR"]})]}),e.jsx(A,{variant:"outline",size:"sm",children:"Details"})]},p.id))})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Bi,{className:"h-5 w-5"}),"Favorite Events"]}),e.jsx(A,{variant:"outline",size:"sm",children:"View All"})]}),e.jsx(Je,{children:"Events you added to your favorites list"})]}),e.jsx(B,{children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:c.map(p=>e.jsxs("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold",children:p.title||"Unnamed Event"}),e.jsx(Bi,{className:"h-4 w-4 text-red-500 fill-current"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Event Organizer"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Kt,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:"4.8"})]}),e.jsxs("span",{className:"text-sm font-medium",children:[p.price||0," SAR"]})]})]},p.id))})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"Quick Actions"}),e.jsx(Je,{children:"Most used activities in your account"})]}),e.jsx(B,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(A,{variant:"outline",className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(an,{className:"h-6 w-6"}),e.jsx("span",{children:"Explore Events"})]}),e.jsxs(A,{variant:"outline",className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(Pc,{className:"h-6 w-6"}),e.jsx("span",{children:"Redeem Points"})]}),e.jsxs(A,{variant:"outline",className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(_t,{className:"h-6 w-6"}),e.jsx("span",{children:"My Groups"})]})]})})]})]})}),e.jsx(nt,{})]})},N7=Sf({group_name:Dt().min(3,"اسم المجموعة يجب أن يكون 3 أحرف على الأقل"),group_type:kv(["event","region"]),event_id:Dt().optional(),max_members:wa().min(2,"أقل عدد أعضاء هو 2").max(500,"أقصى عدد أعضاء هو 500"),group_link:Dt().url("رابط غير صحيح").optional().or(zU(""))}),_7=({events:s=[],onGroupCreated:t})=>{const{user:r}=Ct(),{t:n}=Ar(),{toast:a}=is(),[o,c]=x.useState(!1),[d,h]=x.useState(!1),f=Nf({resolver:_f(N7),defaultValues:{group_name:"",group_type:"event",event_id:"",max_members:50,group_link:""}}),m=f.watch("group_type"),p=async j=>{if(!r){a({title:"خطأ",description:"يجب تسجيل الدخول أولاً",variant:"destructive"});return}h(!0);try{const{error:w}=await L.from("event_groups").insert({group_name:j.group_name,group_type:j.group_type,event_id:j.group_type==="event"&&j.event_id||null,max_members:j.max_members,group_link:j.group_link||null,created_by:r.id,current_members:1});if(w)throw w;a({title:"تم بنجاح!",description:"تم إنشاء المجموعة بنجاح"}),f.reset(),c(!1),t?.()}catch(w){console.error("Error creating group:",w),a({title:"خطأ",description:"حدث خطأ أثناء إنشاء المجموعة",variant:"destructive"})}finally{h(!1)}};return e.jsxs(Wr,{open:o,onOpenChange:c,children:[e.jsx(so,{asChild:!0,children:e.jsxs(A,{className:"gap-2",children:[e.jsx(Cr,{className:"h-4 w-4"}),n("createGroup","إنشاء مجموعة")]})}),e.jsxs(Pr,{className:"sm:max-w-[500px]",children:[e.jsxs(Tr,{children:[e.jsxs(Rr,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),n("createNewGroup","إنشاء مجموعة جديدة")]}),e.jsx(Sa,{children:n("createGroupDescription","أنشئ مجموعة للتواصل مع المشاركين في فعالياتك أو منطقتك")})]}),e.jsx(kf,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(p),className:"space-y-4",children:[e.jsx(ut,{control:f.control,name:"group_name",render:({field:j})=>e.jsxs(it,{children:[e.jsx(ot,{children:n("groupName","اسم المجموعة")}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"مثال: مغامرو الرياض",...j})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:f.control,name:"group_type",render:({field:j})=>e.jsxs(it,{children:[e.jsx(ot,{children:n("groupType","نوع المجموعة")}),e.jsxs(Yt,{onValueChange:j.onChange,defaultValue:j.value,children:[e.jsx(lt,{children:e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر نوع المجموعة"})})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"event",children:n("eventGroup","مجموعة فعالية")}),e.jsx(Oe,{value:"region",children:n("regionGroup","مجموعة منطقة")})]})]}),e.jsx(ht,{})]})}),m==="event"&&e.jsx(ut,{control:f.control,name:"event_id",render:({field:j})=>e.jsxs(it,{children:[e.jsx(ot,{children:n("selectEvent","اختر الفعالية")}),e.jsxs(Yt,{onValueChange:j.onChange,value:j.value,children:[e.jsx(lt,{children:e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر الفعالية"})})}),e.jsx(Vt,{children:s.map(w=>e.jsx(Oe,{value:w.id,children:w.title_ar},w.id))})]}),e.jsx(ht,{})]})}),e.jsx(ut,{control:f.control,name:"max_members",render:({field:j})=>e.jsxs(it,{children:[e.jsx(ot,{children:n("maxMembers","أقصى عدد أعضاء")}),e.jsx(lt,{children:e.jsx(Re,{type:"number",min:"2",max:"500",...j,onChange:w=>j.onChange(Number(w.target.value))})}),e.jsx(ht,{})]})}),e.jsx(ut,{control:f.control,name:"group_link",render:({field:j})=>e.jsxs(it,{children:[e.jsx(ot,{children:n("groupLink","رابط المجموعة (اختياري)")}),e.jsx(lt,{children:e.jsx(Re,{placeholder:"https://wa.me/...",...j})}),e.jsx(ht,{})]})}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>c(!1),children:n("cancel","إلغاء")}),e.jsx(A,{type:"submit",disabled:d,children:d?n("creating","جاري الإنشاء..."):n("create","إنشاء")})]})]})})]})]})};function S7(s,t){return x.useReducer((r,n)=>t[r][n]??r,s)}var Uv="ScrollArea",[lE]=Vs(Uv),[k7,ln]=lE(Uv),cE=x.forwardRef((s,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:o=600,...c}=s,[d,h]=x.useState(null),[f,m]=x.useState(null),[p,j]=x.useState(null),[w,S]=x.useState(null),[v,y]=x.useState(null),[b,_]=x.useState(0),[k,E]=x.useState(0),[P,R]=x.useState(!1),[D,U]=x.useState(!1),V=ft(t,oe=>h(oe)),te=cd(a);return e.jsx(k7,{scope:r,type:n,dir:te,scrollHideDelay:o,scrollArea:d,viewport:f,onViewportChange:m,content:p,onContentChange:j,scrollbarX:w,onScrollbarXChange:S,scrollbarXEnabled:P,onScrollbarXEnabledChange:R,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:D,onScrollbarYEnabledChange:U,onCornerWidthChange:_,onCornerHeightChange:E,children:e.jsx(Be.div,{dir:te,...c,ref:V,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":k+"px",...s.style}})})});cE.displayName=Uv;var dE="ScrollAreaViewport",uE=x.forwardRef((s,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...o}=s,c=ln(dE,r),d=x.useRef(null),h=ft(t,d,c.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Be.div,{"data-radix-scroll-area-viewport":"",...o,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...s.style},children:e.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});uE.displayName=dE;var oa="ScrollAreaScrollbar",Bv=x.forwardRef((s,t)=>{const{forceMount:r,...n}=s,a=ln(oa,s.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:c}=a,d=s.orientation==="horizontal";return x.useEffect(()=>(d?o(!0):c(!0),()=>{d?o(!1):c(!1)}),[d,o,c]),a.type==="hover"?e.jsx(C7,{...n,ref:t,forceMount:r}):a.type==="scroll"?e.jsx(E7,{...n,ref:t,forceMount:r}):a.type==="auto"?e.jsx(hE,{...n,ref:t,forceMount:r}):a.type==="always"?e.jsx(qv,{...n,ref:t}):null});Bv.displayName=oa;var C7=x.forwardRef((s,t)=>{const{forceMount:r,...n}=s,a=ln(oa,s.__scopeScrollArea),[o,c]=x.useState(!1);return x.useEffect(()=>{const d=a.scrollArea;let h=0;if(d){const f=()=>{window.clearTimeout(h),c(!0)},m=()=>{h=window.setTimeout(()=>c(!1),a.scrollHideDelay)};return d.addEventListener("pointerenter",f),d.addEventListener("pointerleave",m),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",f),d.removeEventListener("pointerleave",m)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(Ls,{present:r||o,children:e.jsx(hE,{"data-state":o?"visible":"hidden",...n,ref:t})})}),E7=x.forwardRef((s,t)=>{const{forceMount:r,...n}=s,a=ln(oa,s.__scopeScrollArea),o=s.orientation==="horizontal",c=Df(()=>h("SCROLL_END"),100),[d,h]=S7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(d==="idle"){const f=window.setTimeout(()=>h("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(f)}},[d,a.scrollHideDelay,h]),x.useEffect(()=>{const f=a.viewport,m=o?"scrollLeft":"scrollTop";if(f){let p=f[m];const j=()=>{const w=f[m];p!==w&&(h("SCROLL"),c()),p=w};return f.addEventListener("scroll",j),()=>f.removeEventListener("scroll",j)}},[a.viewport,o,h,c]),e.jsx(Ls,{present:r||d!=="hidden",children:e.jsx(qv,{"data-state":d==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Se(s.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Se(s.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),hE=x.forwardRef((s,t)=>{const r=ln(oa,s.__scopeScrollArea),{forceMount:n,...a}=s,[o,c]=x.useState(!1),d=s.orientation==="horizontal",h=Df(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;c(d?f:m)}},10);return fl(r.viewport,h),fl(r.content,h),e.jsx(Ls,{present:n||o,children:e.jsx(qv,{"data-state":o?"visible":"hidden",...a,ref:t})})}),qv=x.forwardRef((s,t)=>{const{orientation:r="vertical",...n}=s,a=ln(oa,s.__scopeScrollArea),o=x.useRef(null),c=x.useRef(0),[d,h]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=gE(d.viewport,d.content),m={...n,sizes:d,onSizesChange:h,hasThumb:f>0&&f<1,onThumbChange:j=>o.current=j,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:j=>c.current=j};function p(j,w){return M7(j,c.current,d,w)}return r==="horizontal"?e.jsx(P7,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const j=a.viewport.scrollLeft,w=sN(j,d,a.dir);o.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:j=>{a.viewport&&(a.viewport.scrollLeft=j)},onDragScroll:j=>{a.viewport&&(a.viewport.scrollLeft=p(j,a.dir))}}):r==="vertical"?e.jsx(T7,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const j=a.viewport.scrollTop,w=sN(j,d);o.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:j=>{a.viewport&&(a.viewport.scrollTop=j)},onDragScroll:j=>{a.viewport&&(a.viewport.scrollTop=p(j))}}):null}),P7=x.forwardRef((s,t)=>{const{sizes:r,onSizesChange:n,...a}=s,o=ln(oa,s.__scopeScrollArea),[c,d]=x.useState(),h=x.useRef(null),f=ft(t,h,o.onScrollbarXChange);return x.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),e.jsx(mE,{"data-orientation":"horizontal",...a,ref:f,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Af(r)+"px",...s.style},onThumbPointerDown:m=>s.onThumbPointerDown(m.x),onDragScroll:m=>s.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(o.viewport){const j=o.viewport.scrollLeft+m.deltaX;s.onWheelScroll(j),yE(j,p)&&m.preventDefault()}},onResize:()=>{h.current&&o.viewport&&c&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Rh(c.paddingLeft),paddingEnd:Rh(c.paddingRight)}})}})}),T7=x.forwardRef((s,t)=>{const{sizes:r,onSizesChange:n,...a}=s,o=ln(oa,s.__scopeScrollArea),[c,d]=x.useState(),h=x.useRef(null),f=ft(t,h,o.onScrollbarYChange);return x.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),e.jsx(mE,{"data-orientation":"vertical",...a,ref:f,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Af(r)+"px",...s.style},onThumbPointerDown:m=>s.onThumbPointerDown(m.y),onDragScroll:m=>s.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(o.viewport){const j=o.viewport.scrollTop+m.deltaY;s.onWheelScroll(j),yE(j,p)&&m.preventDefault()}},onResize:()=>{h.current&&o.viewport&&c&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Rh(c.paddingTop),paddingEnd:Rh(c.paddingBottom)}})}})}),[R7,fE]=lE(oa),mE=x.forwardRef((s,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:o,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:f,onWheelScroll:m,onResize:p,...j}=s,w=ln(oa,r),[S,v]=x.useState(null),y=ft(t,V=>v(V)),b=x.useRef(null),_=x.useRef(""),k=w.viewport,E=n.content-n.viewport,P=ps(m),R=ps(h),D=Df(p,10);function U(V){if(b.current){const te=V.clientX-b.current.left,oe=V.clientY-b.current.top;f({x:te,y:oe})}}return x.useEffect(()=>{const V=te=>{const oe=te.target;S?.contains(oe)&&P(te,E)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[k,S,E,P]),x.useEffect(R,[n,R]),fl(S,D),fl(w.content,D),e.jsx(R7,{scope:r,scrollbar:S,hasThumb:a,onThumbChange:ps(o),onThumbPointerUp:ps(c),onThumbPositionChange:R,onThumbPointerDown:ps(d),children:e.jsx(Be.div,{...j,ref:y,style:{position:"absolute",...j.style},onPointerDown:Se(s.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),b.current=S.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),U(V))}),onPointerMove:Se(s.onPointerMove,U),onPointerUp:Se(s.onPointerUp,V=>{const te=V.target;te.hasPointerCapture(V.pointerId)&&te.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=_.current,w.viewport&&(w.viewport.style.scrollBehavior=""),b.current=null})})})}),Th="ScrollAreaThumb",pE=x.forwardRef((s,t)=>{const{forceMount:r,...n}=s,a=fE(Th,s.__scopeScrollArea);return e.jsx(Ls,{present:r||a.hasThumb,children:e.jsx(A7,{ref:t,...n})})}),A7=x.forwardRef((s,t)=>{const{__scopeScrollArea:r,style:n,...a}=s,o=ln(Th,r),c=fE(Th,r),{onThumbPositionChange:d}=c,h=ft(t,p=>c.onThumbChange(p)),f=x.useRef(void 0),m=Df(()=>{f.current&&(f.current(),f.current=void 0)},100);return x.useEffect(()=>{const p=o.viewport;if(p){const j=()=>{if(m(),!f.current){const w=O7(p,d);f.current=w,d()}};return d(),p.addEventListener("scroll",j),()=>p.removeEventListener("scroll",j)}},[o.viewport,m,d]),e.jsx(Be.div,{"data-state":c.hasThumb?"visible":"hidden",...a,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Se(s.onPointerDownCapture,p=>{const w=p.target.getBoundingClientRect(),S=p.clientX-w.left,v=p.clientY-w.top;c.onThumbPointerDown({x:S,y:v})}),onPointerUp:Se(s.onPointerUp,c.onThumbPointerUp)})});pE.displayName=Th;var Vv="ScrollAreaCorner",xE=x.forwardRef((s,t)=>{const r=ln(Vv,s.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?e.jsx(D7,{...s,ref:t}):null});xE.displayName=Vv;var D7=x.forwardRef((s,t)=>{const{__scopeScrollArea:r,...n}=s,a=ln(Vv,r),[o,c]=x.useState(0),[d,h]=x.useState(0),f=!!(o&&d);return fl(a.scrollbarX,()=>{const m=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(m),h(m)}),fl(a.scrollbarY,()=>{const m=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(m),c(m)}),f?e.jsx(Be.div,{...n,ref:t,style:{width:o,height:d,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function Rh(s){return s?parseInt(s,10):0}function gE(s,t){const r=s/t;return isNaN(r)?0:r}function Af(s){const t=gE(s.viewport,s.content),r=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,n=(s.scrollbar.size-r)*t;return Math.max(n,18)}function M7(s,t,r,n="ltr"){const a=Af(r),o=a/2,c=t||o,d=a-c,h=r.scrollbar.paddingStart+c,f=r.scrollbar.size-r.scrollbar.paddingEnd-d,m=r.content-r.viewport,p=n==="ltr"?[0,m]:[m*-1,0];return vE([h,f],p)(s)}function sN(s,t,r="ltr"){const n=Af(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,c=t.content-t.viewport,d=o-n,h=r==="ltr"?[0,c]:[c*-1,0],f=Ix(s,h);return vE([0,c],[0,d])(f)}function vE(s,t){return r=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(s[1]-s[0]);return t[0]+n*(r-s[0])}}function yE(s,t){return s>0&&s<t}var O7=(s,t=()=>{})=>{let r={left:s.scrollLeft,top:s.scrollTop},n=0;return(function a(){const o={left:s.scrollLeft,top:s.scrollTop},c=r.left!==o.left,d=r.top!==o.top;(c||d)&&t(),r=o,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function Df(s,t){const r=ps(s),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function fl(s,t){const r=ps(t);xs(()=>{let n=0;if(s){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(s),()=>{window.cancelAnimationFrame(n),a.unobserve(s)}}},[s,r])}var jE=cE,I7=uE,L7=xE;const Wv=x.forwardRef(({className:s,children:t,...r},n)=>e.jsxs(jE,{ref:n,className:be("relative overflow-hidden",s),...r,children:[e.jsx(I7,{className:"h-full w-full rounded-[inherit]",children:t}),e.jsx(wE,{}),e.jsx(L7,{})]}));Wv.displayName=jE.displayName;const wE=x.forwardRef(({className:s,orientation:t="vertical",...r},n)=>e.jsx(Bv,{ref:n,orientation:t,className:be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...r,children:e.jsx(pE,{className:"relative flex-1 rounded-full bg-border"})}));wE.displayName=Bv.displayName;const F7=({groupId:s,groupName:t,isOwner:r=!1})=>{const{user:n}=Ct(),{t:a}=Ar(),[o,c]=x.useState([]),[d,h]=x.useState(""),[f,m]=x.useState(!1);x.useEffect(()=>{p();const v=L.channel(`group-chat-${s}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"group_messages",filter:`group_id=eq.${s}`},y=>{const b=y.new;c(_=>[..._,b])}).subscribe();return()=>{L.removeChannel(v)}},[s]);const p=async()=>{try{const{data:v,error:y}=await L.from("group_messages").select("*").eq("group_id",s).order("created_at",{ascending:!0}).limit(100);if(y)throw y;c(v||[])}catch(v){console.error("Error loading messages:",v)}},j=async()=>{if(!(!d.trim()||!n)){m(!0);try{const{error:v}=await L.from("group_messages").insert({content:d.trim(),sender_id:n.id,group_id:s});if(v)throw v;h("")}catch(v){console.error("Error sending message:",v)}finally{m(!1)}}},w=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),j())},S=v=>v.sender_id===n?.id?a("you","أنت"):a("member","عضو");return e.jsxs($,{className:"h-[500px] flex flex-col",children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsxs(J,{className:"flex items-center",children:[e.jsx(_t,{className:"w-5 h-5 ml-2"}),t]}),r&&e.jsx(A,{variant:"ghost",size:"sm",children:e.jsx(Xn,{className:"w-4 h-4"})})]}),e.jsxs(B,{className:"flex-1 flex flex-col space-y-4 p-4",children:[e.jsx(Wv,{className:"flex-1 w-full",children:e.jsx("div",{className:"space-y-2",children:o.map(v=>e.jsx("div",{className:`flex ${v.sender_id===n?.id?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[70%] rounded-lg px-3 py-2 text-sm ${v.sender_id===n?.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:[v.sender_id!==n?.id&&e.jsx("div",{className:"text-xs font-medium mb-1",children:S(v)}),e.jsx("div",{children:v.content}),e.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(v.created_at).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})})]})},v.id))})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Re,{placeholder:a("typeMessage","اكتب رسالتك..."),value:d,onChange:v=>h(v.target.value),onKeyPress:w,className:"flex-1",disabled:f}),e.jsx(A,{onClick:j,disabled:!d.trim()||f,size:"sm",children:e.jsx(wN,{className:"w-4 h-4"})})]})]})]})},$7=({groupId:s,groupName:t,isOwner:r})=>{const{user:n}=Ct(),{t:a}=Ar(),{toast:o}=is(),[c,d]=x.useState(!1),{data:h=[],refetch:f}=rr({queryKey:["group-members",s],queryFn:async()=>{const{data:v,error:y}=await L.from("group_members").select("*").eq("group_id",s).order("joined_at",{ascending:!0});if(y)throw y;return v||[]}}),m=zu(async()=>{const{data:v,error:y}=await L.from("group_members").insert({group_id:s,user_id:n?.id});if(y)throw y;return v},{onSuccess:()=>{o({title:a("success","تم بنجاح!"),description:a("joinedGroup","تم الانضمام للمجموعة")}),f()}}),p=zu(async()=>{const{data:v,error:y}=await L.from("group_members").delete().eq("group_id",s).eq("user_id",n?.id);if(y)throw y;return{data:v,error:null}},{onSuccess:()=>{o({title:a("success","تم بنجاح!"),description:a("leftGroup","تم مغادرة المجموعة")}),f()}}),j=zu(async v=>{const y=h.find(k=>k.id===v),{data:b,error:_}=await L.from("group_members").update({is_muted:!y?.is_muted}).eq("id",v);if(_)throw _;return{data:b,error:null}},{onSuccess:()=>{o({title:a("success","تم بنجاح!"),description:a("memberUpdated","تم تحديث حالة العضو")}),f()}}),w=zu(async v=>{const{data:y,error:b}=await L.from("group_members").delete().eq("id",v);if(b)throw b;return{data:y,error:null}},{onSuccess:()=>{o({title:a("success","تم بنجاح!"),description:a("memberRemoved","تم إزالة العضو")}),f()}}),S=h.some(v=>v.user_id===n?.id);return e.jsxs(Wr,{open:c,onOpenChange:d,children:[e.jsx(so,{asChild:!0,children:e.jsxs(A,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(_t,{className:"h-4 w-4"}),"الأعضاء (",h.length,")"]})}),e.jsxs(Pr,{className:"max-w-md",children:[e.jsx(Tr,{children:e.jsxs(Rr,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),"أعضاء ",t]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2",children:S?e.jsxs(A,{onClick:()=>p.mutate(void 0),disabled:p.isLoading,variant:"outline",className:"flex-1 gap-2",children:[e.jsx(nT,{className:"h-4 w-4"}),p.isLoading?a("leaving","جاري المغادرة..."):a("leaveGroup","مغادرة المجموعة")]}):e.jsxs(A,{onClick:()=>m.mutate(void 0),disabled:m.isLoading,className:"flex-1 gap-2",children:[e.jsx(RN,{className:"h-4 w-4"}),m.isLoading?a("joining","جاري الانضمام..."):a("joinGroup","انضم للمجموعة")]})}),e.jsx(Wv,{className:"h-64",children:e.jsx("div",{className:"space-y-2",children:h.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(_t,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-sm",children:[a("member","عضو")," #",v.id.slice(-4)]}),e.jsxs("div",{className:"flex items-center gap-1",children:[v.role==="admin"&&e.jsxs(ge,{variant:"default",className:"text-xs",children:[e.jsx(Ms,{className:"h-3 w-3 ml-1"}),"منظم"]}),v.is_muted&&e.jsxs(ge,{variant:"secondary",className:"text-xs",children:[e.jsx($w,{className:"h-3 w-3 ml-1"}),"مكتوم"]})]})]})]}),r&&v.user_id!==n?.id&&e.jsxs("div",{className:"flex gap-1",children:[e.jsx(A,{size:"sm",variant:"ghost",onClick:()=>j.mutate(v.id),disabled:j.isLoading,children:v.is_muted?e.jsx(aT,{className:"h-3 w-3"}):e.jsx($w,{className:"h-3 w-3"})}),e.jsx(A,{size:"sm",variant:"ghost",onClick:()=>w.mutate(v.id),disabled:w.isLoading,className:"text-destructive hover:text-destructive",children:e.jsx(sn,{className:"h-3 w-3"})})]})]},v.id))})}),h.length===0&&e.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[e.jsx(_t,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:a("noMembers","لا يوجد أعضاء في المجموعة")})]})]})]})]})},z7=()=>{const{user:s,userRole:t}=Ct(),{t:r}=Ar(),{toast:n}=is(),[a,o]=x.useState(null),[c,d]=x.useState([]),[h,f]=x.useState(""),[m,p]=x.useState(""),{data:j=[],refetch:w}=rr({queryKey:["region-groups"],queryFn:x.useCallback(()=>qi.groups.getRegionGroups(),[])}),{data:S=[],refetch:v}=rr({queryKey:["event-groups",s?.id],queryFn:x.useCallback(()=>qi.groups.getEventGroups(s?.id||""),[s?.id]),enabled:!!s?.id}),{data:y=[]}=rr({queryKey:["user-events",s?.id],queryFn:x.useCallback(()=>qi.events.getByOrganizer(s?.id||""),[s?.id]),enabled:!!s?.id&&t==="organizer"}),b=async E=>{if(!s){n({title:"خطأ",description:"يجب تسجيل الدخول أولاً",variant:"destructive"});return}try{const{data:P}=await L.from("group_members").select("id").eq("group_id",E).eq("user_id",s.id).maybeSingle();if(P){n({title:"تنبيه",description:"أنت عضو بالفعل في هذه المجموعة",variant:"default"});return}const{data:R,error:D}=await L.from("event_groups").select("current_members, max_members").eq("id",E).single();if(D)throw D;if(R.current_members>=R.max_members){n({title:"خطأ",description:"المجموعة ممتلئة",variant:"destructive"});return}const{error:U}=await L.from("group_members").insert({group_id:E,user_id:s.id,role:"member"});if(U)throw U;const{error:V}=await L.from("event_groups").update({current_members:(R.current_members||0)+1}).eq("id",E);if(V)throw V;n({title:"تم بنجاح!",description:"تم الانضمام للمجموعة"}),w(),v()}catch(P){console.error("Error joining group:",P),n({title:"خطأ",description:"حدث خطأ أثناء الانضمام للمجموعة",variant:"destructive"})}},_=()=>{w(),v()},k=(j||[]).filter(E=>E.group_name?.toLowerCase().includes(m.toLowerCase())||!1);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:r("groups.title","القروبات")}),e.jsx("p",{className:"text-muted-foreground",children:r("groupsDescription","تواصل مع المغامرين في منطقتك وفعالياتك")})]}),t==="organizer"&&e.jsx(_7,{events:Array.isArray(y)?y:[],onGroupCreated:_})]}),e.jsxs(Hr,{defaultValue:"region",className:"space-y-6",children:[e.jsxs(Dr,{className:"grid grid-cols-2 w-full max-w-md",children:[e.jsx(rt,{value:"region",children:"قروبات المناطق"}),e.jsx(rt,{value:"events",children:"قروبات الفعاليات"})]}),e.jsxs(jt,{value:"region",className:"space-y-6",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(an,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(Re,{placeholder:"البحث عن قروب منطقة...",value:m,onChange:E=>p(E.target.value),className:"pr-10"})]}),e.jsxs(A,{variant:"outline",children:[e.jsx(ag,{className:"w-4 h-4 ml-2"}),"فلترة"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.map(E=>e.jsxs($,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsxs(Z,{children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(J,{className:"text-lg",children:E.group_name}),e.jsxs(ge,{variant:"outline",children:[e.jsx(Ot,{className:"w-3 h-3 ml-1"}),E.group_type==="region"?"منطقة":"فعالية"]})]}),e.jsx(Je,{children:r("groupDescription","قروب عام لمحبي المغامرة")})]}),e.jsx(B,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(_t,{className:"w-4 h-4 ml-2"}),E.current_members," / ",E.max_members," ",r("groups.member","عضو")]}),e.jsxs(A,{size:"sm",onClick:()=>b(E.id),disabled:E.current_members>=E.max_members,children:[e.jsx(RN,{className:"w-4 h-4 ml-1"}),r("groups.joinGroup","انضم")]})]})})]},E.id))})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"إحصائيات القروبات"})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-4 bg-primary/5 rounded-lg",children:[e.jsx("h3",{className:"text-2xl font-bold text-primary",children:(j||[]).length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"قروب متاح"})]}),e.jsxs("div",{className:"text-center p-4 bg-secondary/5 rounded-lg",children:[e.jsx("h3",{className:"text-2xl font-bold text-secondary-foreground",children:(j||[]).reduce((E,P)=>E+(P.current_members||0),0)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"إجمالي الأعضاء"})]}),e.jsxs("div",{className:"text-center p-4 bg-accent/5 rounded-lg",children:[e.jsx("h3",{className:"text-2xl font-bold text-accent-foreground",children:(S||[]).filter(E=>E.created_by===s?.id).length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"قروباتي"})]})]})]})})]})]}),e.jsx(jt,{value:"events",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"space-y-4",children:(S||[]).map(E=>e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(J,{className:"text-lg",children:E.group_name}),e.jsx(Je,{children:E.event_id?"مجموعة فعالية":"مجموعة عامة"})]}),e.jsxs("div",{className:"flex space-x-1",children:[E.created_by===s?.id&&e.jsxs(ge,{variant:"default",children:[e.jsx(fN,{className:"w-3 h-3 ml-1"}),r("eventDetails.organizer","منظم")]}),e.jsx(ge,{variant:"outline",children:r("eventDetails.event","فعالية")})]})]})}),e.jsxs(B,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(_t,{className:"w-4 h-4 ml-2"}),E.current_members," / ",E.max_members," ",r("groups.member","عضو")]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(E.created_at).toLocaleDateString("ar-SA")})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(A,{size:"sm",className:"flex-1",onClick:()=>o(E),children:[e.jsx(ni,{className:"w-4 h-4 ml-1"}),r("groups.chat","دردشة")]}),e.jsx($7,{groupId:E.id,groupName:E.group_name,isOwner:E.created_by===s?.id}),E.created_by===s?.id&&e.jsx(A,{size:"sm",variant:"outline",children:e.jsx(Xn,{className:"w-4 h-4"})}),E.group_link&&e.jsx(A,{size:"sm",variant:"outline",onClick:()=>window.open(E.group_link,"_blank"),children:"WhatsApp"})]})]})]},E.id))})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"دردشة المجموعة"}),e.jsx(Je,{children:"تحديد مجموعة للبدء"})]}),e.jsx(B,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ni,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"اختر مجموعة لبدء المحادثة"})]})})]})})]})})]}),a&&e.jsx("div",{className:"mt-6",children:e.jsx(F7,{groupId:a.id,groupName:a.group_name,isOwner:a.created_by===s?.id})})]}),e.jsx(nt,{})]})},U7=()=>{const[s,t]=x.useState([]),[r,n]=x.useState(!0),{user:a}=Ct(),{unreadCount:o,markAllAsRead:c}=Uk(),{toast:d}=is();x.useEffect(()=>{a&&(h(),f())},[a]);const h=async()=>{if(a)try{const{data:v,error:y}=await L.from("notifications").select("*").eq("user_id",a.id).order("created_at",{ascending:!1}).limit(50);if(y)throw y;t(v||[])}catch(v){console.error("Error fetching notifications:",v)}finally{n(!1)}},f=()=>{if(!a)return;const v=L.channel("user-notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${a.id}`},y=>{console.log("Notification change:",y),y.eventType==="INSERT"?t(b=>[y.new,...b]):y.eventType==="UPDATE"?t(b=>b.map(_=>_.id===y.new.id?y.new:_)):y.eventType==="DELETE"&&t(b=>b.filter(_=>_.id!==y.old.id))}).subscribe();return()=>{L.removeChannel(v)}},m=async v=>{try{const{error:y}=await L.from("notifications").update({read:!0}).eq("id",v);if(y)throw y}catch(y){console.error("Error marking notification as read:",y),d({title:"خطأ",description:"حدث خطأ أثناء تحديث الإشعار",variant:"destructive"})}},p=async v=>{try{const{error:y}=await L.from("notifications").delete().eq("id",v);if(y)throw y;d({title:"تم حذف الإشعار",description:"تم حذف الإشعار بنجاح"})}catch(y){console.error("Error deleting notification:",y),d({title:"خطأ",description:"حدث خطأ أثناء حذف الإشعار",variant:"destructive"})}},j=v=>{switch(v){case"booking_confirmed":return e.jsx(Lt,{className:"w-5 h-5 text-green-600"});case"event_reminder":return e.jsx(nr,{className:"w-5 h-5 text-blue-600"});default:return e.jsx(Sn,{className:"w-5 h-5 text-gray-600"})}},w=s.filter(v=>!v.read),S=s.filter(v=>v.read);return r?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mr-2"}),e.jsx("span",{children:"جاري تحميل الإشعارات..."})]})}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"الإشعارات"}),o>0&&e.jsxs(A,{onClick:c,variant:"outline",children:["تحديد الكل كمقروء (",o,")"]})]}),e.jsxs(Hr,{defaultValue:"all",className:"w-full",children:[e.jsxs(Dr,{className:"grid w-full grid-cols-3",children:[e.jsxs(rt,{value:"all",children:["الكل (",s.length,")"]}),e.jsxs(rt,{value:"unread",children:["غير مقروء (",w.length,")"]}),e.jsxs(rt,{value:"read",children:["مقروء (",S.length,")"]})]}),e.jsx(jt,{value:"all",className:"space-y-4",children:s.length===0?e.jsx($,{children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Sn,{className:"w-12 h-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد إشعارات"}),e.jsx("p",{className:"text-muted-foreground text-center",children:"ستظهر إشعاراتك هنا عند توفرها"})]})}):s.map(v=>e.jsx($,{className:`${v.read?"":"border-primary/50 bg-primary/5"}`,children:e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[j(v.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold",children:v.title}),!v.read&&e.jsx(ge,{variant:"default",className:"text-xs",children:"جديد"})]}),e.jsx("p",{className:"text-muted-foreground mb-2",children:v.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:Gt(new Date(v.created_at),"PPp",{locale:Es})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!v.read&&e.jsx(A,{size:"sm",variant:"ghost",onClick:()=>m(v.id),children:e.jsx(Sr,{className:"w-4 h-4"})}),e.jsx(A,{size:"sm",variant:"ghost",onClick:()=>p(v.id),children:e.jsx(sn,{className:"w-4 h-4"})})]})]})})},v.id))}),e.jsx(jt,{value:"unread",className:"space-y-4",children:w.length===0?e.jsx($,{children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Lt,{className:"w-12 h-12 text-green-600 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد إشعارات غير مقروءة"}),e.jsx("p",{className:"text-muted-foreground text-center",children:"جميع إشعاراتك مقروءة!"})]})}):w.map(v=>e.jsx($,{className:"border-primary/50 bg-primary/5",children:e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[j(v.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold",children:v.title}),e.jsx(ge,{variant:"default",className:"text-xs",children:"جديد"})]}),e.jsx("p",{className:"text-muted-foreground mb-2",children:v.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:Gt(new Date(v.created_at),"PPp",{locale:Es})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{size:"sm",variant:"ghost",onClick:()=>m(v.id),children:e.jsx(Sr,{className:"w-4 h-4"})}),e.jsx(A,{size:"sm",variant:"ghost",onClick:()=>p(v.id),children:e.jsx(sn,{className:"w-4 h-4"})})]})]})})},v.id))}),e.jsx(jt,{value:"read",className:"space-y-4",children:S.length===0?e.jsx($,{children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Sn,{className:"w-12 h-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد إشعارات مقروءة"})]})}):S.map(v=>e.jsx($,{children:e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[j(v.type),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold mb-1",children:v.title}),e.jsx("p",{className:"text-muted-foreground mb-2",children:v.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:Gt(new Date(v.created_at),"PPp",{locale:Es})})]})]}),e.jsx(A,{size:"sm",variant:"ghost",onClick:()=>p(v.id),children:e.jsx(sn,{className:"w-4 h-4"})})]})})},v.id))})]})]})}),e.jsx(nt,{})]})},B7=()=>{const{user:s,userRole:t}=Ct(),{toast:r}=is(),[n,a]=x.useState(!1),[o,c]=x.useState(null),[d,h]=x.useState(""),[f,m]=x.useState([]),p=x.useRef(null);x.useEffect(()=>{t==="organizer"&&j()},[t]);const j=async()=>{try{const{data:b}=await L.from("tickets").select(`
          *,
          bookings(
            *,
            events(title_ar, start_date)
          )
        `).not("checked_in_at","is",null).order("checked_in_at",{ascending:!1}).limit(10);m(b||[])}catch(b){console.error("Error loading attendance history:",b)}},w=async()=>{a(!0),h("");try{const b=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});p.current&&(p.current.srcObject=b,p.current.play())}catch{h("لا يمكن الوصول للكاميرا. تأكد من منح الصلاحية."),a(!1)}},S=()=>{a(!1),p.current?.srcObject&&p.current.srcObject.getTracks().forEach(_=>_.stop())},v=async b=>{try{const{data:_,error:k}=await L.from("tickets").select(`
          *,
          bookings!fk_tickets_booking_id(
            *,
            events!fk_bookings_event_id(title_ar, start_date, organizer_id)
          )
        `).eq("ticket_number",b).single();if(k||!_){h("رقم التذكرة غير صحيح");return}if(_.bookings.events.organizer_id!==s?.id&&t!=="admin"){h("لا تملك صلاحية لتأكيد حضور هذه التذكرة");return}if(_.checked_in_at){h("تم تأكيد الحضور مسبقاً"),c(_);return}const{error:E}=await L.from("tickets").update({checked_in_at:new Date().toISOString(),checked_in_by:s?.id}).eq("id",_.id);if(E){h("حدث خطأ أثناء تأكيد الحضور");return}c({..._,checked_in_at:new Date().toISOString()}),j()}catch(_){console.error("Error processing check-in:",_),h("حدث خطأ غير متوقع")}},y=async()=>{h("مسح QR الحقيقي يتطلب تكامل مع مكتبة مسح الكاميرا"),r({title:"مسح QR",description:"يرجى إدخال رقم التذكرة يدوياً للاختبار"})};return t!=="organizer"&&t!=="admin"?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs(Os,{children:[e.jsx(hr,{className:"h-4 w-4"}),e.jsx(Is,{children:"هذه الصفحة متاحة فقط للمنظمين والمديرين"})]})}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"مسح QR للحضور"}),e.jsx("p",{className:"text-muted-foreground",children:"تأكيد حضور المشاركين في فعالياتك"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center",children:[e.jsx(Tc,{className:"w-5 h-5 ml-2"}),"ماسح QR"]}),e.jsx(Je,{children:"امسح رمز QR الموجود على التذكرة لتأكيد الحضور"})]}),e.jsxs(B,{className:"space-y-4",children:[n?e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-64 h-64 mx-auto bg-black rounded-lg overflow-hidden mb-4",children:[e.jsx("video",{ref:p,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0}),e.jsx("div",{className:"absolute inset-0 border-2 border-primary rounded-lg pointer-events-none",children:e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 border-2 border-primary bg-primary/10"})})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(A,{onClick:y,className:"flex-1",children:"مسح الكود"}),e.jsx(A,{onClick:S,variant:"outline",className:"flex-1",children:"إيقاف"})]})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-64 h-64 mx-auto bg-secondary/20 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Vi,{className:"w-16 h-16 text-muted-foreground"})}),e.jsxs(A,{onClick:w,className:"w-full",children:[e.jsx(Vi,{className:"w-4 h-4 ml-2"}),"بدء المسح"]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"إدخال يدوي"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"رقم التذكرة",className:"flex-1 px-3 py-2 border rounded-md",onKeyPress:b=>{b.key==="Enter"&&v(b.target.value)}}),e.jsx(A,{onClick:()=>{const b=document.querySelector('input[placeholder="رقم التذكرة"]');v(b.value)},children:"تأكيد"})]})]}),d&&e.jsxs(Os,{children:[e.jsx(ci,{className:"h-4 w-4"}),e.jsx(Is,{children:d})]}),o&&e.jsxs(Os,{children:[e.jsx(Lt,{className:"h-4 w-4"}),e.jsx(Is,{children:o.checked_in_at?`تم تأكيد الحضور للتذكرة ${o.ticket_number}`:"تذكرة صالحة - تم تأكيد الحضور بنجاح"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[o&&e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"تفاصيل التذكرة"})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"رقم التذكرة:"}),e.jsx("span",{className:"font-mono",children:o.ticket_number})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"اسم الحامل:"}),e.jsx("span",{children:o.holder_name})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"الفعالية:"}),e.jsx("span",{children:o.bookings?.events?.title_ar})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"حالة الحضور:"}),e.jsx(ge,{variant:o.checked_in_at?"default":"secondary",children:o.checked_in_at?"تم الحضور":"لم يحضر"})]}),o.checked_in_at&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"وقت الحضور:"}),e.jsx("span",{className:"text-sm",children:new Date(o.checked_in_at).toLocaleString("ar-SA")})]})]})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"سجل الحضور الأخير"}),e.jsx(Je,{children:"آخر 10 عمليات تأكيد حضور"})]}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-3",children:[f.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:b.holder_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:b.bookings?.events?.title_ar})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(ge,{variant:"default",children:"تم الحضور"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(b.checked_in_at).toLocaleDateString("ar-SA")})]})]},b.id)),f.length===0&&e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-muted-foreground",children:"لا يوجد سجل حضور حتى الآن"})})]})})]})]})]})]}),e.jsx(nt,{})]})};var Mf="Collapsible",[q7]=Vs(Mf),[V7,Hv]=q7(Mf),bE=x.forwardRef((s,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:o,onOpenChange:c,...d}=s,[h,f]=Pn({prop:n,defaultProp:a??!1,onChange:c,caller:Mf});return e.jsx(V7,{scope:r,disabled:o,contentId:rn(),open:h,onOpenToggle:x.useCallback(()=>f(m=>!m),[f]),children:e.jsx(Be.div,{"data-state":Kv(h),"data-disabled":o?"":void 0,...d,ref:t})})});bE.displayName=Mf;var NE="CollapsibleTrigger",_E=x.forwardRef((s,t)=>{const{__scopeCollapsible:r,...n}=s,a=Hv(NE,r);return e.jsx(Be.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Kv(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Se(s.onClick,a.onOpenToggle)})});_E.displayName=NE;var Gv="CollapsibleContent",SE=x.forwardRef((s,t)=>{const{forceMount:r,...n}=s,a=Hv(Gv,s.__scopeCollapsible);return e.jsx(Ls,{present:r||a.open,children:({present:o})=>e.jsx(W7,{...n,ref:t,present:o})})});SE.displayName=Gv;var W7=x.forwardRef((s,t)=>{const{__scopeCollapsible:r,present:n,children:a,...o}=s,c=Hv(Gv,r),[d,h]=x.useState(n),f=x.useRef(null),m=ft(t,f),p=x.useRef(0),j=p.current,w=x.useRef(0),S=w.current,v=c.open||d,y=x.useRef(v),b=x.useRef(void 0);return x.useEffect(()=>{const _=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(_)},[]),xs(()=>{const _=f.current;if(_){b.current=b.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const k=_.getBoundingClientRect();p.current=k.height,w.current=k.width,y.current||(_.style.transitionDuration=b.current.transitionDuration,_.style.animationName=b.current.animationName),h(n)}},[c.open,n]),e.jsx(Be.div,{"data-state":Kv(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!v,...o,ref:m,style:{"--radix-collapsible-content-height":j?`${j}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...s.style},children:v&&a})});function Kv(s){return s?"open":"closed"}var H7=bE;const G7=H7,K7=_E,Y7=SE,Q7=()=>{const[s,t]=x.useState(""),[r,n]=x.useState(null),a=[{question:"كيف يمكنني إنشاء حساب جديد؟",answer:"يمكنك إنشاء حساب جديد من خلال النقر على زر 'تسجيل الدخول' في أعلى الصفحة، ثم اختيار 'إنشاء حساب جديد'. ستحتاج إلى إدخال بريدك الإلكتروني وكلمة مرور قوية."},{question:"كيف أقوم بحجز فعالية؟",answer:"لحجز فعالية، تصفح الفعاليات المتاحة واختر الفعالية التي تريدها. انقر على 'عرض التفاصيل' ثم 'احجز الآن'. ستحتاج إلى تسجيل الدخول أولاً."},{question:"ما هي طرق الدفع المتاحة؟",answer:"نقبل جميع بطاقات الائتمان الرئيسية (فيزا، ماستركارد، أمريكان إكسبريس) بالإضافة إلى مدى و STC Pay و Apple Pay."},{question:"كيف يمكنني إلغاء حجزي؟",answer:"يمكنك إلغاء حجزك من خلال لوحة التحكم الخاصة بك. سياسة الإلغاء تختلف حسب نوع الفعالية ووقت الإلغاء."},{question:"كيف أصبح منظم فعاليات؟",answer:"في لوحة التحكم، يمكنك تغيير نوع حسابك إلى 'منظم فعاليات'. ستحتاج إلى تقديم بعض المعلومات الإضافية للتحقق من هويتك."},{question:"ما هي متطلبات السلامة؟",answer:"جميع الفعاليات تخضع لمعايير السلامة الصارمة. يجب على المشاركين اتباع إرشادات السلامة المحددة لكل فعالية."}],o=[{icon:En,title:"الهاتف",description:"اتصل بنا مباشرة",contact:"+966 11 123 4567",hours:"الأحد - الخميس: 9ص - 6م"},{icon:sa,title:"البريد الإلكتروني",description:"راسلنا عبر البريد",contact:"support@adrina.sa",hours:"نرد خلال 24 ساعة"},{icon:Cn,title:"الدردشة المباشرة",description:"تحدث معنا فوراً",contact:"متاح الآن",hours:"24/7"}],c=a.filter(d=>d.question.includes(s)||d.answer.includes(s));return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(zP,{className:"w-12 h-12 text-primary"})}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"مركز المساعدة"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"نحن هنا لمساعدتك. ابحث عن إجابات لأسئلتك أو تواصل معنا مباشرة"})]}),e.jsx("div",{className:"max-w-2xl mx-auto mb-12",children:e.jsxs("div",{className:"relative",children:[e.jsx(an,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),e.jsx(Re,{placeholder:"ابحث عن سؤالك...",value:s,onChange:d=>t(d.target.value),className:"pr-12 text-right"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5"}),"الأسئلة الشائعة"]}),e.jsx(Je,{children:"إجابات على أكثر الأسئلة شيوعاً"})]}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:c.map((d,h)=>e.jsxs(G7,{open:r===h,onOpenChange:()=>n(r===h?null:h),children:[e.jsx(K7,{asChild:!0,children:e.jsxs(A,{variant:"ghost",className:"w-full justify-between p-4 h-auto text-right",children:[e.jsx(rg,{className:`w-4 h-4 transition-transform ${r===h?"transform rotate-180":""}`}),e.jsx("span",{className:"font-medium",children:d.question})]})}),e.jsx(Y7,{children:e.jsx("div",{className:"px-4 pb-4 text-muted-foreground",children:d.answer})})]},h))})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-5 h-5"}),"تواصل معنا"]}),e.jsx(Je,{children:"طرق التواصل المختلفة"})]}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:o.map((d,h)=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(d.icon,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"font-medium",children:d.title})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:d.description}),e.jsx("p",{className:"text-sm font-medium",children:d.contact}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d.hours})]},h))})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"روابط مفيدة"})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:e.jsx("a",{href:"/safety",children:"إرشادات السلامة"})}),e.jsx(A,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:e.jsx("a",{href:"/terms",children:"الشروط والأحكام"})}),e.jsx(A,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:e.jsx("a",{href:"/privacy",children:"سياسة الخصوصية"})}),e.jsx(A,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:e.jsx("a",{href:"/refund",children:"سياسة الاسترداد"})})]})})]})]})]})]}),e.jsx(nt,{})]})},Z7=()=>{const[s,t]=x.useState({name:"",email:"",subject:"",message:"",category:""}),{toast:r}=is(),n=o=>{o.preventDefault(),r({title:"تم إرسال رسالتك بنجاح",description:"سنتواصل معك في أقرب وقت ممكن"}),t({name:"",email:"",subject:"",message:"",category:""})},a=[{icon:En,title:"الهاتف",details:["+966 11 123 4567","+966 11 123 4568"],description:"اتصل بنا مباشرة"},{icon:sa,title:"البريد الإلكتروني",details:["info@adrina.sa","support@adrina.sa"],description:"راسلنا عبر البريد"},{icon:Ot,title:"العنوان",details:["الرياض، المملكة العربية السعودية","طريق الملك فهد، حي العليا"],description:"موقعنا الجغرافي"},{icon:nr,title:"ساعات العمل",details:["الأحد - الخميس: 9:00 ص - 6:00 م","الجمعة - السبت: مغلق"],description:"أوقات التواصل"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(Cn,{className:"w-12 h-12 text-primary"})}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"تواصل معنا"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"نحن متاحون دائماً للإجابة على استفساراتك ومساعدتك"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"أرسل لنا رسالة"}),e.jsx(Je,{children:"املأ النموذج أدناه وسنتواصل معك في أقرب وقت"})]}),e.jsx(B,{children:e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"الاسم الكامل"}),e.jsx(Re,{placeholder:"أدخل اسمك الكامل",value:s.name,onChange:o=>t({...s,name:o.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"البريد الإلكتروني"}),e.jsx(Re,{type:"email",placeholder:"your@email.com",value:s.email,onChange:o=>t({...s,email:o.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"نوع الاستفسار"}),e.jsxs(Yt,{value:s.category,onValueChange:o=>t({...s,category:o}),children:[e.jsx(qt,{children:e.jsx(Qt,{placeholder:"اختر نوع الاستفسار"})}),e.jsxs(Vt,{children:[e.jsx(Oe,{value:"general",children:"استفسار عام"}),e.jsx(Oe,{value:"booking",children:"حجز فعالية"}),e.jsx(Oe,{value:"technical",children:"مشكلة تقنية"}),e.jsx(Oe,{value:"organizer",children:"أريد أن أصبح منظم"}),e.jsx(Oe,{value:"provider",children:"أريد تقديم خدمة"}),e.jsx(Oe,{value:"partnership",children:"شراكة"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"الموضوع"}),e.jsx(Re,{placeholder:"موضوع رسالتك",value:s.subject,onChange:o=>t({...s,subject:o.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"الرسالة"}),e.jsx(Er,{placeholder:"اكتب رسالتك هنا...",rows:6,value:s.message,onChange:o=>t({...s,message:o.target.value}),required:!0})]}),e.jsxs(A,{type:"submit",className:"w-full",children:[e.jsx(wN,{className:"w-4 h-4 ml-2"}),"إرسال الرسالة"]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[a.map((o,c)=>e.jsx($,{children:e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg hero-gradient",children:e.jsx(o.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:o.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:o.description}),o.details.map((d,h)=>e.jsx("p",{className:"text-sm",children:d},h))]})]})})},c)),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"تابعنا على"}),e.jsx(Je,{children:"ابق على اطلاع دائم بآخر الأخبار والفعاليات"})]}),e.jsx(B,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(A,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:"https://twitter.com/adrina",target:"_blank",rel:"noopener noreferrer",children:"تويتر"})}),e.jsx(A,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:"https://instagram.com/adrina",target:"_blank",rel:"noopener noreferrer",children:"انستقرام"})}),e.jsx(A,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:"https://youtube.com/adrina",target:"_blank",rel:"noopener noreferrer",children:"يوتيوب"})})]})})]})]})]})]}),e.jsx(nt,{})]})},X7=()=>{const s=[{icon:_t,title:"قبل الفعالية",rules:["تأكد من قراءة جميع المتطلبات والشروط للفعالية","احضر الأدوات والمعدات المطلوبة","تأكد من حالتك الصحية قبل المشاركة","اتبع تعليمات اللباس والسلامة المحددة","وصل في الوقت المحدد لتلقي التوجيهات"]},{icon:Ms,title:"أثناء الفعالية",rules:["اتبع تعليمات المنظمين والمرشدين في جميع الأوقات","لا تخرج عن المسار أو المنطقة المحددة","ابلغ عن أي مشكلة أو حادث فوراً","استخدم معدات السلامة المطلوبة دائماً","ابق مع المجموعة ولا تبتعد وحدك"]},{icon:Bi,title:"الصحة والسلامة",rules:["أبلغ عن أي حالة طبية أو حساسية مسبقاً","احمل أدويتك الشخصية معك","اشرب الماء بانتظام لتجنب الجفاف","ارتد واقي الشمس والملابس المناسبة","لا تشارك إذا كنت تشعر بتعب أو مرض"]},{icon:En,title:"حالات الطوارئ",rules:["احفظ أرقام الطوارئ للفعالية","تأكد من شحن هاتفك المحمول","أبلغ شخصاً قريباً عن مكان وجودك","اعرف موقع أقرب مركز طبي","اتبع خطة الإخلاء في حالة الطوارئ"]}],t=[{service:"الطوارئ العامة",number:"999"},{service:"الإسعاف",number:"997"},{service:"الدفاع المدني",number:"998"},{service:"الشرطة",number:"999"},{service:"دعم أدرينا",number:"+966 11 123 4567"}],r=[{level:"منخفض",color:"bg-green-100 text-green-800",description:"أنشطة آمنة مناسبة لجميع الأعمار مع الحد الأدنى من المخاطر"},{level:"متوسط",color:"bg-yellow-100 text-yellow-800",description:"أنشطة تتطلب حذر إضافي ومعدات سلامة أساسية"},{level:"عالي",color:"bg-red-100 text-red-800",description:"أنشطة مغامرة تتطلب خبرة ومعدات سلامة متخصصة"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(Ms,{className:"w-12 h-12 text-primary"})}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"إرشادات السلامة"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"سلامتك هي أولويتنا القصوى. تعرف على إرشادات السلامة المهمة"})]}),e.jsxs(Os,{className:"mb-8 border-red-200 bg-red-50",children:[e.jsx(hr,{className:"h-4 w-4 text-red-600"}),e.jsxs(Is,{className:"text-red-800",children:[e.jsx("strong",{children:"هام:"})," في حالة الطوارئ، اتصل على 999 فوراً. لا تتردد في طلب المساعدة إذا كنت في خطر."]})]}),e.jsxs($,{className:"mb-8",children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(hr,{className:"w-5 h-5"}),"مستويات المخاطر"]}),e.jsx(Je,{children:"تصنيف الأنشطة حسب مستوى المخاطر"})]}),e.jsx(B,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map((n,a)=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx(ge,{className:`${n.color} mb-2`,children:n.level}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]},a))})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:s.map((n,a)=>e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(n.icon,{className:"w-5 h-5 text-primary"}),n.title]})}),e.jsx(B,{children:e.jsx("ul",{className:"space-y-2",children:n.rules.map((o,c)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Lt,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:o})]},c))})})]},a))}),e.jsxs($,{className:"mb-8",children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(En,{className:"w-5 h-5"}),"أرقام الطوارئ"]}),e.jsx(Je,{children:"احفظ هذه الأرقام في هاتفك"})]}),e.jsx(B,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((n,a)=>e.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[e.jsx("h3",{className:"font-semibold mb-2",children:n.service}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:n.number})]},a))})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5"}),"نصائح إضافية للسلامة"]})}),e.jsx(B,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(nr,{className:"w-4 h-4"}),"التحضير المسبق"]}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"• تحقق من أحوال الطقس قبل الخروج"}),e.jsx("li",{children:"• احمل كمية كافية من الماء والطعام"}),e.jsx("li",{children:"• أخبر الآخرين عن خطة رحلتك"}),e.jsx("li",{children:"• تأكد من صلاحية معدات السلامة"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Bi,{className:"w-4 h-4"}),"أثناء النشاط"]}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"• استمع لجسدك وخذ استراحات عند الحاجة"}),e.jsx("li",{children:"• لا تتجاهل علامات التعب أو الإجهاد"}),e.jsx("li",{children:"• حافظ على التواصل مع المجموعة"}),e.jsx("li",{children:'• اتبع مبدأ "عدم ترك أثر" في الطبيعة'})]})]})]})})]})]}),e.jsx(nt,{})]})},J7=()=>{const s="1 يناير 2024",t=[{icon:_t,title:"1. قبول الشروط",content:["باستخدام منصة أدرينا، فإنك توافق على الالتزام بهذه الشروط والأحكام.","إذا كنت لا توافق على أي من هذه الشروط، يرجى عدم استخدام المنصة.","نحتفظ بالحق في تعديل هذه الشروط في أي وقت دون إشعار مسبق.","استمرار استخدامك للمنصة يعني موافقتك على الشروط المعدلة."]},{icon:kt,title:"2. الحجوزات والفعاليات",content:["جميع الحجوزات نهائية ولا يمكن إلغاؤها إلا وفقاً لسياسة الإلغاء المحددة.","يجب دفع كامل المبلغ وقت الحجز ما لم ينص على خلاف ذلك.","المنظمون مسؤولون عن دقة معلومات فعالياتهم.","نحن لسنا مسؤولين عن إلغاء أو تأجيل الفعاليات من قبل المنظمين.","في حالة إلغاء الفعالية، سيتم استرداد المبلغ وفقاً لسياسة الاسترداد."]},{icon:ml,title:"3. الدفع والرسوم",content:["جميع الأسعار معروضة بالريال السعودي وتشمل ضريبة القيمة المضافة.","نتقاضى عمولة من المنظمين ومقدمي الخدمات مقابل استخدام المنصة.","رسوم المعالجة غير قابلة للاسترداد.","في حالة فشل الدفع، سيتم إلغاء الحجز تلقائياً.","نحن لسنا مسؤولين عن أي رسوم إضافية من البنك أو شركة البطاقة الائتمانية."]},{icon:Ms,title:"4. المسؤوليات والضمانات",content:["نحن نقدم المنصة 'كما هي' دون أي ضمانات صريحة أو ضمنية.","لسنا مسؤولين عن أي أضرار أو إصابات تحدث أثناء الفعاليات.","المنظمون ومقدمو الخدمات مسؤولون بالكامل عن أنشطتهم.","يجب على المشاركين التأكد من ملاءمة الفعالية لقدراتهم الصحية والبدنية.","نوصي بشدة بالحصول على تأمين سفر أو تأمين ضد الحوادث."]},{icon:tx,title:"5. حقوق الملكية الفكرية",content:["جميع حقوق الملكية الفكرية للمنصة محفوظة لنا.","لا يحق للمستخدمين نسخ أو إعادة إنتاج محتوى المنصة دون إذن.","المحتوى المرفوع من قبل المستخدمين يبقى ملكاً لهم.","منح المستخدمون ترخيصاً لاستخدام محتواهم على المنصة.","نحتفظ بالحق في إزالة أي محتوى ينتهك حقوق الملكية الفكرية."]},{icon:li,title:"6. قواعد السلوك",content:["يجب على المستخدمين التصرف بطريقة محترمة ومهذبة.","ممنوع نشر محتوى مسيء أو غير قانوني أو مضلل.","ممنوع استخدام المنصة لأغراض تجارية غير مصرح بها.","نحتفظ بالحق في إيقاف أو حذف حسابات المستخدمين المخالفين.","أي نشاط مشبوه أو احتيالي سيتم الإبلاغ عنه للسلطات المختصة."]}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(tx,{className:"w-12 h-12 text-primary"})}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"الشروط والأحكام"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"اقرأ شروط وأحكام استخدام منصة أدرينا بعناية"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["آخر تحديث: ",s]})]}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"مقدمة"})}),e.jsx(B,{children:e.jsx("p",{className:"text-muted-foreground",children:"مرحباً بك في أدرينا، منصة الأنشطة الخارجية والمغامرات في المملكة العربية السعودية. هذه الشروط والأحكام تحكم استخدامك لمنصتنا وخدماتنا. يرجى قراءتها بعناية قبل استخدام المنصة."})})]}),t.map((r,n)=>e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-3",children:[e.jsx(r.icon,{className:"w-6 h-6 text-primary"}),r.title]})}),e.jsx(B,{children:e.jsx("ul",{className:"space-y-3",children:r.content.map((a,o)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:a})]},o))})})]},n)),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"التواصل"})}),e.jsxs(B,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"إذا كان لديك أي أسئلة حول هذه الشروط والأحكام، يرجى التواصل معنا:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"البريد الإلكتروني:"})," legal@adrina.sa"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"الهاتف:"})," +966 11 123 4567"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"العنوان:"})," الرياض، المملكة العربية السعودية"]})]})]})]}),e.jsx(Ds,{}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:e.jsx("p",{children:"هذه الشروط والأحكام خاضعة لقوانين المملكة العربية السعودية. أي نزاع ينشأ عن استخدام المنصة سيتم حله وفقاً للقوانين السعودية."})})]})]}),e.jsx(nt,{})]})},eq=()=>{const s="1 يناير 2024",t=[{icon:mN,title:"1. المعلومات التي نجمعها",content:["معلومات الحساب: الاسم، البريد الإلكتروني، رقم الهاتف، تاريخ الميلاد","معلومات الملف الشخصي: الصورة الشخصية، الوصف، المدينة، الاهتمامات","معلومات الاستخدام: سجل التصفح، الفعاليات المحجوزة، التفضيلات","معلومات الجهاز: نوع الجهاز، نظام التشغيل، عنوان IP، معرف الجهاز","معلومات الموقع: الموقع الجغرافي (عند الموافقة)"]},{icon:Sr,title:"2. كيف نستخدم معلوماتك",content:["تقديم وتحسين خدماتنا ومنصتنا","معالجة الحجوزات والمدفوعات","التواصل معك بشأن حسابك والفعاليات","إرسال إشعارات مهمة وتحديثات الخدمة","تخصيص تجربتك وعرض محتوى مناسب","تحليل استخدام المنصة لتحسين الأداء"]},{icon:Oh,title:"3. مشاركة المعلومات",content:["لا نبيع معلوماتك الشخصية لأطراف ثالثة","قد نشارك معلومات مع مقدمي الخدمات المعتمدين","مشاركة معلومات مع منظمي الفعاليات عند الحجز","الكشف عن المعلومات عند طلب السلطات القانونية","مشاركة معلومات مجهولة الهوية لأغراض إحصائية"]},{icon:rx,title:"4. حماية المعلومات",content:["استخدام تشفير SSL لحماية البيانات أثناء النقل","تخزين البيانات في خوادم آمنة ومحمية","التحكم في الوصول إلى المعلومات الشخصية","مراقبة الأنظمة بحثاً عن نشاط مشبوه","تدريب الموظفين على أفضل ممارسات الأمان"]},{icon:HP,title:"5. ملفات تعريف الارتباط",content:["نستخدم ملفات تعريف الارتباط لتحسين تجربة الاستخدام","ملفات ضرورية لعمل الموقع الأساسي","ملفات تحليلية لفهم سلوك المستخدمين","ملفات تخصيص لحفظ تفضيلاتك","يمكنك التحكم في إعدادات ملفات تعريف الارتباط من متصفحك"]},{icon:Ms,title:"6. حقوقك",content:["الحق في الوصول إلى معلوماتك الشخصية","الحق في تصحيح المعلومات غير الدقيقة","الحق في حذف حسابك ومعلوماتك","الحق في تحديد مشاركة المعلومات","الحق في نقل بياناتك إلى خدمة أخرى","الحق في الاعتراض على معالجة معلوماتك"]}],r=[{type:"معلومات الحساب",period:"طوال فترة النشاط + 3 سنوات بعد الإغلاق"},{type:"سجل المعاملات",period:"7 سنوات (متطلبات قانونية)"},{type:"سجل التصفح",period:"6 أشهر"},{type:"الرسائل والتقييمات",period:"5 سنوات أو حتى الحذف"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(rx,{className:"w-12 h-12 text-primary"})}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"سياسة الخصوصية"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"نحن نحترم خصوصيتك ونلتزم بحماية معلوماتك الشخصية"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["آخر تحديث: ",s]})]}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs(Os,{className:"border-blue-200 bg-blue-50",children:[e.jsx(Ms,{className:"h-4 w-4 text-blue-600"}),e.jsxs(Is,{className:"text-blue-800",children:[e.jsx("strong",{children:"التزامنا:"})," نحن ملتزمون بحماية خصوصيتك وفقاً لأعلى المعايير الدولية ولوائح حماية البيانات في المملكة العربية السعودية."]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"مقدمة"})}),e.jsx(B,{children:e.jsx("p",{className:"text-muted-foreground",children:"هذه السياسة توضح كيف نجمع ونستخدم ونحمي معلوماتك الشخصية عند استخدام منصة أدرينا. نحن نتبع أفضل الممارسات في حماية البيانات ونلتزم بالشفافية الكاملة معك حول معلوماتك."})})]}),t.map((n,a)=>e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-3",children:[e.jsx(n.icon,{className:"w-6 h-6 text-primary"}),n.title]})}),e.jsx(B,{children:e.jsx("ul",{className:"space-y-3",children:n.content.map((o,c)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:o})]},c))})})]},a)),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"7. الاحتفاظ بالبيانات"}),e.jsx(Je,{children:"كم من الوقت نحتفظ بمعلوماتك"})]}),e.jsx(B,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-right p-2",children:"نوع البيانات"}),e.jsx("th",{className:"text-right p-2",children:"فترة الاحتفاظ"})]})}),e.jsx("tbody",{children:r.map((n,a)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:n.type}),e.jsx("td",{className:"p-2 text-muted-foreground",children:n.period})]},a))})]})})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"8. الخدمات الخارجية"})}),e.jsxs(B,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"نستخدم خدمات طرف ثالث موثوقة لتحسين خدماتنا:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"خدمات الدفع:"})," معالجة آمنة للمدفوعات"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"خدمات التحليلات:"})," فهم استخدام المنصة"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"خدمات البريد الإلكتروني:"})," إرسال الإشعارات والتحديثات"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"خدمات التخزين السحابي:"})," حفظ البيانات بأمان"]})]})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"التواصل بخصوص الخصوصية"})}),e.jsxs(B,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"إذا كان لديك أي أسئلة حول سياسة الخصوصية أو تريد ممارسة حقوقك:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"مسؤول حماية البيانات:"})," privacy@adrina.sa"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"الهاتف:"})," +966 11 123 4567"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"العنوان:"})," الرياض، المملكة العربية السعودية"]})]})]})]}),e.jsx(Os,{children:e.jsx(Is,{children:"سنقوم بإشعارك عبر البريد الإلكتروني أو من خلال المنصة بأي تغييرات مهمة في سياسة الخصوصية. استمرار استخدامك للمنصة بعد التحديثات يعني موافقتك على السياسة المحدثة."})})]})]}),e.jsx(nt,{})]})},tq=()=>{const s="1 يناير 2024",t=[{type:"إلغاء مبكر (أكثر من 7 أيام)",icon:Lt,color:"text-green-600",bgColor:"bg-green-100",description:"استرداد كامل باستثناء رسوم المعالجة",percentage:"95%",timeframe:"3-5 أيام عمل"},{type:"إلغاء متوسط (3-7 أيام)",icon:li,color:"text-yellow-600",bgColor:"bg-yellow-100",description:"استرداد جزئي حسب سياسة المنظم",percentage:"50-80%",timeframe:"5-7 أيام عمل"},{type:"إلغاء متأخر (أقل من 3 أيام)",icon:ci,color:"text-red-600",bgColor:"bg-red-100",description:"لا يوجد استرداد إلا في حالات استثنائية",percentage:"0-25%",timeframe:"غير متاح عادة"}],r=["إلغاء الفعالية من قبل المنظم","ظروف جوية قاسية أو كوارث طبيعية","حالات طبية طارئة (بتقرير طبي)","ظروف أمنية أو قيود حكومية","خطأ في معلومات الفعالية من المنظم"],n=[{step:1,title:"تقديم طلب الاسترداد",description:"من خلال لوحة التحكم أو التواصل مع الدعم"},{step:2,title:"مراجعة الطلب",description:"سيتم مراجعة طلبك خلال 24-48 ساعة"},{step:3,title:"الموافقة والمعالجة",description:"بعد الموافقة، سيتم بدء عملية الاسترداد"},{step:4,title:"استلام المبلغ",description:"سيصل المبلغ إلى حسابك حسب طريقة الدفع"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(Wi,{className:"w-12 h-12 text-primary"})}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"سياسة الاسترداد"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"تعرف على شروط وأحكام استرداد الأموال لحجوزاتك"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["آخر تحديث: ",s]})]}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs(Os,{className:"border-blue-200 bg-blue-50",children:[e.jsx(li,{className:"h-4 w-4 text-blue-600"}),e.jsxs(Is,{className:"text-blue-800",children:[e.jsx("strong",{children:"ملاحظة مهمة:"})," سياسة الاسترداد تختلف حسب نوع الفعالية والمنظم. يرجى قراءة التفاصيل بعناية قبل الحجز."]})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(nr,{className:"w-5 h-5"}),"سياسات الاسترداد حسب وقت الإلغاء"]}),e.jsx(Je,{children:"يعتمد مبلغ الاسترداد على وقت إلغاء الحجز قبل موعد الفعالية"})]}),e.jsx(B,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map((a,o)=>e.jsxs("div",{className:`p-4 rounded-lg border ${a.bgColor}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(a.icon,{className:`w-5 h-5 ${a.color}`}),e.jsx("h3",{className:"font-semibold text-sm",children:a.type})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:a.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(ge,{variant:"secondary",className:"font-semibold",children:a.percentage}),e.jsx("span",{className:"text-xs text-muted-foreground",children:a.timeframe})]})]},o))})})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsx(J,{children:"الحالات الاستثنائية للاسترداد الكامل"}),e.jsx(Je,{children:"في هذه الحالات، يحق لك الحصول على استرداد كامل بغض النظر عن وقت الإلغاء"})]}),e.jsx(B,{children:e.jsx("ul",{className:"space-y-3",children:r.map((a,o)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Lt,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:a})]},o))})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(ml,{className:"w-5 h-5"}),"خطوات طلب الاسترداد"]})}),e.jsx(B,{children:e.jsx("div",{className:"space-y-4",children:n.map((a,o)=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full hero-gradient text-white font-semibold text-sm",children:a.step}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]})]},o))})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"أوقات الاسترداد حسب طريقة الدفع"})}),e.jsx(B,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-right p-3",children:"طريقة الدفع"}),e.jsx("th",{className:"text-right p-3",children:"وقت الاسترداد"}),e.jsx("th",{className:"text-right p-3",children:"ملاحظات"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"البطاقات الائتمانية"}),e.jsx("td",{className:"p-3",children:"3-5 أيام عمل"}),e.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:"يظهر في كشف الحساب التالي"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"مدى"}),e.jsx("td",{className:"p-3",children:"1-3 أيام عمل"}),e.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:"فوري في معظم الحالات"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"STC Pay"}),e.jsx("td",{className:"p-3",children:"فوري - 24 ساعة"}),e.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:"سيصل للمحفظة مباشرة"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3 font-medium",children:"Apple Pay"}),e.jsx("td",{className:"p-3",children:"3-5 أيام عمل"}),e.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:"حسب البنك المرتبط"})]})]})]})})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"الرسوم والخصومات"})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"رسوم المعالجة"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"يتم خصم 5% كرسوم معالجة من أي استرداد (باستثناء الحالات الاستثنائية)"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"رسوم البنك"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"قد تطبق البنوك رسوم إضافية للاسترداد الدولي أو تحويل العملة"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"العروض والخصومات"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"في حالة استخدام كوبون خصم، سيتم استرداد المبلغ المدفوع فعلياً فقط"})]})]})})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"طلب الاسترداد أو الاستفسار"})}),e.jsxs(B,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"إذا كنت تريد طلب استرداد أو لديك استفسار حول سياسة الاسترداد:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(A,{asChild:!0,children:e.jsx("a",{href:"/dashboard",children:"لوحة التحكم"})}),e.jsx(A,{variant:"outline",asChild:!0,children:e.jsx("a",{href:"/contact",children:"تواصل مع الدعم"})})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"البريد الإلكتروني:"})," refund@adrina.sa"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"الهاتف:"})," +966 11 123 4567"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ساعات العمل:"})," الأحد - الخميس: 9:00 ص - 6:00 م"]})]})]})]})]})]}),e.jsx(nt,{})]})},sq=()=>{const s=ia();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",s.pathname)},[s.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏔️"}),e.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"يبدو أنك تهت في البرية!"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"الصفحة التي تبحث عنها غير موجودة"}),e.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 text-white bg-primary hover:bg-primary-glow rounded-lg smooth-transition",children:"العودة للصفحة الرئيسية"})]})})},rq=({amount:s,booking_id:t,description:r,onPaymentSuccess:n,onPaymentFailure:a})=>{const[o,c]=x.useState({number:"",expiry:"",cvv:"",name:""}),[d,h]=x.useState(!1),{toast:f}=is(),m=w=>w.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/.{1,4}/g)?.join(" ")||"",p=w=>w.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1/$2").slice(0,5),j=async()=>{h(!0);try{if(!o.number||!o.expiry||!o.cvv||!o.name)throw new Error("يرجى ملء جميع الحقول المطلوبة");const{data:{session:w}}=await L.auth.getSession();if(!w)throw new Error("يرجى تسجيل الدخول أولاً");const{data:S,error:v}=await L.functions.invoke("process-payment",{body:{amount:s,currency:"SAR",description:r,callback_url:`${window.location.origin}/checkout-success`,source:{type:"creditcard",number:o.number.replace(/\s/g,""),cvc:o.cvv,month:o.expiry.split("/")[0],year:`20${o.expiry.split("/")[1]}`,name:o.name},booking_id:t}});if(v)throw v;if(S.status==="paid")n(S.id),f({title:"تم الدفع بنجاح",description:`تم خصم ${s} ريال من بطاقتك`});else{if(S.status==="failed")throw new Error(S.message||"فشل في معالجة الدفع");f({title:"معالجة الدفع",description:"جاري معالجة دفعتك، سيتم إشعارك بالنتيجة قريباً"})}}catch(w){const S=w instanceof Error?w.message:"خطأ في الدفع";a(S),f({title:"فشل في الدفع",description:S,variant:"destructive"})}finally{h(!1)}};return e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(ml,{className:"w-5 h-5"}),"معلومات الدفع"]})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx(De,{children:"رقم البطاقة"}),e.jsx(Re,{placeholder:"1234 5678 9012 3456",value:o.number,onChange:w=>c(S=>({...S,number:m(w.target.value)})),maxLength:19})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(De,{children:"تاريخ الانتهاء"}),e.jsx(Re,{placeholder:"MM/YY",value:o.expiry,onChange:w=>c(S=>({...S,expiry:p(w.target.value)})),maxLength:5})]}),e.jsxs("div",{children:[e.jsx(De,{children:"رمز الحماية"}),e.jsx(Re,{placeholder:"123",value:o.cvv,onChange:w=>c(S=>({...S,cvv:w.target.value.replace(/\D/g,"")})),maxLength:4})]})]}),e.jsxs("div",{children:[e.jsx(De,{children:"اسم صاحب البطاقة"}),e.jsx(Re,{placeholder:"الاسم كما هو مكتوب على البطاقة",value:o.name,onChange:w=>c(S=>({...S,name:w.target.value}))})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx("span",{children:"معاملتك محمية بتشفير 256-bit SSL"})]}),e.jsx(A,{className:"w-full",onClick:j,disabled:d,size:"lg",children:d?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),"جاري المعالجة..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rx,{className:"w-4 h-4 ml-2"}),"ادفع ",s," ريال"]})})]})]})},nq=()=>{const s=ia(),t=ar(),{toast:r}=is(),{eventId:n,eventTitle:a,eventPrice:o,availableSeats:c=10}=s.state||{},[d,h]=x.useState(1),[f,m]=x.useState(1),[p,j]=x.useState(""),[w,S]=x.useState(null),[v,y]=x.useState(!0),[b,_]=x.useState("card"),[k,E]=x.useState(!1),[P,R]=x.useState(900),[D,U]=x.useState(!1),[V,te]=x.useState(""),[oe,K]=x.useState(!1),[ce,H]=x.useState({fullName:"",email:"",phone:"",emergencyContact:"",specialRequests:""}),[ve,ue]=x.useState(0),[Y,F]=x.useState(null),[W,le]=x.useState(!0),I=Math.min(Math.floor(ve*.1),20),X=Y?.price||o||150,ye=.15,me=[{id:1,title:"اختيار المقاعد",icon:_t},{id:2,title:"معلومات المشارك",icon:Lt},{id:3,title:"المراجعة والدفع",icon:ml}],[Le,qe]=x.useState([]);x.useEffect(()=>{ie(),Te(),Ve()},[n]);const ie=async()=>{if(n)try{const{data:ne,error:Ie}=await L.from("events").select(`
          *,
          profiles!fk_events_organizer_id(full_name),
          categories(name_ar)
        `).eq("id",n).single();if(Ie)throw Ie;F(ne)}catch(ne){console.error("Error fetching event:",ne),r({title:"خطأ في تحميل بيانات الفعالية",description:"حدث خطأ أثناء تحميل تفاصيل الفعالية",variant:"destructive"})}finally{le(!1)}},Te=async()=>{try{const{data:{session:ne}}=await L.auth.getSession();if(!ne)return;const{data:Ie,error:mt}=await L.from("profiles").select("points_balance").eq("user_id",ne.user.id).single();if(mt)throw mt;ue(Ie?.points_balance||0)}catch(ne){console.error("Error fetching user points:",ne)}},Ve=async()=>{try{const{data:ne,error:Ie}=await L.from("coupons").select("*").eq("is_active",!0).or("valid_until.is.null,valid_until.gt.now()").order("created_at",{ascending:!1});if(Ie)throw Ie;qe(ne||[])}catch(ne){console.error("Error fetching coupons:",ne),qe([])}},Ne=Y?{title:Y.title_ar,date:new Date(Y.start_date).toLocaleDateString("ar-SA"),time:new Date(Y.start_date).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"}),location:Y.location_ar,organizer:Y.profiles?.full_name||"منظم",difficulty:Y.difficulty_level||"متوسط",maxParticipants:Y.max_attendees||25,availableSeats:Y.max_attendees-Y.current_attendees||0,rating:4.8,image:Y.image_url||"/placeholder.svg",features:["مرشد متخصص","وجبة إفطار","معدات السلامة","شهادة مشاركة"],cancellationPolicy:Y.cancellation_policy==="flexible"?"إلغاء مجاني حتى 24 ساعة قبل الموعد":"إلغاء مجاني حتى 48 ساعة قبل الموعد"}:{title:a||"جاري التحميل...",date:"---",time:"---",location:"---",organizer:"---",difficulty:"---",maxParticipants:0,availableSeats:0,rating:0,image:"/placeholder.svg",features:[],cancellationPolicy:"---"},$e=X*f,_e=w?w.type==="percentage"?$e*(w.value/100):w.value:0,Xe=v?Math.min(I,$e*.1,20):0,pt=$e-_e-Xe,Et=pt*ye,Wt=pt+Et;x.useEffect(()=>{if(P>0&&!D){const ne=setTimeout(()=>R(P-1),1e3);return()=>clearTimeout(ne)}else P===0&&(U(!0),r({title:"انتهت مهلة الحجز",description:"تم تحرير المقاعد المحجوزة. يرجى إعادة الحجز.",variant:"destructive"}))},[P,r,D]);const Zt=ne=>{const Ie=Math.floor(ne/60),mt=ne%60;return`${Ie}:${mt.toString().padStart(2,"0")}`},Ns=()=>{d<me.length&&(d===2&&Ce(),h(d+1))},ls=()=>{d>1&&h(d-1)},O=()=>{switch(d){case 1:return f>0&&f<=Ne.availableSeats;case 2:return ce.fullName&&ce.email&&ce.phone;case 3:return b;default:return!1}},G=async()=>{const ne=Le.find(Ie=>Ie.code.toLowerCase()===p.toLowerCase());if(ne){if(ne.min_amount&&$e<ne.min_amount){r({title:"متطلب الحد الأدنى غير متحقق",description:`يتطلب هذا الكوبون حد أدنى ${ne.min_amount} ريال`,variant:"destructive"});return}if(ne.usage_limit&&ne.used_count>=ne.usage_limit){r({title:"انتهت صلاحية الكوبون",description:"تم استخدام هذا الكوبون للحد الأقصى المسموح",variant:"destructive"});return}S(ne),r({title:"تم تطبيق الكوبون!",description:`تم تطبيق كوبون ${ne.code} - ${ne.description_ar||ne.description}`}),j("")}else r({title:"كوبون غير صالح",description:"الكوبون المدخل غير صالح أو منتهي الصلاحية",variant:"destructive"})},ae=()=>{S(null),r({title:"تم إزالة الكوبون",description:"تم إزالة الكوبون بنجاح"})},ke=ne=>{t("/checkout/success",{state:{eventId:n,tickets:f,total:Wt,bookingReference:V,paymentId:ne}})},Ce=async()=>{if(!V){K(!0);try{const{data:{session:ne}}=await L.auth.getSession();if(!ne){r({title:"خطأ في المصادقة",description:"يرجى تسجيل الدخول أولاً",variant:"destructive"}),t("/auth");return}const Ie=v?Math.min(Xe,ve):0,{data:mt,error:Xt}=await L.functions.invoke("create-booking",{body:{event_id:n,quantity:f,use_points:Ie}});if(Xt)throw Xt;te(mt.id);const{data:Ht}=await L.from("event_groups").select("id").eq("event_id",n).limit(1);if(Ht&&Ht.length>0){const{error:Jt}=await L.from("group_members").insert({group_id:Ht[0].id,user_id:ne.user.id,role:"member"});Jt&&!Jt.message.includes("duplicate")&&console.error("Error adding user to group:",Jt)}r({title:"تم إنشاء الحجز",description:`رقم الحجز: ${mt.booking_reference}`})}catch(ne){console.error("Booking creation error:",ne),r({title:"فشل في إنشاء الحجز",description:ne instanceof Error?ne.message:"حدث خطأ غير متوقع",variant:"destructive"})}finally{K(!1)}}},je=ne=>{r({title:"فشل في الدفع",description:ne,variant:"destructive"})};return D?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(li,{className:"w-8 h-8 text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"انتهت مهلة الحجز"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"عذراً، انتهت مهلة الحجز وتم تحرير المقاعد المحجوزة. يرجى إعادة الحجز."}),e.jsx(A,{onClick:()=>t("/explore"),children:"العودة للفعاليات"})]})}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:W?e.jsxs("div",{className:"flex items-center justify-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mr-2"}),e.jsx("span",{children:"جاري تحميل بيانات الفعالية..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"إتمام الحجز"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-orange-600",children:[e.jsx(sT,{className:"w-4 h-4"}),e.jsxs("span",{children:["الوقت المتبقي: ",Zt(P)]})]}),e.jsxs(ge,{variant:"destructive",className:"gap-1",children:[e.jsx(nr,{className:"w-3 h-3"}),"مقاعد محجوزة مؤقتاً"]})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-center",children:me.map((ne,Ie)=>e.jsxs(de.Fragment,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d>=ne.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:d>ne.id?e.jsx(Lt,{className:"w-5 h-5"}):e.jsx(ne.icon,{className:"w-5 h-5"})}),e.jsx("span",{className:`mr-2 text-sm font-medium ${d>=ne.id?"text-primary":"text-muted-foreground"}`,children:ne.title})]}),Ie<me.length-1&&e.jsx("div",{className:`mx-4 h-px w-16 ${d>ne.id?"bg-primary":"bg-border"}`})]},ne.id))})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[d===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5"}),"ملخص الفعالية"]})}),e.jsxs(B,{children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:Ne.image,alt:Ne.title,className:"w-24 h-24 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:Ne.title}),e.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(kt,{className:"w-4 h-4"}),e.jsxs("span",{children:[Ne.date," • ",Ne.time]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{children:Ne.location})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_t,{className:"w-4 h-4"}),e.jsxs("span",{children:["منظم بواسطة: ",Ne.organizer]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),e.jsxs("span",{children:[Ne.rating,"/5 (",Math.floor(Math.random()*50+10)," تقييم)"]})]})]})]}),e.jsx(ge,{variant:"secondary",children:Ne.difficulty})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"يشمل:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ne.features.map((ne,Ie)=>e.jsxs(ge,{variant:"outline",className:"gap-1",children:[e.jsx(Lt,{className:"w-3 h-3"}),ne]},Ie))})]})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5"}),"اختيار عدد التذاكر"]}),e.jsxs("span",{className:"text-sm font-normal",children:["متبقي: ",e.jsx(ge,{variant:"secondary",children:Ne.availableSeats})," مقعد"]})]})}),e.jsxs(B,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(A,{variant:"outline",size:"icon",onClick:()=>m(Math.max(1,f-1)),disabled:f<=1,children:e.jsx(JP,{className:"w-4 h-4"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:f}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"تذكرة"})]}),e.jsx(A,{variant:"outline",size:"icon",onClick:()=>m(Math.min(Ne.availableSeats,f+1)),disabled:f>=Ne.availableSeats,children:e.jsx(Cr,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[X," ريال"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"شامل الضريبة"})]})]}),e.jsx(Lv,{value:(Ne.maxParticipants-Ne.availableSeats)/Ne.maxParticipants*100,className:"mt-4"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[e.jsxs("span",{children:["محجوز: ",Ne.maxParticipants-Ne.availableSeats]}),e.jsxs("span",{children:["متاح: ",Ne.availableSeats]})]})]})]}),e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Pc,{className:"w-5 h-5"}),"الخصومات والعروض"]})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"coupon",children:"كود الخصم"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(Re,{id:"coupon",placeholder:"أدخل كود الخصم (مثل: SAVE10)",value:p,onChange:ne=>j(ne.target.value.toUpperCase()),disabled:!!w}),e.jsx(A,{onClick:G,variant:"outline",disabled:!p||!!w,children:"تطبيق"})]}),w&&e.jsxs("div",{className:"flex items-center justify-between mt-2 p-2 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx(Lt,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["تم تطبيق كود: ",w.code]})]}),e.jsx(A,{variant:"ghost",size:"sm",onClick:ae,className:"text-green-700 hover:text-green-800",children:"إزالة"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx(Kt,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx(De,{className:"text-base",children:"استخدام النقاط"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["لديك ",ve," نقطة = ",I," ريال",e.jsx("br",{}),"سيتم خصم تلقائياً حتى 10% (حد أقصى 20 ريال)"]})]})]}),e.jsx(zv,{checked:v,onCheckedChange:ne=>y(!!ne)})]})]})]})]}),d===2&&e.jsxs($,{children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"w-5 h-5"}),"معلومات المشارك"]})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"fullName",children:"الاسم الكامل *"}),e.jsx(Re,{id:"fullName",placeholder:"أدخل الاسم الكامل",value:ce.fullName,onChange:ne=>H(Ie=>({...Ie,fullName:ne.target.value}))})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"email",children:"البريد الإلكتروني *"}),e.jsx(Re,{id:"email",type:"email",placeholder:"example@email.com",value:ce.email,onChange:ne=>H(Ie=>({...Ie,email:ne.target.value}))})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"phone",children:"رقم الجوال *"}),e.jsx(Re,{id:"phone",placeholder:"05xxxxxxxx",value:ce.phone,onChange:ne=>H(Ie=>({...Ie,phone:ne.target.value}))})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"emergency",children:"رقم الطوارئ"}),e.jsx(Re,{id:"emergency",placeholder:"رقم جوال للطوارئ",value:ce.emergencyContact,onChange:ne=>H(Ie=>({...Ie,emergencyContact:ne.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"requests",children:"طلبات خاصة"}),e.jsx(Re,{id:"requests",placeholder:"أي طلبات خاصة أو ملاحظات...",value:ce.specialRequests,onChange:ne=>H(Ie=>({...Ie,specialRequests:ne.target.value}))})]}),e.jsxs(Os,{children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx(Is,{children:"سيتم استخدام هذه المعلومات لإرسال تأكيد الحجز وفي حالات الطوارئ فقط. جميع المعلومات محمية ومشفرة."})]})]})]}),d===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"مراجعة الطلب"})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"الفعالية:"}),e.jsx("span",{className:"font-medium",children:Ne.title})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"التاريخ:"}),e.jsxs("span",{children:[Ne.date," • ",Ne.time]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"عدد التذاكر:"}),e.jsxs("span",{children:[f," تذكرة"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"المشارك:"}),e.jsx("span",{children:ce.fullName})]})]})})]}),e.jsx(rq,{amount:Wt,booking_id:V,description:`حجز ${Ne.title} - ${f} تذكرة`,onPaymentSuccess:ke,onPaymentFailure:je})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsxs(A,{variant:"outline",onClick:ls,disabled:d===1,className:"gap-2",children:[e.jsx(Dh,{className:"w-4 h-4"}),"السابق"]}),d<me.length&&e.jsx(A,{onClick:Ns,disabled:!O()||oe,className:"gap-2",children:oe?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),"جاري إنشاء الحجز..."]}):e.jsxs(e.Fragment,{children:["التالي",e.jsx(eh,{className:"w-4 h-4"})]})})]})]}),e.jsx("div",{children:e.jsxs($,{className:"sticky top-8",children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Jn,{className:"w-5 h-5"}),"ملخص الطلب"]})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["السعر (",f," تذكرة)"]}),e.jsxs("span",{children:[$e.toFixed(2)," ريال"]})]}),w&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["خصم الكوبون (",w.code,")"]}),e.jsxs("span",{children:["-",_e.toFixed(2)," ريال"]})]}),v&&Xe>0&&e.jsxs("div",{className:"flex justify-between text-blue-600",children:[e.jsx("span",{children:"خصم النقاط"}),e.jsxs("span",{children:["-",Xe.toFixed(2)," ريال"]})]}),e.jsx(Ds,{}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"المجموع الفرعي"}),e.jsxs("span",{children:[pt.toFixed(2)," ريال"]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"ضريبة القيمة المضافة (15%)"}),e.jsxs("span",{children:[Et.toFixed(2)," ريال"]})]}),e.jsx(Ds,{}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"الإجمالي"}),e.jsxs("span",{className:"text-primary",children:[Wt.toFixed(2)," ريال"]})]}),e.jsxs("div",{className:"mt-6 p-3 bg-muted rounded-lg",children:[e.jsx("h4",{className:"font-medium text-sm mb-1",children:"سياسة الإلغاء"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:Ne.cancellationPolicy})]})]})]})})]})]})})}),e.jsx(nt,{})]})},aq=()=>{const s=ia(),{user:t}=Ct(),[r,n]=x.useState(null),[a,o]=x.useState(null),[c,d]=x.useState(!0),{bookingId:h}=s.state||{};x.useEffect(()=>{h&&t&&f()},[h,t]);const f=async()=>{try{const{data:m,error:p}=await L.from("bookings").select(`
          *,
          events (
            id,
            title,
            title_ar,
            start_date,
            location,
            location_ar,
            organizer_id
          )
        `).eq("id",h).eq("user_id",t?.id).single();if(p)throw p;n(m),o(m.events)}catch(m){console.error("Error fetching booking details:",m)}finally{d(!1)}};return c?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}),e.jsx(nt,{})]}):!r||!a?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"لم يتم العثور على الحجز"}),e.jsx(A,{asChild:!0,children:e.jsx(Fe,{to:"/explore",children:"تصفح الفعاليات"})})]})}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Lt,{className:"w-12 h-12 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-2",children:"تم الحجز بنجاح!"}),e.jsx("p",{className:"text-muted-foreground",children:"تم إرسال تأكيد الحجز إلى بريدك الإلكتروني ورسالة SMS"})]}),e.jsxs($,{className:"mb-8",children:[e.jsx(Z,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(SN,{className:"w-5 h-5"}),"تفاصيل الحجز"]})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"رقم الحجز:"}),e.jsx(ge,{variant:"outline",className:"font-mono",children:r.booking_reference})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"الفعالية:"}),e.jsx("span",{className:"font-semibold",children:a.title_ar})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"التاريخ:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(a.start_date).toLocaleDateString("ar-SA")})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"المكان:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{children:a.location_ar})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"عدد التذاكر:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.quantity," تذكرة"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center font-semibold text-lg",children:[e.jsx("span",{children:"المبلغ المدفوع:"}),e.jsxs("span",{children:[r.total_amount," ريال"]})]})]})})]}),e.jsxs($,{className:"mb-8",children:[e.jsx(Z,{children:e.jsx(J,{children:"الخطوات التالية"})}),e.jsx(B,{children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg",children:[e.jsx(di,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold",children:"حمّل تذاكرك"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ستحتاج لإظهارها عند الوصول للفعالية"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg",children:[e.jsx(Cn,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold",children:"انضم لقروب الفعالية"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"تواصل مع المشاركين الآخرين واحصل على التحديثات"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-yellow-50 rounded-lg",children:[e.jsx(Kt,{className:"w-6 h-6 text-yellow-600"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold",children:"احصل على النقاط"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ستحصل على نقاط الولاء بعد حضور الفعالية"})]})]})]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(A,{asChild:!0,className:"w-full",children:e.jsxs(Fe,{to:"/tickets",children:[e.jsx(di,{className:"w-4 h-4 mr-2"}),"عرض التذاكر"]})}),e.jsx(A,{variant:"outline",asChild:!0,className:"w-full",children:e.jsxs(Fe,{to:`/groups?event=${a.id}`,children:[e.jsx(Cn,{className:"w-4 h-4 mr-2"}),"انضم للمجموعة"]})}),e.jsx(A,{variant:"outline",asChild:!0,className:"w-full",children:e.jsx(Fe,{to:"/explore",children:"تصفح المزيد من الفعاليات"})}),e.jsx(A,{variant:"outline",asChild:!0,className:"w-full",children:e.jsx(Fe,{to:"/my-events",children:"حجوزاتي"})})]})]})}),e.jsx(nt,{})]})},iq=()=>{const[s,t]=x.useState(""),[r,n]=x.useState(!1),{toast:a}=is(),[o,c]=x.useState([]),[d,h]=x.useState(!0),{user:f}=Ct();x.useEffect(()=>{m()},[f]);const m=async()=>{if(f)try{const{data:v,error:y}=await L.from("tickets").select(`
          *,
          bookings!fk_tickets_booking_id(
            *,
            events!fk_bookings_event_id(
              title_ar,
              start_date,
              location_ar,
              organizer_id,
              profiles!fk_events_organizer_id(full_name)
            )
          )
        `).eq("bookings.user_id",f.id).order("created_at",{ascending:!1});if(y)throw y;c(v||[])}catch(v){console.error("Error fetching tickets:",v),a({title:"خطأ في تحميل التذاكر",description:"حدث خطأ أثناء تحميل تذاكرك",variant:"destructive"})}finally{h(!1)}},p=()=>{n(!0),setTimeout(()=>{t("TK001234"),n(!1)},2e3)},j=v=>{const y=o.find(b=>b.ticketNumber===v);return y?y.checkedIn?{valid:!1,message:"تم استخدام التذكرة مسبقاً"}:y.status!=="active"?{valid:!1,message:"تذكرة غير فعالة"}:{valid:!0,message:"تذكرة صحيحة",ticket:y}:{valid:!1,message:"تذكرة غير صحيحة"}},w=v=>{console.log("تسجيل حضور للتذكرة:",v)},S=(v,y)=>{if(y)return e.jsx(ge,{className:"bg-green-100 text-green-800",children:"تم الحضور"});switch(v){case"active":return e.jsx(ge,{className:"bg-blue-100 text-blue-800",children:"فعالة"});case"expired":return e.jsx(ge,{variant:"destructive",children:"منتهية الصلاحية"});case"cancelled":return e.jsx(ge,{variant:"secondary",children:"ملغاة"});default:return e.jsx(ge,{variant:"outline",children:"غير معروف"})}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"التذاكر والحضور"}),e.jsxs(Hr,{defaultValue:"my-tickets",className:"w-full",children:[e.jsxs(Dr,{className:"grid w-full grid-cols-2",children:[e.jsx(rt,{value:"my-tickets",children:"تذاكري"}),e.jsx(rt,{value:"scan-qr",children:"مسح QR"})]}),e.jsx(jt,{value:"my-tickets",className:"space-y-6",children:d?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(yN,{className:"w-8 h-8 animate-spin mr-2"}),e.jsx("span",{children:"جاري تحميل التذاكر..."})]}):o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Tc,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد تذاكر"}),e.jsx("p",{className:"text-muted-foreground",children:"لم تقم بحجز أي فعاليات بعد"})]}):e.jsx("div",{className:"grid gap-6",children:o.map(v=>e.jsx($,{className:"overflow-hidden",children:e.jsx(B,{className:"p-0",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-0",children:[e.jsxs("div",{className:"md:col-span-2 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:v.bookings?.events?.title_ar}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(kt,{className:"w-4 h-4"}),new Date(v.bookings?.events?.start_date).toLocaleDateString("ar-SA")," • ",new Date(v.bookings?.events?.start_date).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-4 h-4"}),v.bookings?.events?.location_ar]})]})]}),S(v.status,v.checked_in_at)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"رقم التذكرة"}),e.jsx("p",{className:"font-mono",children:v.ticketNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"اسم الحامل"}),e.jsx("p",{children:v.holder_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"رقم الحجز"}),e.jsx("p",{className:"font-mono",children:v.bookings?.booking_reference})]}),v.checked_in_at&&e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"وقت الحضور"}),e.jsx("p",{children:new Date(v.checked_in_at).toLocaleString("ar-SA")})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(A,{size:"sm",variant:"outline",children:[e.jsx(di,{className:"w-4 h-4 ml-2"}),"تحميل"]}),e.jsxs(A,{size:"sm",variant:"outline",children:[e.jsx(Oh,{className:"w-4 h-4 ml-2"}),"مشاركة"]}),v.checked_in_at&&e.jsxs(A,{size:"sm",variant:"outline",children:[e.jsx(Kt,{className:"w-4 h-4 ml-2"}),"تقييم الفعالية"]})]})]}),e.jsxs("div",{className:"border-r border-dashed bg-muted/30 p-6 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-32 h-32 bg-white rounded-lg p-2 mb-4 border",children:e.jsx("img",{src:v.qr_code||`/api/qr?data=${v.ticket_number}`,alt:"QR Code",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"اعرض هذا الكود عند الوصول"})]})]})})},v.id))})}),e.jsx(jt,{value:"scan-qr",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(Z,{children:e.jsx(J,{children:"مسح رمز QR للتذاكر"})}),e.jsxs(B,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-64 h-64 mx-auto bg-muted rounded-lg flex items-center justify-center mb-4",children:r?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx("p",{className:"text-sm",children:"جاري المسح..."})]}):e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Vi,{className:"w-16 h-16 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"اضغط لبدء المسح"})]})}),e.jsxs(A,{onClick:p,disabled:r,children:[e.jsx(Vi,{className:"w-4 h-4 ml-2"}),r?"جاري المسح...":"ابدأ مسح QR"]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"إدخال يدوي لرقم التذكرة"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Re,{placeholder:"أدخل رقم التذكرة (مثال: TK001234)",value:s,onChange:v=>t(v.target.value)}),e.jsx(A,{onClick:()=>{if(s){const v=j(s);console.log(v)}},children:"تحقق"})]})]}),s&&e.jsx($,{children:e.jsxs(B,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"نتيجة المسح"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["رقم التذكرة: ",s]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-green-600 font-semibold",children:"تذكرة صحيحة"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"الفعالية"}),e.jsx("p",{children:"هايكنج جبل طويق المتقدم"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"الحامل"}),e.jsx("p",{children:"أحمد محمد"})]})]}),e.jsxs(A,{className:"w-full",onClick:()=>w(s),children:[e.jsx(Lt,{className:"w-4 h-4 ml-2"}),"تأكيد الحضور"]})]})]})}),e.jsx($,{className:"bg-blue-50 border-blue-200",children:e.jsxs(B,{className:"p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"إرشادات المسح"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• تأكد من وضوح رمز QR في الإطار"}),e.jsx("li",{children:"• يمكن المسح قبل 30 دقيقة من بداية الفعالية"}),e.jsx("li",{children:"• كل تذكرة يمكن استخدامها مرة واحدة فقط"}),e.jsx("li",{children:"• سيتم منح النقاط تلقائياً بعد تسجيل الحضور"})]})]})})]})]})})]})]})}),e.jsx(nt,{})]})},oq=()=>{const{user:s,userRole:t}=Ct(),{t:r,language:n}=Ar(),[a,o]=x.useState([]),[c,d]=x.useState(!0),[h,f]=x.useState("received"),[m,p]=x.useState(""),[j,w]=x.useState(""),[S,v]=x.useState(null);x.useEffect(()=>{s&&t&&y()},[s,t,h]);const y=async()=>{try{d(!0);let E=L.from("service_requests").select(`
          *,
          service:services(name_ar, name, description_ar, price, image_url),
          event:events(title_ar, title, start_date, location_ar),
          organizer_profile:profiles!organizer_id(full_name, avatar_url)
        `);t==="provider"?h==="received"?E=E.eq("provider_id",s.id):E=E.eq("provider_id",s.id).neq("status","pending"):t==="organizer"&&h==="sent"&&(E=E.eq("organizer_id",s.id));const{data:P,error:R}=await E.order("created_at",{ascending:!1});if(R)throw R;o(P||[])}catch(E){console.error("Error loading service requests:",E),Me.error(r("errorOccurred"))}finally{d(!1)}},b=async(E,P)=>{try{const D={status:P==="accept"?"accepted":P==="reject"?"rejected":"negotiating",response_message:m};P==="negotiate"&&j&&(D.negotiated_price=parseFloat(j));const{error:U}=await L.from("service_requests").update(D).eq("id",E);if(U)throw U;Me.success(r("updateSuccessful")),p(""),w(""),v(null),y()}catch(R){console.error("Error updating request:",R),Me.error(r("errorOccurred"))}},_=E=>{const P={pending:{variant:"secondary",text:"قيد الانتظار"},accepted:{variant:"default",text:"مقبول"},rejected:{variant:"destructive",text:"مرفوض"},negotiating:{variant:"outline",text:"قيد التفاوض"}},R=P[E]||P.pending;return e.jsx(ge,{variant:R.variant,children:R.text})},k=({request:E})=>e.jsxs($,{className:"mb-4",children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(J,{className:"text-lg mb-2",children:n==="ar"?E.service.name_ar:E.service.name}),e.jsx(Je,{children:e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(kt,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(E.event.start_date).toLocaleDateString("ar-SA")})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{children:E.event.location_ar})]})]})})]}),e.jsxs("div",{className:"text-left",children:[_(E.status),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:new Date(E.created_at).toLocaleDateString("ar-SA")})]})]})}),e.jsxs(B,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"تفاصيل الطلب:"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:E.message}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(sr,{className:"h-4 w-4"}),e.jsxs("span",{children:["السعر المطلوب: ",E.requested_price||E.service.price," ر.س"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"الفعالية:"}),e.jsx("p",{className:"text-sm font-medium",children:E.event.title_ar}),e.jsx("p",{className:"text-sm text-muted-foreground",children:E.organizer_profile?.full_name})]})]}),E.negotiated_price&&e.jsx("div",{className:"bg-secondary p-3 rounded-lg mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sr,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-semibold",children:["السعر المفاوض: ",E.negotiated_price," ر.س"]})]})}),E.response_message&&e.jsxs("div",{className:"bg-muted p-3 rounded-lg mb-4",children:[e.jsx("h5",{className:"font-semibold mb-1",children:"رد مقدم الخدمة:"}),e.jsx("p",{className:"text-sm",children:E.response_message})]}),t==="provider"&&E.status==="pending"&&e.jsx("div",{className:"border-t pt-4 mt-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(De,{htmlFor:"response",children:"ردك على الطلب"}),e.jsx(Er,{id:"response",value:m,onChange:P=>p(P.target.value),placeholder:"اكتب ردك هنا...",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(De,{htmlFor:"negotiated-price",children:"السعر المقترح (اختياري)"}),e.jsx(Re,{id:"negotiated-price",type:"number",value:j,onChange:P=>w(P.target.value),placeholder:"السعر الجديد بالريال",className:"mt-1"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(A,{onClick:()=>b(E.id,"accept"),className:"gap-2",children:[e.jsx(Lt,{className:"h-4 w-4"}),"قبول الطلب"]}),e.jsxs(A,{variant:"outline",onClick:()=>b(E.id,"negotiate"),className:"gap-2",disabled:!m,children:[e.jsx(ni,{className:"h-4 w-4"}),"تفاوض"]}),e.jsxs(A,{variant:"destructive",onClick:()=>b(E.id,"reject"),className:"gap-2",children:[e.jsx(ci,{className:"h-4 w-4"}),"رفض الطلب"]})]})]})})]})]},E.id);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"طلبات الخدمات"}),e.jsx("p",{className:"text-muted-foreground",children:t==="provider"?"إدارة طلبات ربط الخدمات الواردة إليك":"تتبع طلبات ربط الخدمات التي أرسلتها"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"إجمالي الطلبات"}),e.jsx(ni,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(B,{children:e.jsx("div",{className:"text-2xl font-bold",children:a.length})})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"طلبات معلقة"}),e.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(B,{children:e.jsx("div",{className:"text-2xl font-bold",children:a.filter(E=>E.status==="pending").length})})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"طلبات مقبولة"}),e.jsx(Lt,{className:"h-4 w-4 text-green-600"})]}),e.jsx(B,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.filter(E=>E.status==="accepted").length})})]}),e.jsxs($,{children:[e.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(J,{className:"text-sm font-medium",children:"معدل القبول"}),e.jsx(Kt,{className:"h-4 w-4 text-yellow-500"})]}),e.jsx(B,{children:e.jsxs("div",{className:"text-2xl font-bold",children:[a.length>0?Math.round(a.filter(E=>E.status==="accepted").length/a.length*100):0,"%"]})})]})]}),e.jsxs(Hr,{value:h,onValueChange:f,children:[e.jsx(Dr,{className:"grid w-full grid-cols-2",children:t==="provider"?e.jsxs(e.Fragment,{children:[e.jsxs(rt,{value:"received",children:["الطلبات الواردة (",a.filter(E=>E.status==="pending").length,")"]}),e.jsxs(rt,{value:"processed",children:["الطلبات المعالجة (",a.filter(E=>E.status!=="pending").length,")"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(rt,{value:"sent",children:["الطلبات المرسلة (",a.length,")"]}),e.jsxs(rt,{value:"history",children:["السجل (",a.filter(E=>["accepted","rejected"].includes(E.status)).length,")"]})]})}),e.jsx(jt,{value:h,className:"space-y-6",children:c?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.length>0?e.jsx("div",{className:"space-y-4",children:a.filter(E=>h==="received"?E.status==="pending":h==="processed"?E.status!=="pending":h==="history"?["accepted","rejected"].includes(E.status):!0).map(E=>e.jsx(k,{request:E},E.id))}):e.jsx($,{children:e.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(ni,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد طلبات"}),e.jsx("p",{className:"text-muted-foreground text-center",children:t==="provider"?"لم تستلم أي طلبات ربط خدمات حتى الآن":"لم ترسل أي طلبات ربط خدمات حتى الآن"})]})})})]})]})}),e.jsx(nt,{})]})},lq=()=>{const{eventId:s}=Qh(),t=ar(),{user:r,userRole:n}=Ct(),{toast:a}=is(),[o,c]=x.useState(null),[d,h]=x.useState([]),[f,m]=x.useState(!0),[p,j]=x.useState(""),[w,S]=x.useState("all");x.useEffect(()=>{s&&r&&v()},[s,r]);const v=async()=>{try{const{data:_,error:k}=await L.from("events").select("*").eq("id",s).single();if(k)throw k;if(_.organizer_id!==r?.id&&n!=="admin"){a({title:"غير مصرح",description:"ليس لديك صلاحية لعرض المشاركين",variant:"destructive"}),t("/dashboard");return}c(_);const{data:E,error:P}=await L.from("bookings").select(`
          *,
          profiles:user_id (
            full_name,
            avatar_url,
            phone
          ),
          tickets (
            id,
            ticket_number,
            holder_name,
            status,
            checked_in_at
          )
        `).eq("event_id",s).order("created_at",{ascending:!1});if(P)throw P;h(E||[])}catch(_){console.error("Error fetching data:",_),a({title:"خطأ",description:"حدث خطأ أثناء تحميل البيانات",variant:"destructive"})}finally{m(!1)}},y=d.filter(_=>{const k=_.profile?.full_name?.toLowerCase().includes(p.toLowerCase())||_.booking_reference.toLowerCase().includes(p.toLowerCase());return w==="all"?k:w==="confirmed"?k&&_.status==="confirmed":w==="pending"?k&&_.status==="pending":w==="checked-in"?k&&_.tickets?.some(E=>E.checked_in_at):k}),b=_=>{const k={confirmed:{label:"مؤكد",variant:"default",icon:Lt},pending:{label:"في الانتظار",variant:"secondary",icon:nr},cancelled:{label:"ملغي",variant:"destructive",icon:ci}},E=k[_]||k.pending,P=E.icon;return e.jsxs(ge,{variant:E.variant,className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"}),E.label]})};return f?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}),e.jsx(nt,{})]}):o?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(A,{variant:"outline",onClick:()=>t("/manage-events"),className:"mb-4",children:[e.jsx(Dh,{className:"w-4 h-4 mr-2"}),"العودة لإدارة الفعاليات"]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:o.title_ar}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"إدارة المشاركين في الفعالية"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:o.current_attendees}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"مسجل"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:o.max_attendees||"∞"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"الحد الأقصى"})]})]})]})]}),e.jsxs($,{children:[e.jsxs(Z,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5"}),"المشاركون (",y.length,")"]}),e.jsx(Je,{children:"قائمة بجميع الأشخاص المسجلين في هذه الفعالية"})]}),e.jsxs(B,{children:[e.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(an,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Re,{placeholder:"البحث بالاسم أو رقم الحجز...",value:p,onChange:_=>j(_.target.value),className:"pl-10"})]})}),e.jsx(Hr,{value:w,onValueChange:S,className:"mb-6",children:e.jsxs(Dr,{className:"grid w-full grid-cols-4",children:[e.jsxs(rt,{value:"all",children:["الكل (",d.length,")"]}),e.jsxs(rt,{value:"confirmed",children:["مؤكد (",d.filter(_=>_.status==="confirmed").length,")"]}),e.jsxs(rt,{value:"pending",children:["في الانتظار (",d.filter(_=>_.status==="pending").length,")"]}),e.jsxs(rt,{value:"checked-in",children:["حضر (",d.filter(_=>_.tickets?.some(k=>k.checked_in_at)).length,")"]})]})}),e.jsxs("div",{className:"space-y-4",children:[y.map(_=>e.jsx($,{children:e.jsxs(B,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Xi,{className:"h-12 w-12",children:[e.jsx(Ji,{src:_.profile?.avatar_url||""}),e.jsx(eo,{children:_.profile?.full_name?.charAt(0)||"م"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"font-semibold",children:_.profile?.full_name||"مشارك مجهول"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["#",_.booking_reference]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[_.quantity," تذكرة"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[_.total_amount," ر.س"]})]}),_.profile?.phone&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(En,{className:"w-3 h-3"}),_.profile.phone]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[b(_.status),_.tickets?.some(k=>k.checked_in_at)&&e.jsx(ge,{variant:"outline",className:"text-green-600",children:"حضر"})]})]}),_.tickets&&_.tickets.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"التذاكر:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:_.tickets.map(k=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[e.jsx("span",{className:"text-sm",children:k.holder_name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",k.ticket_number]}),k.checked_in_at?e.jsx(ge,{variant:"outline",className:"text-green-600 text-xs",children:"حضر"}):e.jsx(ge,{variant:"outline",className:"text-xs",children:"لم يحضر"})]})]},k.id))})]})]})},_.id)),y.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_t,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد نتائج"}),e.jsx("p",{className:"text-muted-foreground",children:p?"لم يتم العثور على مشاركين يطابقون البحث":"لا يوجد مشاركون في هذه الفعالية بعد"})]})]})]})]})]}),e.jsx(nt,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(et,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"الفعالية غير موجودة"}),e.jsx(A,{onClick:()=>t("/dashboard"),children:"العودة للوحة التحكم"})]})}),e.jsx(nt,{})]})},cq=new NM,dq=()=>e.jsx(SM,{client:cq,children:e.jsx(JD,{children:e.jsx(HT,{children:e.jsxs(V5,{children:[e.jsx(UR,{}),e.jsx(pA,{}),e.jsx(_O,{children:e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsx(qT,{children:e.jsxs(z5,{children:[e.jsx(B6,{}),e.jsx(q5,{children:e.jsxs(xO,{children:[e.jsx(bt,{path:"/",element:e.jsx(mz,{})}),e.jsx(bt,{path:"/explore",element:e.jsx(pz,{})}),e.jsx(bt,{path:"/services",element:e.jsx(xz,{})}),e.jsx(bt,{path:"/event/:id",element:e.jsx(Ez,{})}),e.jsx(bt,{path:"/service/:id",element:e.jsx(Pz,{})}),e.jsx(bt,{path:"/auth",element:e.jsx(Oz,{})}),e.jsx(bt,{path:"/account-type",element:e.jsx(ms,{requireAuth:!0,children:e.jsx(Iz,{})})}),e.jsx(bt,{path:"/dashboard",element:e.jsx(ms,{requireAuth:!0,children:e.jsx(Lz,{})})}),e.jsx(bt,{path:"/profile",element:e.jsx(ms,{requireAuth:!0,children:e.jsx(Fz,{})})}),e.jsx(bt,{path:"/settings",element:e.jsx(ms,{requireAuth:!0,children:e.jsx(Vz,{})})}),e.jsx(bt,{path:"/create-event",element:e.jsx(ms,{requireAuth:!0,requiredRole:["organizer","admin"],children:e.jsx(OB,{})})}),e.jsx(bt,{path:"/edit-event/:id",element:e.jsx(ms,{requireAuth:!0,requiredRole:["organizer","admin"],children:e.jsx(LB,{})})}),e.jsx(bt,{path:"/create-service",element:e.jsx(ms,{requireAuth:!0,requiredRole:["provider","admin"],children:e.jsx($B,{})})}),e.jsx(bt,{path:"/wallet",element:e.jsx(ms,{requireAuth:!0,children:e.jsx(BB,{})})}),e.jsx(bt,{path:"/points",element:e.jsx(ms,{requireAuth:!0,children:e.jsx(QB,{})})}),e.jsx(bt,{path:"/my-events",element:e.jsx(ms,{requireAuth:!0,requiredRole:"attendee",children:e.jsx(ZB,{})})}),e.jsx(bt,{path:"/manage-events",element:e.jsx(ms,{requireAuth:!0,requiredRole:["organizer","admin"],children:e.jsx(XB,{})})}),e.jsx(bt,{path:"/manage-services",element:e.jsx(ms,{requireAuth:!0,requiredRole:["provider","admin"],children:e.jsx(JB,{})})}),e.jsx(bt,{path:"/help",element:e.jsx(Q7,{})}),e.jsx(bt,{path:"/contact",element:e.jsx(Z7,{})}),e.jsx(bt,{path:"/safety",element:e.jsx(X7,{})}),e.jsx(bt,{path:"/terms",element:e.jsx(J7,{})}),e.jsx(bt,{path:"/privacy",element:e.jsx(eq,{})}),e.jsx(bt,{path:"/refund",element:e.jsx(tq,{})}),e.jsx(bt,{path:"/admin",element:e.jsx(ms,{requireAuth:!0,requiredRole:"admin",children:e.jsx(x7,{})})}),e.jsx(bt,{path:"/organizer-dashboard",element:e.jsx(ms,{requireAuth:!0,requiredRole:"organizer",children:e.jsx(j7,{})})}),e.jsx(bt,{path:"/provider-dashboard",element:e.jsx(ms,{requireAuth:!0,requiredRole:"provider",children:e.jsx(w7,{})})}),e.jsx(bt,{path:"/attendee-dashboard",element:e.jsx(ms,{requireAuth:!0,requiredRole:"attendee",children:e.jsx(b7,{})})}),e.jsx(bt,{path:"/groups",element:e.jsx(ms,{requireAuth:!0,children:e.jsx(z7,{})})}),e.jsx(bt,{path:"/notifications",element:e.jsx(ms,{requireAuth:!0,children:e.jsx(U7,{})})}),e.jsx(bt,{path:"/qr-scanner",element:e.jsx(ms,{requireAuth:!0,requiredRole:["organizer","admin"],children:e.jsx(B7,{})})}),e.jsx(bt,{path:"/checkout",element:e.jsx(nq,{})}),e.jsx(bt,{path:"/checkout/success",element:e.jsx(aq,{})}),e.jsx(bt,{path:"/tickets",element:e.jsx(ms,{requireAuth:!0,children:e.jsx(iq,{})})}),e.jsx(bt,{path:"/service-requests",element:e.jsx(ms,{requireAuth:!0,requiredRole:["organizer","provider","admin"],children:e.jsx(oq,{})})}),e.jsx(bt,{path:"/event/:eventId/participants",element:e.jsx(ms,{requireAuth:!0,requiredRole:["organizer","admin"],children:e.jsx(lq,{})})}),e.jsx(bt,{path:"*",element:e.jsx(sq,{})})]})})]})})})})]})})})});EP.createRoot(document.getElementById("root")).render(e.jsx(RP,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:e.jsx(dq,{})}));
